{"ast":null,"code":"import axios from 'axios';\nimport React, { useState, useRef, useEffect } from 'react';\nimport { setConfiguration, Row, Col } from 'react-grid-system';\nimport _ from 'lodash-es';\nimport { CloseOutlined, UnorderedListOutlined, SettingOutlined } from '@ant-design/icons';\nimport { animateScroll } from 'react-scroll';\nimport { WebSocket } from 'nextjs-websocket';\nvar getMessages = function getMessages(host, headers, chatId, messageCount, callback) {\n  axios.get(host + \"/chats/\" + chatId + \"/messages/latest/\" + messageCount + \"/\", {\n    headers: headers\n  }).then(function (response) {\n    // props.onGetMessages && props.onGetMessages(chatId, response.data)\n    callback(chatId, response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Latest Messages Error', error);\n  });\n};\nvar newMessage = function newMessage(host, headers, chatId, message, callback) {\n  if (!chatId) return;\n  var formdata = new FormData();\n  if (message.attachments.length > 0) {\n    for (var i = 0; i < message.attachments.length; i++) {\n      formdata.append('attachments', message.attachments[i].blob, message.attachments[i].file);\n    }\n  }\n  message.text !== null && formdata.append('text', message.text);\n  formdata.append('created', message.created);\n  formdata.append('sender_username', message.sender_username);\n  formdata.append('custom_json', JSON.stringify({}));\n  axios.post(host + \"/chats/\" + chatId + \"/messages/\", formdata, {\n    headers: headers\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('New Message Error', error);\n  });\n};\nvar readMessage = function readMessage(host, headers, chatId, messageId, callback) {\n  axios.patch(host + \"/chats/\" + chatId + \"/people/\", {\n    last_read: messageId\n  }, {\n    headers: headers\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Read Message Error', error);\n  });\n};\nvar getChat = function getChat(host, headers, chatId, callback) {\n  axios.get(host + \"/chats/\" + chatId + \"/\", {\n    headers: headers\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Get Chat Error', error);\n  });\n};\nvar deleteChat = function deleteChat(host, headers, chatId, callback) {\n  axios[\"delete\"](host + \"/chats/\" + chatId + \"/\", {\n    headers: headers\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Chat Error', error);\n  });\n};\nvar getChatsBefore = function getChatsBefore(host, headers, before, chatCount, callback) {\n  axios.put(host + \"/chats/latest/\" + chatCount + \"/\", {\n    before: before\n  }, {\n    headers: headers\n  }).then(function (response) {\n    // props.onGetChats && props.onGetChats(response.data);\n    callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Chats Before Error', error);\n  });\n};\nvar getOrCreateChat = function getOrCreateChat(host, headers, data, callback) {\n  if (host === void 0) {\n    host = 'https://api.chatengine.io';\n  }\n  axios.put(host + \"/chats/\", data, {\n    headers: headers\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Get or Create Chat Error', error);\n  });\n};\nvar newChat = function newChat(host, headers, title, callback) {\n  if (!title) return;\n  axios.post(host + \"/chats/\", {\n    title: title\n  }, {\n    headers: headers\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('New Chat Error', error);\n  });\n};\nvar getPeopleToInvite = function getPeopleToInvite(host, headers, chatId, callback) {\n  axios.get(host + \"/chats/\" + chatId + \"/others/\", {\n    headers: headers\n  }).then(function (response) {\n    // props.onGetOtherPeople && props.onGetOtherPeople(chatId, response.data)\n    callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch People to Invite Error', error);\n  });\n};\nvar invitePerson = function invitePerson(host, headers, chatId, username, callback) {\n  axios.post(host + \"/chats/\" + chatId + \"/people/\", {\n    username: username\n  }, {\n    headers: headers\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Invite Person Error', error);\n  });\n};\nvar removePerson = function removePerson(host, headers, chatId, username, callback) {\n  axios.put(host + \"/chats/\" + chatId + \"/people/\", {\n    username: username\n  }, {\n    headers: headers\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Remove Person Error', error);\n  });\n};\nfunction _regeneratorRuntime() {\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  _regeneratorRuntime = function () {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function (obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n      return ContinueSentinel;\n    }\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function (skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function () {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function (exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function (type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function (record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function (finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function (tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function (iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nvar styles = {\n  style: {\n    position: 'relative',\n    height: '100%'\n  },\n  chatListColumnStyle: {\n    height: '100%',\n    overflowY: 'scroll'\n  },\n  chatFeedColumnStyle: {\n    height: '100%',\n    overflowY: 'scroll',\n    borderRight: '1px solid #afafaf',\n    borderLeft: '1px solid #afafaf'\n  },\n  chatSettingsColumnStyle: {\n    height: '100%',\n    overflowY: 'scroll'\n  },\n  chatListMobileButtonStyle: {\n    position: 'absolute',\n    top: '12px',\n    left: '12px'\n  },\n  chatSettingsMobileButtonStyle: {\n    position: 'absolute',\n    top: '12px',\n    right: '12px'\n  }\n};\nvar styles$1 = {\n  style: {\n    width: '100%',\n    height: '100%',\n    maxHeight: '100vh',\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    backgroundColor: 'white'\n  },\n  loadingMoreChatsStyle: {\n    fontFamily: 'Avenir',\n    textAlign: 'center',\n    backgroundColor: '#e2e2e2',\n    margin: '4px',\n    paddingTop: '14px',\n    paddingBottom: '14px',\n    borderRadius: '4px'\n  }\n};\nvar styles$2 = {\n  style: {\n    position: 'relative',\n    height: '64px',\n    width: '100%',\n    backgroundColor: 'white'\n  },\n  titleStyle: {\n    // Position\n    position: 'absolute',\n    top: '16px',\n    left: '14px',\n    // Size\n    fontSize: '26px',\n    // Style\n    fontFamily: 'Avenir',\n    fontWeight: 600\n  },\n  inputStyle: {\n    // Position\n    position: 'absolute',\n    top: '15px',\n    left: '14px',\n    // Size\n    width: 'calc(100% - 28px)'\n  },\n  buttonStyle: {\n    // Position\n    position: 'absolute',\n    top: '15px',\n    right: '14px',\n    // Style\n    fontFamily: 'Avenir',\n    fontWeight: 600\n  }\n};\nvar styles$3 = {\n  style: {\n    fontFamily: 'Avenir',\n    color: '#1890ff',\n    border: '1px solid #1890ff',\n    outline: 'none',\n    height: '36px',\n    fontSize: '15px',\n    cursor: 'pointer',\n    padding: '8px 16px',\n    borderRadius: '33px',\n    backgroundColor: 'white',\n    transition: 'all .44s ease',\n    WebkitTransition: 'all .44s ease',\n    MozTransition: 'all .44s ease'\n  },\n  hoveredStyle: {\n    opacity: '0.73'\n  }\n};\nvar Button = function Button(props) {\n  var _props$type = props.type,\n    type = _props$type === void 0 ? 'default' : _props$type;\n  var _useState = useState(false),\n    hovered = _useState[0],\n    setHovered = _useState[1];\n  var getTypeStyle = function getTypeStyle() {\n    if (type == 'primary') {\n      return primaryStyle;\n    } else if (type === 'danger') {\n      return dangerStyle;\n    } else {\n      return {};\n    }\n  };\n  var typeStyle = getTypeStyle();\n  return React.createElement(\"button\", {\n    onClick: props.onClick,\n    className: \"ce-\" + type + \"-button \" + props.className,\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    },\n    style: _extends({}, styles$3.style, typeStyle, hovered ? styles$3.hoveredStyle : {}, props.style, hovered ? props.hoveredStyle : {})\n  }, props.children);\n};\nvar primaryStyle = {\n  color: 'white',\n  border: 'none',\n  backgroundColor: '#1890ff'\n};\nvar dangerStyle = {\n  color: '#f5222d',\n  backgroundColor: 'white',\n  border: '1px solid #f5222d'\n};\nvar styles$4 = {\n  style: {\n    fontFamily: 'Avenir',\n    height: '36px',\n    fontSize: '15px',\n    outline: 'none',\n    borderRadius: '24px',\n    border: '1px solid #d9d9d9',\n    padding: '0px 12px',\n    boxSizing: 'border-box',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease'\n  },\n  focusStyle: {\n    border: '1px solid #1890ff'\n  }\n};\nvar Input = function Input(props) {\n  var didMountRef = useRef(false);\n  var _useState = useState(''),\n    currentValue = _useState[0],\n    setCurrentValue = _useState[1];\n  var _useState2 = useState(false),\n    focused = _useState2[0],\n    setFocused = _useState2[1];\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      if (props.defaultValue) {\n        var event = {\n          target: {\n            value: currentValue\n          }\n        };\n        props.onChange && props.onChange(event);\n        setCurrentValue(props.defaultValue);\n      }\n    }\n  });\n  return React.createElement(\"input\", {\n    autoFocus: props.autoFocus,\n    className: \"ce-input ce-text-input \" + props.className,\n    placeholder: props.label,\n    value: typeof props.value === 'string' ? props.value : currentValue,\n    onChange: function onChange(e) {\n      setCurrentValue(e.target.value);\n      props.onChange && props.onChange(e);\n    },\n    onFocus: function onFocus(e) {\n      setFocused(true);\n      props.onFocus && props.onFocus(e);\n    },\n    onBlur: function onBlur(e) {\n      setFocused(false);\n      props.onBlur && props.onBlur(e);\n    },\n    style: _extends({}, styles$4.style, focused ? styles$4.focusStyle : {}, props.style, focused ? props.focusStyle : {})\n  });\n};\nvar ChatForm = function ChatForm(props) {\n  var _useState = useState(false),\n    selected = _useState[0],\n    setSelected = _useState[1];\n  var _useState2 = useState(''),\n    value = _useState2[0],\n    setValue = _useState2[1];\n  var onSubmit = function onSubmit(event) {\n    event.preventDefault();\n    props.onFormSubmit && props.onFormSubmit(value);\n    setValue('');\n  };\n  var onChange = function onChange(event) {\n    setValue(event.target.value);\n  };\n  if (props.renderChatForm) {\n    return React.createElement(React.Fragment, null, props.renderChatForm(props));\n  }\n  return React.createElement(\"div\", {\n    className: \"ce-chat-form\",\n    style: _extends({}, styles$2.style, props.style)\n  }, React.createElement(\"span\", {\n    className: \"ce-chat-form-title\",\n    style: _extends({}, styles$2.titleStyle, props.titleStyle)\n  }, \"My Chats\"), React.createElement(Button, {\n    style: _extends({}, styles$2.buttonStyle, props.buttonStyle),\n    className: \"ce-chat-form-button\",\n    onClick: function onClick() {\n      return setSelected(true);\n    }\n  }, \"+\"), React.createElement(\"form\", {\n    className: \"ce-chat-form-html-form\",\n    onSubmit: onSubmit\n  }, React.createElement(Input, {\n    autoFocus: true,\n    value: value,\n    label: \"Chat Title\",\n    className: \"ce-chat-form-input\",\n    style: _extends({}, styles$2.inputStyle, {\n      visibility: selected ? 'visible' : 'hidden'\n    }, props.inputStyle),\n    onChange: onChange,\n    onBlur: function onBlur() {\n      return setSelected(false);\n    }\n  })));\n};\nvar colors = ['#D64045', '#5B3000', '#00CC99', '#467599', '#1D3354', '#8F250C', '#6153CC', '#961D4E', '#A29F15', '#0CAADC', '#FF5154', '#FA7921', '#688E26', '#550527', '#A10702', '#FF1053', '#6C6EA0', '#100B00'];\nvar stringToNumber = function stringToNumber(str) {\n  var sum = 0;\n  for (var i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n  return sum;\n};\nvar stringToColor = function stringToColor(str) {\n  if (!str) {\n    return 'black';\n  } else {\n    return colors[stringToNumber(str) % colors.length];\n  }\n};\nvar styles$5 = {\n  style: {\n    // Position\n    position: 'relative',\n    // Size\n    width: '44px',\n    height: '44px',\n    // Style\n    borderRadius: '50%',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center',\n    backgroundSize: '48px',\n    // Text Style\n    color: 'white',\n    textAlign: 'center',\n    fontFamily: 'Avenir',\n    fontSize: '15px',\n    lineHeight: '44px',\n    fontWeight: 600\n  },\n  statusStyle: {\n    // Position\n    position: 'absolute',\n    top: '0px',\n    right: '0px',\n    // Style\n    width: '8px',\n    height: '8px',\n    borderRadius: '100%',\n    border: '2px solid white'\n  }\n};\nvar Avatar = function Avatar(props) {\n  // Save Copy of URL to avoid flickering\n  var _useState = useState(''),\n    localAvatar = _useState[0],\n    setLocalAvatar = _useState[1];\n  var _props$username = props.username,\n    username = _props$username === void 0 ? '' : _props$username,\n    _props$avatarUrl = props.avatarUrl,\n    avatarUrl = _props$avatarUrl === void 0 ? '' : _props$avatarUrl;\n  var text = username ? username.substring(0, 2).toUpperCase() : '';\n  var color = stringToColor(username);\n  useEffect(function () {\n    var newAvatar = avatarUrl !== null ? avatarUrl : '';\n    if (newAvatar.split('?')[0] !== localAvatar.split('?')[0]) {\n      setLocalAvatar(newAvatar);\n    }\n  });\n  var avatarUrlStyle = {\n    backgroundColor: localAvatar.length > 0 ? '#FFFFFF' : color,\n    backgroundImage: localAvatar.length > 0 && \"url(\" + localAvatar + \")\"\n  };\n  return React.createElement(\"div\", {\n    className: \"ce-avatar \" + props.className,\n    onClick: props.onClick,\n    style: _extends({}, styles$5.style, avatarUrlStyle, props.style)\n  }, localAvatar.length === 0 && text, React.createElement(\"div\", {\n    className: \"ce-avatar-status\",\n    style: _extends({}, styles$5.statusStyle, {\n      display: props.isOnline === undefined ? 'none' : 'auto',\n      backgroundColor: props.isOnline ? '#52c41a' : '#f5222d'\n    }, props.statusStyle)\n  }));\n};\nvar styles$6 = {\n  style: {\n    position: 'relative',\n    height: '76px',\n    borderRadius: '12px',\n    cursor: 'pointer',\n    transition: 'all .44s ease',\n    WebkitTransition: 'all .44s ease',\n    MozTransition: 'all .44s ease'\n  },\n  hoveredStyle: {\n    backgroundColor: '#f5f5f5',\n    border: '0px solid white'\n  },\n  activeStyle: {\n    backgroundColor: '#d9d9d9',\n    border: '0px solid white'\n  },\n  avatarStyle: {\n    position: 'absolute',\n    top: '16px',\n    left: '12px'\n  },\n  titleStyle: {\n    // Position\n    position: 'absolute',\n    top: '12px',\n    left: '68px',\n    // Size\n    width: 'calc(100% - 68px - 32px)',\n    // Font\n    fontWeight: 500,\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    fontFamily: 'Avenir'\n  },\n  notificationStyle: {\n    // Position\n    position: 'absolute',\n    top: 'calc(12px + 6px)',\n    right: '12px',\n    // Style\n    width: '12px',\n    height: '12px',\n    borderRadius: '6px',\n    backgroundColor: '#1890ff',\n    \"float\": 'right'\n  },\n  subtitleStyle: {\n    // Position\n    position: 'absolute',\n    bottom: '12px',\n    left: '68px',\n    // Size\n    width: 'calc(70% - 68px)',\n    // Style\n    color: 'rgba(153, 153, 153, 1)',\n    fontSize: '14px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    fontFamily: 'Avenir'\n  },\n  timeStampStyle: {\n    // Position\n    position: 'absolute',\n    bottom: '12px',\n    right: '12px',\n    // Size\n    width: '20%',\n    // Style\n    textAlign: 'right',\n    color: 'rgba(153, 153, 153, 1)',\n    fontSize: '14px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    fontFamily: 'Avenir'\n  },\n  loadingBarStyle: {\n    borderRadius: '4px',\n    backgroundColor: '#e2e2e2',\n    color: '#e2e2e2'\n  }\n};\nvar ChatCard = function ChatCard(props) {\n  var _props$title = props.title,\n    title = _props$title === void 0 ? '' : _props$title,\n    _props$description = props.description,\n    description = _props$description === void 0 ? '' : _props$description,\n    _props$timeStamp = props.timeStamp,\n    timeStamp = _props$timeStamp === void 0 ? '' : _props$timeStamp;\n  var _useState = useState(false),\n    hovered = _useState[0],\n    setHovered = _useState[1];\n  var loadingBarStyle = props.isLoading ? _extends({}, styles$6.loadingBarStyle, props.loadingBarStyle) : {};\n  var hasNotificationStyle = props.hasNotification ? {} : {\n    display: 'none'\n  };\n  if (props.renderChatCard) {\n    return React.createElement(React.Fragment, null, props.renderChatCard(props));\n  }\n  return React.createElement(\"div\", {\n    onClick: props.onClick,\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    },\n    style: _extends({}, styles$6.style, hovered ? styles$6.hoveredStyle : {}, props.isActive ? styles$6.activeStyle : {}, props.style, hovered ? props.hoveredStyle : {}, props.isActive ? props.activeStyle : {}),\n    className: \"\\n        ce-chat-card \\n        \" + (props.isActive && 'ce-active-chat-card') + \" \\n        \" + (hovered && 'ce-hovered-chat-card') + \"\\n      \"\n  }, props.renderAvatar ? props.renderAvatar(props) : React.createElement(Avatar, {\n    username: props.avatarUsername,\n    avatarUrl: props.avatarUrl,\n    className: \"ce-chat-card-avatar\",\n    style: _extends({}, styles$6.avatarStyle, {\n      backgroundColor: props.isLoading ? '#e2e2e2' : stringToColor(props.avatarUsername)\n    }, props.avatarStyle)\n  }), React.createElement(\"div\", {\n    className: \"ce-chat-card-title \" + (props.isLoading && 'ce-chat-card-title-loading ce-chat-card-loading'),\n    style: _extends({}, styles$6.titleStyle, loadingBarStyle, props.titleStyle),\n    id: \"ce-chat-card-title-\" + title\n  }, props.isLoading ? '.' : title), React.createElement(\"div\", {\n    className: \"ce-chat-card-unread \" + (props.isLoading && 'ce-chat-card-unread-loading ce-chat-card-loading'),\n    style: _extends({}, styles$6.notificationStyle, hasNotificationStyle, loadingBarStyle, props.notificationStyle)\n  }), React.createElement(\"div\", {\n    className: \"ce-chat-card-subtitle \" + (props.isLoading && 'ce-chat-card-subtitle-loading ce-chat-card-loading'),\n    style: _extends({}, styles$6.subtitleStyle, loadingBarStyle, props.subtitleStyle)\n  }, React.createElement(\"div\", {\n    className: \"ce-chat-card-subtitle-html \" + (props.isLoading && 'ce-chat-card-subtitle-html-loading ce-chat-card-loading'),\n    dangerouslySetInnerHTML: {\n      __html: props.isLoading ? '.' : description\n    }\n  }), React.createElement(\"style\", null, \"p {margin-block-start: 0px; margin-block-end: 0px;}\")), React.createElement(\"div\", {\n    className: \"ce-chat-card-time-stamp \" + (props.isLoading && 'ce-chat-card-time-stamp-loading ce-chat-card-loading'),\n    style: _extends({}, styles$6.timeStampStyle, loadingBarStyle, props.timeStampStyle)\n  }, props.isLoading ? '.' : timeStamp));\n};\nvar styles$7 = {\n  style: {\n    fontFamily: 'Avenir'\n  }\n};\nvar RenderTrigger = function RenderTrigger(props) {\n  var _props$children = props.children,\n    children = _props$children === void 0 ? 'Loading...' : _props$children;\n  var useOnScreen = function useOnScreen(ref) {\n    var _useState = useState(false),\n      isIntersecting = _useState[0],\n      setIntersecting = _useState[1];\n    var observer = new IntersectionObserver(function (_ref) {\n      var entry = _ref[0];\n      setIntersecting(entry.isIntersecting);\n      if (entry.isIntersecting) {\n        props.onShow && props.onShow();\n      } else {\n        props.onHide && props.onHide();\n      }\n    });\n    useEffect(function () {\n      observer.observe(ref.current);\n      return function () {\n        return observer.disconnect();\n      };\n    }, []);\n    return isIntersecting;\n  };\n  var ref = useRef(null);\n  ref !== null && useOnScreen(ref);\n  return React.createElement(\"div\", {\n    ref: ref,\n    style: _extends({}, styles$7.style, props.style),\n    className: \"ce-chat-loader\"\n  }, children);\n};\nvar getDateTime = function getDateTime(date, timezoneOffset) {\n  if (timezoneOffset === void 0) {\n    timezoneOffset = 0;\n  }\n  date = date.replace(/ /g, 'T');\n  var year = date.substr(0, 4);\n  var month = date.substr(5, 2);\n  var day = date.substr(8, 2);\n  var hour = date.substr(11, 2);\n  var minute = date.substr(14, 2);\n  var second = date.substr(17, 2);\n  var d = new Date(year + \"-\" + month + \"-\" + day + \"T\" + hour + \":\" + minute + \":\" + second);\n  d.setHours(d.getHours() + timezoneOffset);\n  return d;\n};\nfunction formatTime(dateTime) {\n  var time = dateTime.toLocaleString('en-US');\n  return time.split(' ')[1].slice(0, -3) + ' ' + time.slice(-2);\n}\nfunction formatDateTime(dateTime) {\n  return dateTime.toLocaleString('en-US');\n}\nvar styles$8 = {\n  style: {\n    width: '1em',\n    height: '1em'\n  }\n};\nvar Spinner = function Spinner(props) {\n  return React.createElement(\"svg\", {\n    viewBox: \"0 0 1024 1024\",\n    focusable: \"false\",\n    \"aria-hidden\": \"true\",\n    className: \"ce-spinner\",\n    style: _extends({}, styles$8.style, props.style)\n  }, React.createElement(\"path\", {\n    d: \"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z\"\n  }), React.createElement(\"style\", null, \"\\n      .ce-spinner {\\n        animation-name: spin;\\n        animation-duration: 950ms;\\n        animation-iteration-count: infinite;\\n        animation-timing-function: linear; \\n      }\\n      @keyframes spin {\\n        from { transform:rotate(0deg); }\\n        to { transform:rotate(360deg); }\\n      }\\n      \"));\n};\nvar readLastMessage = function readLastMessage(username, chat) {\n  return chat.people.some(function (chatPerson) {\n    return chatPerson.person.username === username && chatPerson.last_read === chat.last_message.id;\n  });\n};\nvar renderLoading = function renderLoading() {\n  return [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1].map(function (_, i) {\n    return React.createElement(ChatCard, {\n      key: \"chat_\" + i,\n      isLoading: true\n    });\n  });\n};\nvar getDescription = function getDescription(chat) {\n  if (!chat.last_message.id) {\n    return 'Say hello!';\n  }\n  if (chat.last_message.text === null) {\n    return chat.last_message.attachments.length + \" attachments\";\n  }\n  return chat.last_message.text;\n};\nvar ChatList = function ChatList(props) {\n  var _props$activeChatId = props.activeChatId,\n    activeChatId = _props$activeChatId === void 0 ? -1 : _props$activeChatId;\n  var renderChats = function renderChats(chats) {\n    return chats.map(function (chat, index) {\n      var _chat$last_message$se;\n      var otherPerson = chat && chat.people.find(function (person) {\n        return person.person.username !== props.username;\n      });\n      var title = !chat ? '' : chat.is_direct_chat && otherPerson ? otherPerson.person.username : chat.title;\n      var timeStamp = getDateTime(chat.created, props.timezoneOffset).toString().substr(4, 6);\n      var hasNotification = props.username ? !readLastMessage(props.username, chat) : false;\n      return React.createElement(ChatCard, {\n        key: \"chat_\" + index,\n        chat: chat,\n        title: title,\n        description: getDescription(chat),\n        timeStamp: timeStamp,\n        isActive: activeChatId === chat.id,\n        hasNotification: hasNotification,\n        onClick: function onClick() {\n          return props.onChatCardClick && props.onChatCardClick(chat.id);\n        },\n        avatarUsername: (_chat$last_message$se = chat.last_message.sender) == null ? void 0 : _chat$last_message$se.username,\n        avatarUrl: chat.last_message.sender ? chat.last_message.sender.avatar : 'https://chat-engine-assets.s3.amazonaws.com/empty-chat-thumb.png',\n        renderChatCard: props.renderChatCard\n      });\n    });\n  };\n  if (props.renderChatList) {\n    return React.createElement(React.Fragment, null, props.renderChatList(props));\n  }\n  return React.createElement(\"div\", {\n    className: \"ce-chat-list\",\n    style: _extends({}, styles$1.style, props.isLoading ? {\n      overflowY: 'hidden'\n    } : {}, props.style)\n  }, React.createElement(ChatForm, {\n    onFormSubmit: props.onChatFormSubmit,\n    renderChatForm: props.renderChatForm\n  }), props.isLoading ? renderLoading() : renderChats(props.chats), props.hasMoreChats && React.createElement(RenderTrigger, {\n    onShow: props.onChatLoaderShow,\n    style: _extends({}, styles$1.loadingMoreChatsStyle, props.loadingMoreChatsStyle),\n    children: React.createElement(Spinner, null)\n  }));\n};\nvar styles$9 = {\n  style: {\n    height: '100%',\n    position: 'relative',\n    backgroundColor: 'white'\n  },\n  chatHeaderStyle: {},\n  messageListStyle: {\n    height: 'calc(100% - 85px - 48px)',\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    position: 'relative',\n    backgroundColor: 'white'\n  },\n  messageFormStyle: {\n    width: '100%',\n    position: 'absolute',\n    bottom: '0px'\n  }\n};\nvar styles$a = {\n  style: {\n    width: '100%',\n    zIndex: 1,\n    backgroundColor: 'rgb(256, 256, 256, 0.92)',\n    padding: '18px 0px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)',\n    overflowX: 'hidden'\n  },\n  titleStyle: {\n    width: '100%',\n    fontFamily: 'Avenir',\n    fontSize: '24px',\n    fontWeight: 600\n  },\n  subtitleStyle: {\n    width: '100%',\n    fontFamily: 'Avenir',\n    fontSize: '12px'\n  },\n  mobileOptionStyle: {\n    width: '100%',\n    top: '32px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)',\n    overflow: 'hidden'\n  }\n};\nsetConfiguration({\n  maxScreenClass: 'xl',\n  gutterWidth: 0\n});\nvar ChatHeader = function ChatHeader(props) {\n  var _props$id = props.id,\n    id = _props$id === void 0 ? '' : _props$id,\n    _props$title = props.title,\n    title = _props$title === void 0 ? '' : _props$title,\n    _props$description = props.description,\n    description = _props$description === void 0 ? '' : _props$description;\n  if (props.renderChatHeader) {\n    return React.createElement(React.Fragment, null, props.renderChatHeader(props));\n  }\n  return React.createElement(Row, {\n    className: \"ce-chat-header\",\n    style: _extends({}, styles$a.style, props.style)\n  }, React.createElement(Col, {\n    xs: 2,\n    sm: 0,\n    className: \"ce-chat-header-mobile-option\",\n    style: _extends({}, styles$a.mobileOptionStyle, {\n      left: '6px'\n    }, props.mobileOptionStyle)\n  }), React.createElement(\"div\", {\n    id: \"ce-chat-feed-title-\" + id,\n    className: \"ce-chat-header-title\",\n    style: _extends({}, styles$a.titleStyle, props.titleStyle)\n  }, title), React.createElement(\"div\", {\n    className: \"ce-chat-header-subtitle\",\n    style: _extends({}, styles$a.subtitleStyle, props.subtitleStyle)\n  }, description), React.createElement(Col, {\n    xs: 2,\n    sm: 0,\n    className: \"ce-chat-header-mobile-option\",\n    style: _extends({}, styles$a.mobileOptionStyle, {\n      right: '6px'\n    }, props.mobileOptionStyle)\n  }));\n};\nvar styles$b = {\n  style: {},\n  messageStyle: {}\n};\nvar theirStyles = {\n  style: {\n    width: '100%',\n    position: 'relative'\n  },\n  senderUsernameStyle: {\n    width: 'calc(100% - 64px)',\n    fontFamily: 'Avenir',\n    paddingLeft: '62px',\n    paddingBottom: '2px',\n    color: 'rgba(0, 0, 0, .40)',\n    fontSize: '15px'\n  },\n  attachmentsStyle: {\n    display: 'auto',\n    paddingLeft: '48px',\n    width: 'calc(100% - 48px)'\n  },\n  bodyStyle: {\n    position: 'relative',\n    width: 'calc(100% - 2px)'\n  },\n  timeTagStyle: {\n    marginLeft: '4px',\n    fontSize: '14px',\n    fontFamily: 'Avenir',\n    color: 'rgba(0, 0, 0, 0.4)',\n    // CSS Transitions\n    transition: 'all .15s ease',\n    WebkitTransition: 'all .15s ease',\n    MozTransition: 'all .15s ease'\n  },\n  bubbleStyle: {\n    cursor: 'pointer',\n    display: 'inline-block',\n    color: 'black',\n    padding: '12px',\n    marginLeft: '48px',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    whiteSpace: 'pre-line',\n    backgroundColor: '#f1f0f0',\n    overflowWrap: 'anywhere',\n    maxWidth: 'calc(100% - 100px - 48px)',\n    // CSS Transitions\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease'\n  },\n  readsStyle: {\n    marginLeft: '48px',\n    width: 'calc(100% - 50px)'\n  },\n  readStyle: {\n    marginLeft: '4px',\n    \"float\": 'left'\n  },\n  avatarStyle: {\n    position: 'absolute',\n    bottom: '0px',\n    left: '2px'\n  }\n};\nvar myStyles = {\n  style: {\n    width: '100%',\n    textAlign: 'right'\n  },\n  senderUsernameStyle: {\n    display: 'none'\n  },\n  attachmentsStyle: {\n    display: 'auto',\n    marginLeft: '48px',\n    width: 'calc(100% - 48px)'\n  },\n  bodyStyle: {\n    position: 'relative',\n    width: 'calc(100% - 2px)'\n  },\n  timeTagStyle: {\n    marginRight: '4px',\n    fontSize: '14px',\n    fontFamily: 'Avenir',\n    color: 'rgb(24, 144, 255)',\n    // CSS Transitions\n    transition: 'all .15s ease',\n    WebkitTransition: 'all .15s ease',\n    MozTransition: 'all .15s ease'\n  },\n  bubbleStyle: {\n    color: 'white',\n    display: 'inline-block',\n    backgroundColor: '#1890ff',\n    cursor: 'pointer',\n    textAlign: 'left',\n    // Stay right but render text\n    padding: '12px',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    whiteSpace: 'pre-line',\n    overflowWrap: 'anywhere',\n    maxWidth: 'calc(100% - 100px)',\n    // CSS Transitions\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease'\n  },\n  readsStyle: {\n    width: '100%'\n  },\n  readStyle: {\n    \"float\": 'right',\n    marginLeft: '4px'\n  },\n  avatarStyle: {\n    display: 'none'\n  }\n};\nvar styles$c = {\n  style: {\n    borderRadius: '13px',\n    textAlign: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center',\n    backgroundSize: '14px',\n    // CSS Transitions\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease'\n  }\n};\nvar Dot = function Dot(props) {\n  var _useState = useState(''),\n    localAvatar = _useState[0],\n    setLocalAvatar = _useState[1];\n  var _props$username = props.username,\n    username = _props$username === void 0 ? '' : _props$username,\n    _props$isVisible = props.isVisible,\n    isVisible = _props$isVisible === void 0 ? true : _props$isVisible,\n    _props$avatarUrl = props.avatarUrl,\n    avatarUrl = _props$avatarUrl === void 0 ? '' : _props$avatarUrl;\n  var color = stringToColor(username);\n  useEffect(function () {\n    var newAvatar = avatarUrl !== null ? avatarUrl : '';\n    if (newAvatar.split('?')[0] !== localAvatar.split('?')[0]) {\n      setLocalAvatar(newAvatar);\n    }\n  });\n  return React.createElement(\"div\", {\n    className: \"ce-avatar-dot\",\n    style: _extends({}, styles$c.style, {\n      backgroundColor: localAvatar.length > 0 ? 'white' : color,\n      backgroundImage: localAvatar.length > 0 ? \"url(\" + localAvatar + \")\" : '',\n      width: isVisible ? '13px' : '0px',\n      height: isVisible ? '13px' : '0px'\n    }, props.style)\n  });\n};\nvar styles$d = {\n  style: {\n    width: '100%',\n    fontFamily: 'Avenir',\n    textAlign: 'center',\n    paddingTop: '4px',\n    paddingBottom: '10px',\n    fontSize: '15px',\n    color: 'rgba(0, 0, 0, .40)'\n  }\n};\nvar DateTime = function DateTime(props) {\n  var _props$offset = props.offset,\n    offset = _props$offset === void 0 ? 0 : _props$offset;\n  return React.createElement(\"div\", {\n    className: \"ce-message-date-text\",\n    style: _extends({}, styles$d.style, props.style)\n  }, formatDateTime(getDateTime(props.created, offset)));\n};\nvar styles$e = {\n  style: {\n    cursor: 'pointer',\n    fontFamily: 'Avenir',\n    padding: '12px',\n    borderRadius: '14px',\n    display: 'inline-block',\n    marginRight: '2px',\n    marginBottom: '4px',\n    color: '#434343',\n    backgroundColor: 'white',\n    border: '1px solid #434343',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease'\n  },\n  hoveredStyle: {\n    border: '1px solid #1890ff'\n  }\n};\nvar images = ['jpg', 'jpeg', 'png', 'gif', 'tiff'];\nvar isImage = function isImage(fileName) {\n  var dotSplit = fileName.split('.');\n  return dotSplit.length > 0 && images.indexOf(dotSplit[dotSplit.length - 1].toLowerCase()) !== -1;\n};\nvar getFileName = function getFileName(fileUrl) {\n  var slashSplit = fileUrl.split('/');\n  var nameAndHash = slashSplit[slashSplit.length - 1];\n  return nameAndHash.split('?')[0];\n};\nvar urlOrLoading = function urlOrLoading(url) {\n  return url ? getFileName(url) : 'Loading...';\n};\nvar File = function File(props) {\n  var _useState = useState(false),\n    isHovered = _useState[0],\n    setIsHovered = _useState[1];\n  return React.createElement(\"div\", {\n    onMouseEnter: function onMouseEnter() {\n      return setIsHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setIsHovered(false);\n    },\n    onClick: function onClick() {\n      return props.url && typeof window !== 'undefined' && window.open(props.url);\n    },\n    style: _extends({}, styles$e.style, !props.url ? {\n      border: '1px solid grey'\n    } : {}, isHovered ? styles$e.hoveredStyle : {}, props.style, isHovered ? props.hoveredStyle : {}),\n    className: \"ce-file \" + props.className\n  }, props.fileName ? props.fileName : \"\\uD83D\\uDCC4 \" + urlOrLoading(props.url));\n};\nvar styles$f = {\n  style: {\n    cursor: 'pointer',\n    height: '30vw',\n    width: '30vw',\n    maxHeight: '200px',\n    maxWidth: '200px',\n    minHeight: '100px',\n    minWidth: '100px',\n    padding: '2px',\n    objectFit: 'cover',\n    borderRadius: '0.3em',\n    backgroundColor: 'white',\n    border: '1px solid #434343',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease'\n  },\n  hoveredStyle: {\n    border: '1px solid #1890ff'\n  }\n};\nvar Image = function Image(props) {\n  var url = props.url;\n  var _useState = useState(false),\n    isHovered = _useState[0],\n    setIsHovered = _useState[1];\n  var loadingUrl = 'https://chat-engine-assets.s3.amazonaws.com/loading.gif';\n  return React.createElement(\"img\", {\n    onMouseEnter: function onMouseEnter() {\n      return setIsHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setIsHovered(false);\n    },\n    src: url ? url : loadingUrl,\n    alt: url ? url : loadingUrl,\n    onClick: function onClick() {\n      return url && typeof window !== 'undefined' && window.open(url);\n    },\n    style: _extends({}, styles$f.style, isHovered ? styles$f.hoveredStyle : {}, props.style, isHovered ? props.hoveredStyle : {}),\n    className: \"ce-image \" + props.className\n  });\n};\nvar Message = function Message(props) {\n  var _props$lastMessage = props.lastMessage,\n    lastMessage = _props$lastMessage === void 0 ? null : _props$lastMessage,\n    message = props.message,\n    _props$nextMessage = props.nextMessage,\n    nextMessage = _props$nextMessage === void 0 ? null : _props$nextMessage,\n    _props$chat = props.chat,\n    chat = _props$chat === void 0 ? null : _props$chat,\n    _props$isSending = props.isSending,\n    isSending = _props$isSending === void 0 ? false : _props$isSending,\n    _props$isMyMessage = props.isMyMessage,\n    isMyMessage = _props$isMyMessage === void 0 ? false : _props$isMyMessage,\n    _props$showDateTime = props.showDateTime,\n    showDateTime = _props$showDateTime === void 0 ? false : _props$showDateTime;\n  var _useState = useState(false),\n    hovered = _useState[0],\n    setHovered = _useState[1];\n  var styles = isMyMessage ? myStyles : theirStyles;\n  var topRadius = !lastMessage || lastMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em';\n  var bottomRadius = !nextMessage || nextMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em';\n  var borderStyle = {\n    borderRadius: isMyMessage ? \"1.3em \" + topRadius + \" \" + bottomRadius + \" 1.3em\" : topRadius + \" 1.3em 1.3em \" + bottomRadius\n  };\n  var sendingStyle = isSending ? {\n    backgroundColor: '#40a9ff'\n  } : {};\n  var isLastMessage = !nextMessage || nextMessage.sender_username !== message.sender_username;\n  var paddingBottom = !nextMessage || nextMessage.sender_username !== message.sender_username ? '12px' : '2px';\n  var text = message.text !== null ? message.text.replace(/<a /g, \"<a style=\\\"color: 'white';\\\" \") : '';\n  var renderAttachments = function renderAttachments(renderImage) {\n    var attachments = message && message.attachments ? message.attachments : [];\n    return attachments.map(function (attachment, index) {\n      var fileName = getFileName(attachment.file);\n      if (renderImage && isImage(fileName)) {\n        return React.createElement(Image, {\n          key: \"attachment_\" + index,\n          url: attachment.file !== null && !props.isSending ? attachment.file : undefined,\n          style: _extends({}, styles.attachmentsImageStyle, props.attachmentsImageStyle),\n          className: \"ce-message-image\"\n        });\n      } else if (!renderImage && !isImage(fileName)) {\n        return React.createElement(File, {\n          key: \"attachment_\" + index,\n          url: attachment.file !== null && !props.isSending ? attachment.file : undefined,\n          style: _extends({}, styles.attachmentsFileStyle, props.attachmentsFileStyle),\n          className: \"ce-message-file\"\n        });\n      } else {\n        return React.createElement(\"div\", {\n          key: \"attachment_\" + index\n        });\n      }\n    });\n  };\n  var renderReads = function renderReads() {\n    var chatPeople = chat !== null ? chat.people : [];\n    return chatPeople.map(function (chatPerson, index) {\n      return React.createElement(Dot, {\n        key: \"read_\" + index,\n        avatarUrl: chatPerson.person.avatar,\n        username: chatPerson.person.username,\n        isVisible: message.id === chatPerson.last_read,\n        style: _extends({}, styles.readStyle, props.readStyle)\n      });\n    });\n  };\n  if (props.renderMessage) {\n    return React.createElement(React.Fragment, null, props.renderMessage(props));\n  }\n  return React.createElement(\"div\", {\n    className: \"ce-\" + (isMyMessage ? 'my' : 'their') + \"-message\",\n    style: _extends({}, styles.style, {\n      paddingBottom: paddingBottom\n    }, props.style)\n  }, showDateTime && React.createElement(DateTime, {\n    created: message.created,\n    style: _extends({}, styles.dateTimeStyle, props.dateTimeStyle)\n  }), (lastMessage === null || lastMessage.sender_username !== message.sender_username) && React.createElement(\"div\", {\n    style: _extends({}, styles.senderUsernameStyle, props.senderUsernameStyle),\n    className: \"ce-\" + (isMyMessage ? 'my' : 'their') + \"-message-sender-username\"\n  }, message.sender_username), React.createElement(\"div\", {\n    style: _extends({}, styles.attachmentsStyle, props.attachmentsStyle),\n    className: \"\\n          ce-\" + (isMyMessage ? 'my' : 'their') + \"-message-attachments \\n          ce-\" + (isMyMessage ? 'my' : 'their') + \"-message-images\\n        \"\n  }, renderAttachments(true)), React.createElement(\"div\", {\n    style: _extends({}, styles.attachmentsStyle, props.attachmentsStyle),\n    className: \"\\n            ce-\" + (isMyMessage ? 'my' : 'their') + \"-message-attachments \\n            ce-\" + (isMyMessage ? 'my' : 'their') + \"-message-files\\n          \"\n  }, renderAttachments(false)), message.text !== null && React.createElement(\"div\", {\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    },\n    style: _extends({}, styles.bodyStyle, props.bodyStyle)\n  }, isMyMessage && React.createElement(\"span\", {\n    className: \"ce-my-message-timestamp\",\n    style: _extends({}, styles.timeTagStyle, {\n      opacity: hovered ? '1' : '0'\n    }, props.timeTagStyle)\n  }, formatTime(getDateTime(message.created, props.timezoneOffset))), React.createElement(\"div\", {\n    className: \"\\n              ce-\" + (isMyMessage ? 'my' : 'their') + \"-message-body\\n              \" + (isSending && 'ce-my-message-sending-body') + \"\\n            \",\n    style: _extends({}, styles.bubbleStyle, borderStyle, sendingStyle, props.bubbleStyle),\n    dangerouslySetInnerHTML: {\n      __html: text\n    }\n  }), React.createElement(\"style\", null, \"p {margin-block-start: 0px; margin-block-end: 0px;}\"), !isMyMessage && React.createElement(\"span\", {\n    className: \"ce-their-message-timestamp\",\n    style: _extends({}, styles.timeTagStyle, {\n      opacity: hovered ? '1' : '0'\n    }, props.timeTagStyle)\n  }, formatTime(getDateTime(message.created, props.timezoneOffset))), React.createElement(Avatar, {\n    username: message.sender_username,\n    style: _extends({}, styles.avatarStyle, isLastMessage ? {} : {\n      display: 'none'\n    }, props.avatarStyle),\n    avatarUrl: message.sender && message.sender !== null && message.sender.avatar !== null ? message.sender.avatar : undefined\n  })), React.createElement(\"div\", {\n    style: _extends({}, styles.readsStyle, props.readsStyle),\n    className: \"ce-\" + (isMyMessage ? 'my' : 'their') + \"-reads-row\"\n  }, renderReads()));\n};\nvar MessageList = function MessageList(props) {\n  var _props$chat, _props$chat2;\n  var _props$messages = props.messages,\n    messages = _props$messages === void 0 ? [] : _props$messages;\n  var messagesObject = _.mapKeys(messages, 'created');\n  var keys = Object.keys(messagesObject).sort();\n  var date = function date(_date) {\n    return _date ? _date.substr(0, 10) : null;\n  };\n  var renderMessages = function renderMessages(keys) {\n    return keys.map(function (key, index) {\n      var message = messagesObject[key];\n      var lastKey = index === 0 ? '' : keys[index - 1];\n      var nextKey = index === keys.length - 1 ? '' : keys[index + 1];\n      var lastDate = lastKey !== '' ? date(lastKey) : undefined;\n      var thisDate = key !== '' ? date(key) : undefined;\n      var showDateTime = !lastDate || lastDate !== thisDate;\n      var isMyMessage = props.username === message.sender_username;\n      return React.createElement(\"div\", {\n        key: \"message_\" + index,\n        id: \"ce-message-\" + message.id\n      }, index === keys.length - 1 && React.createElement(RenderTrigger, {\n        onShow: props.onBottomMessageShow,\n        onHide: props.onBottomMessageHide,\n        children: \"\"\n      }), React.createElement(Message, {\n        chat: props.chat,\n        message: message,\n        lastMessage: messagesObject[lastKey],\n        nextMessage: messagesObject[nextKey],\n        timezoneOffset: props.timezoneOffset,\n        isMyMessage: isMyMessage,\n        isSending: !message.id,\n        showDateTime: showDateTime,\n        renderMessage: props.renderMessage,\n        style: _extends({}, styles$b.messageStyle, props.messageStyle)\n      }));\n    });\n  };\n  if (props.renderMessageList) {\n    return React.createElement(React.Fragment, null, props.renderMessageList(props));\n  }\n  return (\n    // Used for scrolling\n    React.createElement(\"div\", {\n      className: \"ce-message-list\",\n      id: \"ce-message-list-\" + ((_props$chat = props.chat) == null ? void 0 : _props$chat.id),\n      style: _extends({}, styles$b.style, props.style)\n    }, React.createElement(\"div\", {\n      className: \"ce-message-list-content\",\n      id: \"ce-message-list-content-\" + ((_props$chat2 = props.chat) == null ? void 0 : _props$chat2.id)\n    }, props.hasMoreMessages && React.createElement(RenderTrigger, {\n      onShow: props.onMessageLoaderShow,\n      onHide: props.onMessageLoaderHide,\n      children: React.createElement(Spinner, {\n        style: {\n          position: 'relative',\n          left: 'calc(50% - 0.625em)',\n          width: '1.25em',\n          height: '1.25em',\n          font: 'red'\n        }\n      })\n    }), renderMessages(keys)))\n  );\n};\nvar styles$g = {\n  style: {\n    paddingTop: '4px'\n  },\n  inputStyle: {\n    border: '1px solid white',\n    width: 'calc(100% - 24px - 116px)',\n    outline: 'none',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    paddingLeft: '12px',\n    paddingRight: '12px',\n    resize: 'none',\n    overflowX: 'hidden',\n    // Tweak Position\n    position: 'relative',\n    top: '6px'\n  },\n  sendButtonStyle: {\n    cursor: 'pointer',\n    fontFamily: 'Avenir',\n    display: 'inline-block',\n    borderRadius: '8px',\n    padding: '6px 12px',\n    color: 'white',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n    // Tweak Position\n    position: 'relative',\n    bottom: '6px'\n  },\n  draftAttachmentStyle: {\n    padding: '6px',\n    display: 'inline-block',\n    position: 'relative'\n  },\n  draftAttachmentRemoveStyle: {\n    position: 'absolute',\n    top: '-6px',\n    right: '-6px',\n    width: '30px',\n    height: '30px',\n    color: '#40a9ff',\n    backgroundColor: 'white',\n    border: '1px solid rgb(67, 67, 67)',\n    borderRadius: '50%',\n    cursor: 'pointer',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease'\n  },\n  draftImageStyle: {\n    padding: '6px',\n    height: '60px',\n    width: '60px'\n  },\n  draftFileStyle: {}\n};\nvar styles$h = {\n  style: {\n    height: '0px',\n    display: 'inline',\n    padding: '6px 12px',\n    position: 'relative',\n    bottom: '6px'\n  },\n  iconStyle: {\n    backgroundColor: 'white',\n    border: '1px solid white',\n    cursor: 'pointer'\n  }\n};\nvar AttachmentInput = function AttachmentInput(props) {\n  var _useState = useState(false),\n    hovered = _useState[0],\n    setHovered = _useState[1];\n  var hoverStyle = {\n    color: hovered ? '#06c' : '#444'\n  };\n  var onSelect = function onSelect(e) {\n    e.preventDefault();\n    var target = e.target;\n    var files = target.files;\n    props.onSelectFiles && props.onSelectFiles(files);\n  };\n  return React.createElement(\"form\", {\n    className: \"ce-attachment-input\",\n    encType: \"multipart/form-data\",\n    style: _extends({}, styles$h.style, props.style)\n  }, React.createElement(\"label\", {\n    htmlFor: \"files\",\n    id: \"ce-upload-document-button\"\n  }, React.createElement(\"span\", {\n    className: \"ce-attachment-icon\",\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    },\n    style: _extends({}, styles$h.iconStyle, hoverStyle, props.iconStyle),\n    onClick: function onClick() {}\n  }, \"\\uD83D\\uDCCE\")), React.createElement(\"input\", {\n    multiple: true,\n    id: \"files\",\n    style: {\n      visibility: 'hidden',\n      height: '0px',\n      width: '0px'\n    },\n    type: \"file\",\n    onChange: onSelect\n  }));\n};\nvar MessageForm = function MessageForm(props) {\n  var _props$label = props.label,\n    label = _props$label === void 0 ? '' : _props$label;\n  var _useState = useState(0),\n    iter = _useState[0],\n    setIter = _useState[1]; // Forces attachments update\n\n  var _useState2 = useState(''),\n    value = _useState2[0],\n    setValue = _useState2[1];\n  var _useState3 = useState(0),\n    height = _useState3[0],\n    setHeight = _useState3[1];\n  var _useState4 = useState(false),\n    buttonHover = _useState4[0],\n    setButtonHover = _useState4[1];\n  var _useState5 = useState([]),\n    attachments = _useState5[0],\n    setAttachments = _useState5[1];\n  useEffect(function () {\n    return resize();\n  }, []);\n  var resize = function resize() {\n    var textarea = document.getElementById('msg-textarea');\n    if (textarea !== null) {\n      textarea.style.height = '';\n      textarea.style.height = Math.min(textarea.scrollHeight, 150) + 'px';\n      setHeight(Math.min(textarea.scrollHeight, 150));\n    }\n  };\n  var onChange = function onChange(e) {\n    setValue(e.target.value);\n    props.onChange && props.onChange(e);\n    resize();\n  };\n  var onSubmit = function onSubmit() {\n    var created = new Date().toISOString().replace('T', ' ').replace('Z', Math.floor(Math.random() * 1000) + \"+00:00\");\n    var localAttachments = attachments.map(function (attachment) {\n      return {\n        id: -1,\n        created: new Date().toString(),\n        file: attachment.name,\n        blob: attachment\n      };\n    });\n    var message = {\n      attachments: localAttachments,\n      text: value,\n      sender_username: props.username ? props.username : '',\n      custom_json: {},\n      created: created\n    };\n    props.onSubmit && props.onSubmit(message);\n    setValue('');\n    setAttachments([]);\n    resize();\n  };\n  var onKeyDown = function onKeyDown(e) {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      if (value.length > 0) {\n        onSubmit();\n      }\n    }\n  };\n  var onRemove = function onRemove(index) {\n    if (attachments && attachments !== null) {\n      var newAttachments = attachments;\n      newAttachments.splice(index, 1);\n      setAttachments(newAttachments);\n      setIter(iter + 1);\n    }\n  };\n  var renderAttachments = function renderAttachments(renderImage) {\n    if (!attachments || attachments === null) return React.createElement(\"div\", null);\n    return Array.from(attachments).map(function (attachment, index) {\n      var url = URL.createObjectURL(attachment);\n      return React.createElement(\"span\", {\n        key: \"draft-\" + index,\n        className: \"ce-draft-attachment-wrapper\",\n        style: _extends({}, styles$g.draftAttachmentStyle, props.draftAttachmentStyle)\n      }, renderImage && isImage(attachment.name) && React.createElement(Image, {\n        url: url,\n        style: _extends({}, styles$g.draftImageStyle, props.draftImageStyle),\n        className: \"ce-draft-image\"\n      }), !renderImage && !isImage(attachment.name) && React.createElement(File, {\n        url: url,\n        fileName: \"\\uD83D\\uDCC4 \" + attachment.name,\n        style: _extends({}, styles$g.draftFileStyle, props.draftFileStyle),\n        className: \"ce-draft-file\"\n      }), (!renderImage && !isImage(attachment.name) || renderImage && isImage(attachment.name)) && React.createElement(\"button\", {\n        className: \"ce-message-attachment-remove-btn\",\n        onClick: function onClick() {\n          return onRemove(index);\n        },\n        style: _extends({}, styles$g.draftAttachmentRemoveStyle, props.draftAttachmentRemoveStyle)\n      }, \"\\u274C\"));\n    });\n  };\n  if (props.renderMessageForm) {\n    return React.createElement(React.Fragment, null, props.renderMessageForm(props));\n  }\n  return React.createElement(\"div\", {\n    id: \"ce-message-form\",\n    style: _extends({}, styles$g.style, props.style),\n    className: \"ce-message-form\"\n  }, React.createElement(\"div\", {\n    className: \"ce-message-form-attachments-row\"\n  }, renderAttachments(true)), React.createElement(\"div\", {\n    className: \"ce-message-form-attachments-row\"\n  }, renderAttachments(false)), React.createElement(\"textarea\", {\n    id: \"msg-textarea\",\n    className: \"ce-message-form-input\",\n    value: value,\n    placeholder: label,\n    rows: 1,\n    onKeyDown: onKeyDown,\n    onChange: onChange,\n    style: _extends({}, styles$g.inputStyle, {\n      overflowY: height === 150 ? 'scroll' : 'hidden'\n    }, props.inputStyle)\n  }), React.createElement(AttachmentInput, {\n    onSelectFiles: function onSelectFiles(files) {\n      files !== null && setAttachments(Array.from(files));\n    },\n    style: _extends({}, styles$g.attachmentInputStyle, props.attachmentInputStyle),\n    iconStyle: _extends({}, styles$g.attachmentInputIconStyle, props.attachmentInputIconStyle)\n  }), React.createElement(\"div\", {\n    id: \"ce-send-message-button\",\n    onMouseEnter: function onMouseEnter() {\n      return setButtonHover(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setButtonHover(false);\n    },\n    onClick: onSubmit,\n    style: _extends({}, styles$g.sendButtonStyle, {\n      backgroundColor: buttonHover ? '#40a9ff' : '#1890ff'\n    }, props.sendButtonStyle)\n  }, \"Send\"));\n};\nvar styles$i = {\n  style: {\n    width: '100%',\n    textAlign: 'center'\n  },\n  gifStyle: {\n    width: '50%',\n    maxWidth: '200px'\n  },\n  textStyle: {\n    color: '#afafaf',\n    fontWeight: 600,\n    fontSize: '14px',\n    fontFamily: 'Avenir'\n  }\n};\nvar WelcomeGif = function WelcomeGif(props) {\n  if (props.renderWelcomeGif) {\n    return React.createElement(React.Fragment, null, props.renderWelcomeGif(props));\n  }\n  return React.createElement(\"div\", {\n    className: \"ce-ice-breaker-wrapper\",\n    style: _extends({}, styles$i.style, props.style)\n  }, React.createElement(\"img\", {\n    className: \"ce-ice-breaker-gif\",\n    style: _extends({}, styles$i.gifStyle, props.gifStyle),\n    src: \"https://chat-engine-assets.s3.amazonaws.com/welcome_gifs/peace.gif\",\n    alt: \"chat-engine-ice-breaker\"\n  }), React.createElement(\"div\", {\n    className: \"ce-ice-breaker-text\",\n    style: _extends({}, styles$i.textStyle, props.textStyle)\n  }, \"No messages here yet...\"));\n};\nvar getDescription$1 = function getDescription(chat, timezoneOffset) {\n  if (timezoneOffset === void 0) {\n    timezoneOffset = 0;\n  }\n  if (!chat) {\n    return '  ';\n  } else if (chat.last_message.created && chat.last_message.created.length > 0) {\n    var dateTime = getDateTime(chat.last_message.created, timezoneOffset);\n    var formattedDateTime = formatDateTime(dateTime);\n    return \"Active \" + formattedDateTime;\n  } else {\n    return 'Say hello!';\n  }\n};\nvar ChatFeed = function ChatFeed(props) {\n  var chat = props.chat;\n  var otherPerson = chat && chat.people.find(function (person) {\n    return person.person.username !== props.username;\n  });\n  var title = props.isLoading ? React.createElement(Spinner, null) : !chat ? 'Create a chat!' : chat.is_direct_chat && otherPerson ? otherPerson.person.username : chat.title;\n  if (props.renderChatFeed) {\n    return React.createElement(React.Fragment, null, props.renderChatFeed(props));\n  }\n  return React.createElement(\"div\", {\n    className: \"ce-chat-feed\",\n    style: _extends({}, styles$9.style, props.style)\n  }, React.createElement(ChatHeader, {\n    title: title,\n    description: props.isLoading ? 'Loading...' : getDescription$1(chat, props.timezoneOffset),\n    renderChatHeader: props.renderChatHeader,\n    style: _extends({}, styles$9.chatHeaderStyle, props.chatHeaderStyle)\n  }), React.createElement(MessageList, {\n    chat: chat,\n    messages: props.messages,\n    username: props.username,\n    timezoneOffset: props.timezoneOffset,\n    hasMoreMessages: props.hasMoreMessages,\n    onMessageLoaderShow: props.onMessageLoaderShow,\n    onMessageLoaderHide: props.onMessageLoaderHide,\n    onBottomMessageShow: props.onBottomMessageShow,\n    onBottomMessageHide: props.onBottomMessageHide,\n    renderMessageList: props.renderMessageList,\n    renderMessage: props.renderMessage,\n    style: _extends({}, styles$9.messageListStyle, props.messageListStyle)\n  }), props.messages.length === 0 && !props.isLoading && React.createElement(WelcomeGif, {\n    style: {\n      position: 'absolute',\n      top: 'calc(50% - 112px)'\n    }\n  }), React.createElement(MessageForm, {\n    label: \"Send a message...\",\n    username: props.username,\n    onSubmit: props.onMessageFormSubmit,\n    renderMessageForm: props.renderMessageForm,\n    style: _extends({}, styles$9.messageFormStyle, props.messageFormStyle)\n  }));\n};\nvar styles$j = {\n  style: {\n    backgroundColor: 'white',\n    width: '100%',\n    height: '100%'\n  },\n  chatTitleStyle: {\n    width: '100%',\n    textAlign: 'center',\n    fontFamily: 'Avenir',\n    fontSize: '18px',\n    fontWeight: 600\n  }\n};\nvar styles$k = {\n  style: {\n    width: '100%',\n    paddingTop: '12px',\n    height: 'calc(44px + 14px)'\n  },\n  oneAvatarStyle: {\n    avatarOne: {\n      \"float\": 'left',\n      position: 'relative',\n      left: 'calc(50% - 22px)'\n    }\n  },\n  twoAvatarsStyle: {\n    avatarOne: {\n      \"float\": 'left',\n      position: 'relative',\n      left: 'calc(50% - 22px - 15px)'\n    },\n    avatarTwo: {\n      \"float\": 'left',\n      position: 'relative',\n      left: 'calc(50% - 44px - 22px + 15px)'\n    }\n  },\n  threeAvatarsStyle: {\n    avatarOne: {\n      \"float\": 'left',\n      position: 'relative',\n      left: 'calc(50% - 22px - 24px)'\n    },\n    avatarTwo: {\n      \"float\": 'left',\n      position: 'relative',\n      left: 'calc(50% - 24px - 44px)'\n    },\n    avatarThree: {\n      \"float\": 'left',\n      position: 'relative',\n      left: 'calc(50% - 22px - 44px - 44px + 24px)'\n    }\n  }\n};\nvar ChatAvatars = function ChatAvatars(props) {\n  var _props$users = props.users,\n    users = _props$users === void 0 ? [] : _props$users;\n  var getStyle = function getStyle(people, styles) {\n    if (people.length === 1) {\n      return styles.oneAvatarStyle ? styles.oneAvatarStyle : {};\n    } else if (people.length === 2) {\n      return styles.twoAvatarsStyle ? styles.twoAvatarsStyle : {};\n    } else {\n      return styles.threeAvatarsStyle ? styles.threeAvatarsStyle : {};\n    }\n  };\n  var getPeopleToRender = function getPeopleToRender(people) {\n    if (props.isDirectChat) {\n      var otherPerson = users.find(function (person) {\n        return person.username !== props.username;\n      });\n      return otherPerson ? [otherPerson] : [];\n    }\n    return people.slice(0, 3);\n  };\n  var topPeople = getPeopleToRender(users);\n  var style = getStyle(users, styles$k);\n  var propsStyle = getStyle(users, props);\n  if (props.renderChatAvatars) {\n    return React.createElement(React.Fragment, null, props.renderChatAvatars(props));\n  }\n  return React.createElement(\"div\", {\n    className: \"ce-chat-avatars\",\n    style: _extends({}, styles$k.style, props.style)\n  }, React.createElement(Avatar, {\n    className: \"ce-chat-avatar-1\",\n    username: topPeople[0] ? topPeople[0].username : undefined,\n    avatarUrl: topPeople[0] ? topPeople[0].avatar : undefined,\n    style: _extends({}, style.avatarOne, {\n      display: topPeople[0] ? 'inherit' : 'none'\n    }, propsStyle.avatarOne)\n  }), React.createElement(Avatar, {\n    className: \"ce-chat-avatar-2\",\n    username: topPeople[1] ? topPeople[1].username : undefined,\n    avatarUrl: topPeople[1] ? topPeople[1].avatar : undefined,\n    style: _extends({}, style.avatarTwo, {\n      display: topPeople[1] ? 'inherit' : 'none'\n    }, propsStyle.avatarTwo)\n  }), React.createElement(Avatar, {\n    className: \"ce-chat-avatar-3\",\n    username: topPeople[2] ? topPeople[2].username : undefined,\n    avatarUrl: topPeople[2] ? topPeople[2].avatar : undefined,\n    style: _extends({}, style.avatarThree, {\n      display: topPeople[2] ? 'inherit' : 'none'\n    }, propsStyle.avatarThree)\n  }));\n};\nvar styles$l = {\n  style: {},\n  avatarStyle: {\n    position: 'absolute',\n    left: '12px',\n    top: '2px'\n  },\n  usernameStyle: {\n    fontFamily: 'Avenir',\n    position: 'absolute',\n    left: '72px',\n    top: '12px',\n    width: 'calc(100% - 84px - 52px - 12px)'\n  },\n  deleteButtonStyle: {\n    position: 'absolute',\n    right: '12px',\n    top: '8px'\n  },\n  optionStyle: {\n    fontFamily: 'Avenir',\n    padding: '8px 12px',\n    cursor: 'pointer'\n  },\n  addMemberStyle: {\n    width: 'calc(100% - 12px - 12px)',\n    position: 'relative',\n    left: '12px'\n  },\n  addMemberInputStyle: {\n    border: '1px solid rgb(24, 144, 255)'\n  }\n};\nvar styles$m = {\n  style: {\n    position: 'relative'\n  },\n  inputStyle: {\n    width: '100%',\n    height: '36px',\n    padding: '0px 12px',\n    boxSizing: 'border-box',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    outline: 'none',\n    borderRadius: '24px'\n  },\n  closeStyle: {\n    cursor: 'pointer',\n    position: 'absolute',\n    top: '5px',\n    right: '12px'\n  },\n  optionsStyle: {\n    overflow: 'hidden'\n  }\n};\nvar emptyEvent = {\n  target: {\n    value: ''\n  }\n};\nvar getOptions = function getOptions(value, options, maxVisibleOptions) {\n  return options.filter(function (option) {\n    return JSON.stringify(option).toLowerCase().indexOf(value.toLowerCase()) !== -1;\n  }).slice(0, maxVisibleOptions);\n};\nvar Autocomplete = function Autocomplete(props) {\n  var ref = useRef(null);\n  var didMountRef = useRef(false);\n  var _useState = useState(''),\n    value = _useState[0],\n    setValue = _useState[1];\n  var _useState2 = useState(false),\n    showOptions = _useState2[0],\n    setShowOptions = _useState2[1];\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return function () {\n      return document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n  var handleClickOutside = function handleClickOutside(event) {\n    if (event.target !== null && ref && ref.current !== null && !ref.current.contains(event.target)) {\n      setShowOptions(false);\n    }\n  };\n  var _onChange = function onChange(event, showOptions) {\n    setValue(event.target.value);\n    setShowOptions(showOptions);\n    props.onChange && props.onChange(event);\n  };\n  var renderOptions = function renderOptions(value) {\n    var max = props.maxVisibleOptions ? props.maxVisibleOptions : 3;\n    return getOptions(value, props.options, max).map(function (option, index) {\n      return React.createElement(\"div\", {\n        key: \"option-\" + index\n      }, props.renderOption ? props.renderOption(option) : option.toString());\n    });\n  };\n  return React.createElement(\"div\", {\n    ref: ref,\n    className: \"ce-autocomplete\",\n    style: _extends({}, styles$m.style, props.style)\n  }, React.createElement(\"input\", {\n    className: \"ce-autocomplete-input\",\n    value: value,\n    placeholder: props.label,\n    style: _extends({}, styles$m.inputStyle, props.inputStyle),\n    onChange: function onChange(e) {\n      return _onChange(e, true);\n    },\n    onFocus: function onFocus(e) {\n      setShowOptions(true);\n      props.onFocus && props.onFocus(e);\n    }\n  }), React.createElement(\"div\", {\n    className: \"ce-autocomplete-close\",\n    onClick: function onClick() {\n      return _onChange(emptyEvent, true);\n    },\n    style: _extends({}, styles$m.closeStyle, {\n      display: value.length > 0 ? 'inline-block' : 'none'\n    }, props.closeStyle)\n  }, \"\\u274C\"), React.createElement(\"div\", {\n    style: _extends({}, styles$m.optionsStyle, {\n      height: showOptions ? 'auto' : '0px'\n    }, props.optionsStyle)\n  }, renderOptions(value)));\n};\nvar styles$n = {\n  style: {\n    borderTop: '1px solid #f0f0f0'\n  },\n  barStyle: {\n    position: 'relative',\n    cursor: 'pointer',\n    backgroundColor: 'white',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n    fontFamily: 'Avenir',\n    fontSize: '17px',\n    padding: '12px',\n    fontWeight: 600\n  },\n  barHoveredStyle: {\n    backgroundColor: '#f0f0f0'\n  },\n  iconStyle: {\n    position: 'absolute',\n    right: '12px',\n    bottom: '15px',\n    width: '1em',\n    height: '1em',\n    transition: \"transform 100ms\"\n  },\n  bodyStyle: {\n    height: '0px',\n    overflow: 'hidden',\n    transition: 'all 1.33s ease',\n    WebkitTransition: 'all 1.33s ease',\n    MozTransition: 'all 1.33s ease'\n  },\n  bodyExpandedStyle: {\n    height: 'auto'\n  }\n};\nvar Dropdown = function Dropdown(props) {\n  var _useState = useState(false),\n    hovered = _useState[0],\n    setHovered = _useState[1];\n  var _useState2 = useState(false),\n    expanded = _useState2[0],\n    setExpanded = _useState2[1];\n  return React.createElement(\"div\", {\n    id: props.id,\n    className: \"ce-dropdown \" + props.className,\n    style: _extends({}, styles$n.style, props.style)\n  }, React.createElement(\"div\", {\n    className: \"ce-dropdown-label\",\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    },\n    onClick: function onClick() {\n      return setExpanded(!expanded);\n    },\n    style: _extends({}, styles$n.barStyle, hovered && styles$n.barHoveredStyle, props.barStyle, hovered && props.barHoveredStyle)\n  }, props.label, React.createElement(\"svg\", {\n    className: \"ce-dropdown-icon\",\n    style: _extends({}, styles$n.iconStyle, expanded ? {\n      transform: \"rotate(-90deg)\"\n    } : {\n      transform: \"rotate(0deg)\"\n    }, props.iconStyle),\n    viewBox: \"64 64 896 896\",\n    focusable: \"false\",\n    \"data-icon\": \"left\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, React.createElement(\"path\", {\n    d: \"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\"\n  }))), React.createElement(\"div\", {\n    className: \"ce-dropdown-children\",\n    style: _extends({}, styles$n.bodyStyle, expanded && styles$n.bodyExpandedStyle, props.bodyStyle, expanded && props.bodyExpandedStyle)\n  }, props.children));\n};\nvar PeopleSettings = function PeopleSettings(props) {\n  var _props$chat = props.chat,\n    chat = _props$chat === void 0 ? {\n      people: []\n    } : _props$chat,\n    _props$peopleToInvite = props.peopleToInvite,\n    peopleToInvite = _props$peopleToInvite === void 0 ? [] : _props$peopleToInvite;\n  var renderChatPeople = function renderChatPeople(chatPeople) {\n    return chatPeople.map(function (chatPerson, index) {\n      var person = chatPerson.person;\n      return React.createElement(\"div\", {\n        key: \"member-\" + index,\n        style: {\n          height: '52px',\n          position: 'relative'\n        }\n      }, React.createElement(Avatar, {\n        username: person.username,\n        avatarUrl: person.avatar,\n        isOnline: person.is_online,\n        style: _extends({}, styles$l.avatarStyle, props.avatarStyle)\n      }), React.createElement(\"div\", {\n        style: _extends({}, styles$l.usernameStyle, props.usernameStyle)\n      }, person.username), props.canDelete && React.createElement(Button, {\n        type: \"danger\",\n        className: \"ce-member-delete-button\",\n        onClick: function onClick() {\n          return props.onRemovePersonClick && props.onRemovePersonClick(person);\n        },\n        style: _extends({}, styles$l.deleteButtonStyle, props.deleteButtonStyle)\n      }, React.createElement(\"svg\", {\n        viewBox: \"64 64 896 896\",\n        focusable: \"false\",\n        \"data-icon\": \"close\",\n        width: \"1em\",\n        height: \"1em\",\n        fill: \"currentColor\",\n        \"aria-hidden\": \"true\"\n      }, React.createElement(\"path\", {\n        d: \"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z\"\n      }))));\n    });\n  };\n  var renderChatPeopleOption = function renderChatPeopleOption(option) {\n    var person = option;\n    var onInvitePersonClick = props.onInvitePersonClick;\n    return React.createElement(\"div\", {\n      className: \"ce-add-member-option\",\n      style: _extends({}, styles$l.optionStyle, props.optionStyle),\n      onClick: function onClick() {\n        return onInvitePersonClick && onInvitePersonClick(person);\n      }\n    }, person.username);\n  };\n  if (props.renderPeopleSettings) {\n    return React.createElement(React.Fragment, null, props.renderPeopleSettings(props));\n  }\n  return React.createElement(Dropdown, {\n    id: \"ce-settings-people-dropdown\",\n    label: \"Members\",\n    style: _extends({}, styles$l.style, props.style)\n  }, renderChatPeople(chat.people), React.createElement(Autocomplete, {\n    label: \"Add Member\",\n    options: peopleToInvite,\n    renderOption: renderChatPeopleOption,\n    style: _extends({}, styles$l.addMemberStyle, props.addMemberStyle),\n    inputStyle: _extends({}, styles$l.addMemberInputStyle, props.addMemberInputStyle)\n  }));\n};\nvar styles$o = {\n  style: {},\n  imageWrapperStyle: {\n    position: 'relative',\n    width: '33.3%',\n    display: 'inline-block',\n    cursor: 'pointer'\n  },\n  imagePaddingStyle: {\n    paddingTop: '100%'\n  },\n  imageStyle: {\n    top: '0px',\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n    objectFit: 'cover',\n    padding: '0px',\n    borderRadius: '0px'\n  }\n};\nvar PhotosSettings = function PhotosSettings(props) {\n  var _props$chat = props.chat,\n    chat = _props$chat === void 0 ? {\n      attachments: []\n    } : _props$chat;\n  var renderImages = function renderImages(attachments) {\n    return attachments.map(function (attachment, index) {\n      var fileName = getFileName(attachment.file);\n      if (isImage(fileName)) {\n        return React.createElement(\"div\", {\n          key: \"photo-\" + index,\n          style: _extends({}, styles$o.imageWrapperStyle, props.imageWrapperStyle)\n        }, React.createElement(\"div\", {\n          style: _extends({}, styles$o.imagePaddingStyle, props.imagePaddingStyle)\n        }), React.createElement(Image, {\n          key: \"attachment_\" + index,\n          className: \"ce-settings-image\",\n          url: attachment.file !== null ? attachment.file : undefined,\n          style: _extends({}, styles$o.imageStyle, props.imageStyle)\n        }));\n      }\n      return React.createElement(\"span\", {\n        key: \"photo-\" + index\n      });\n    });\n  };\n  if (props.renderPhotosSettings) {\n    return React.createElement(React.Fragment, null, props.renderPhotosSettings(props));\n  }\n  return React.createElement(Dropdown, {\n    id: \"ce-settings-photos-dropdown\",\n    label: \"Photos\",\n    style: _extends({}, styles$o.style, props.style)\n  }, renderImages(chat.attachments));\n};\nvar styles$p = {\n  style: {},\n  deleteChatButtonStyle: {\n    width: 'calc(100% - 24px)',\n    position: 'relative',\n    left: '12px'\n  }\n};\nvar OptionsSettings = function OptionsSettings(props) {\n  if (props.renderOptionsSettings) {\n    return React.createElement(React.Fragment, null, props.renderOptionsSettings(props));\n  }\n  return React.createElement(Dropdown, {\n    id: \"ce-settings-options-dropdown\",\n    label: \"Options\",\n    style: _extends({}, styles$p.style, props.style)\n  }, React.createElement(Button, {\n    type: \"danger\",\n    onClick: function onClick() {\n      return props.onDeleteChatClick && props.chat && props.onDeleteChatClick(props.chat);\n    },\n    style: _extends({}, styles$p.deleteChatButtonStyle, props.deleteChatButtonStyle)\n  }, \"Delete this Chat\"));\n};\nvar ChatSettings = function ChatSettings(props) {\n  var chat = props.chat;\n  if (props.renderChatSettings) {\n    return React.createElement(React.Fragment, null, props.renderChatSettings(props));\n  }\n  var people = chat ? chat.people.map(function (chatPerson) {\n    return chatPerson.person;\n  }) : [];\n  var otherPerson = chat && chat.people.find(function (person) {\n    return person.person.username !== props.username;\n  });\n  var title = props.isLoading || !chat ? '' : chat.is_direct_chat && otherPerson ? otherPerson.person.username : chat.title;\n  return React.createElement(\"div\", {\n    className: \"ce-chat-settings\",\n    style: _extends({}, styles$j.style, props.style)\n  }, React.createElement(ChatAvatars, {\n    users: people,\n    username: props.username,\n    renderChatAvatars: props.renderChatAvatars\n  }), React.createElement(\"div\", {\n    className: \"ce-chat-settings-title\",\n    style: _extends({}, styles$j.chatTitleStyle, props.chatTitleStyle)\n  }, title), React.createElement(PeopleSettings, {\n    chat: chat,\n    peopleToInvite: props.peopleToInvite,\n    canDelete: chat && props.username === chat.admin.username,\n    onInvitePersonClick: props.onInvitePersonClick,\n    onRemovePersonClick: props.onRemovePersonClick,\n    renderPeopleSettings: props.renderPeopleSettings,\n    style: _extends({}, styles$j.peopleSettingsStyle, props.peopleSettingsStyle)\n  }), React.createElement(PhotosSettings, {\n    chat: chat,\n    renderPhotosSettings: props.renderPhotosSettings,\n    style: _extends({}, styles$j.photosSettingsStyle, props.photosSettingsStyle)\n  }), React.createElement(OptionsSettings, {\n    chat: chat,\n    onDeleteChatClick: props.onDeleteChatClick,\n    renderOptionsSettings: props.renderOptionsSettings,\n    style: _extends({}, styles$j.optionsSettingsStyle, props.optionsSettingsStyle)\n  }));\n};\nsetConfiguration({\n  maxScreenClass: 'xl',\n  gutterWidth: 0\n});\nvar MultiChatWindow = function MultiChatWindow(props) {\n  if (typeof window == 'undefined') return React.createElement(\"div\", null);\n  var _props$chats = props.chats,\n    chats = _props$chats === void 0 ? [] : _props$chats,\n    _props$activeChatId = props.activeChatId,\n    activeChatId = _props$activeChatId === void 0 ? -1 : _props$activeChatId,\n    _props$messages = props.messages,\n    messages = _props$messages === void 0 ? [] : _props$messages;\n  var _useState = useState(window.innerWidth < 575),\n    isMobile = _useState[0],\n    setIsMobile = _useState[1];\n  var chat = chats.find(function (chat) {\n    return chat.id === activeChatId;\n  });\n  useEffect(function () {\n    function handleResize() {\n      setIsMobile(window.innerWidth < 575);\n    }\n    window.addEventListener('resize', handleResize);\n  });\n  var renderChatList = function renderChatList() {\n    return React.createElement(ChatList, {\n      chats: chats,\n      activeChatId: activeChatId,\n      username: props.username,\n      timezoneOffset: props.timezoneOffset,\n      isLoading: props.isChatListLoading,\n      hasMoreChats: props.hasMoreChats,\n      onChatFormSubmit: props.onChatFormSubmit,\n      onChatCardClick: props.onChatCardClick,\n      onChatLoaderShow: props.onChatLoaderShow,\n      renderChatList: props.renderChatList,\n      renderChatForm: props.renderChatForm,\n      renderChatCard: props.renderChatCard,\n      style: {\n        position: isMobile ? 'absolute' : 'inherit',\n        zIndex: isMobile ? 1 : 'inherit'\n      }\n    });\n  };\n  var renderChatSettings = function renderChatSettings() {\n    return React.createElement(ChatSettings, {\n      chat: chat,\n      username: props.username,\n      peopleToInvite: props.peopleToInvite,\n      isLoading: props.isChatSettingsLoading,\n      onInvitePersonClick: props.onInvitePersonClick,\n      onRemovePersonClick: props.onRemovePersonClick,\n      onDeleteChatClick: props.onDeleteChatClick,\n      renderChatSettings: props.renderChatSettings,\n      renderChatAvatars: function renderChatAvatars(chatAvatarsProps) {\n        return React.createElement(React.Fragment, null, React.createElement(ChatAvatars, Object.assign({}, chatAvatarsProps, {\n          renderChatAvatars: props.renderChatAvatars\n        })), isMobile && React.createElement(Button, {\n          onClick: props.onCloseMobileChatSettingsClick,\n          style: {\n            position: 'absolute',\n            top: '12px',\n            right: '12px'\n          }\n        }, React.createElement(CloseOutlined, null)));\n      },\n      renderPeopleSettings: props.renderPeopleSettings,\n      renderPhotosSettings: props.renderPhotosSettings,\n      renderOptionsSettings: props.renderOptionsSettings,\n      style: {\n        position: isMobile ? 'absolute' : 'inherit',\n        zIndex: isMobile ? 1 : 'inherit'\n      }\n    });\n  };\n  return React.createElement(Row, {\n    className: \"ce-chat-engine\",\n    style: _extends({}, styles.style, props.style)\n  }, React.createElement(Col, {\n    xs: 0,\n    sm: 3,\n    className: \"ce-chat-list-column\",\n    style: _extends({}, styles.chatListColumnStyle, props.chatListColumnStyle)\n  }, renderChatList()), React.createElement(Col, {\n    xs: 12,\n    sm: 6,\n    className: \"ce-chat-feed-column\",\n    style: _extends({}, styles.chatFeedColumnStyle, props.chatFeedColumnStyle)\n  }, React.createElement(ChatFeed, {\n    chat: chat,\n    messages: messages,\n    username: props.username,\n    timezoneOffset: props.timezoneOffset,\n    isLoading: props.isChatFeedLoading,\n    hasMoreMessages: props.hasMoreMessages,\n    onMessageLoaderShow: props.onMessageLoaderShow,\n    onMessageLoaderHide: props.onMessageLoaderHide,\n    onBottomMessageShow: props.onBottomMessageShow,\n    onBottomMessageHide: props.onBottomMessageHide,\n    onMessageFormSubmit: props.onMessageFormSubmit,\n    renderChatFeed: props.renderChatFeed,\n    renderChatHeader: props.renderChatHeader,\n    renderMessageList: props.renderMessageList,\n    renderMessage: props.renderMessage,\n    renderWelcomeGif: props.renderWelcomeGif,\n    renderMessageForm: props.renderMessageForm\n  })), React.createElement(Col, {\n    xs: 0,\n    sm: 3,\n    className: \"ce-chat-settings-column\",\n    style: _extends({}, styles.chatSettingsColumnStyle, props.chatSettingsColumnStyle)\n  }, renderChatSettings()), React.createElement(Button, {\n    onClick: props.onMobileChatListClick,\n    className: \"ce-mobile-chat-list-button\",\n    style: _extends({}, styles.chatListMobileButtonStyle, {\n      display: isMobile ? 'inherit' : 'none'\n    }, props.chatListMobileButtonStyle)\n  }, React.createElement(UnorderedListOutlined, null)), isMobile && props.isMobileChatListOpen && renderChatList(), React.createElement(Button, {\n    onClick: props.onMobileChatSettingsClick,\n    className: \"ce-mobile-chat-settings-button\",\n    style: _extends({}, styles.chatSettingsMobileButtonStyle, {\n      display: isMobile ? 'inherit' : 'none'\n    }, props.chatSettingsMobileButtonStyle)\n  }, React.createElement(SettingOutlined, null)), isMobile && props.isMobileChatSettingsOpen && renderChatSettings());\n};\nvar scrollToBottom = function scrollToBottom(duration, containerId) {\n  if (document.getElementById(containerId)) {\n    animateScroll.scrollToBottom({\n      duration: duration,\n      containerId: containerId\n    });\n  }\n};\nvar chatCountIterator = 20;\nvar messageCountIterator = 50;\nvar sortChats = function sortChats(chats) {\n  return chats.sort(function (a, b) {\n    var aDate = a.last_message && a.last_message.created ? getDateTime(a.last_message.created) : getDateTime(a.created);\n    var bDate = b.last_message && b.last_message.created ? getDateTime(b.last_message.created) : getDateTime(b.created);\n    return new Date(bDate).getTime() - new Date(aDate).getTime();\n  });\n};\nvar sortMessages = function sortMessages(messages) {\n  return messages.sort(function (a, b) {\n    return new Date(b.created).getTime() - new Date(a.created).getTime();\n  });\n};\nvar useMultiChatLogic = function useMultiChatLogic(projectId, username, secret, httpUrl) {\n  var host = httpUrl ? httpUrl : 'https://api.chatengine.io';\n  var headers = {\n    'Public-Key': projectId,\n    'User-Name': username,\n    'User-Secret': secret\n  }; // Data\n\n  var _useState = useState(),\n    activeChatId = _useState[0],\n    setActiveChatId = _useState[1];\n  var _useState2 = useState([]),\n    chats = _useState2[0],\n    setChats = _useState2[1];\n  var _useState3 = useState([]),\n    messages = _useState3[0],\n    setMessages = _useState3[1];\n  var _useState4 = useState([]),\n    peopleToInvite = _useState4[0],\n    setPeopleToInvite = _useState4[1]; // State\n\n  var _useState5 = useState(false),\n    hasMoreChats = _useState5[0],\n    setHasMoreChats = _useState5[1];\n  var _useState6 = useState(false),\n    hasMoreMessages = _useState6[0],\n    setHasMoreMessages = _useState6[1];\n  var _useState7 = useState(false),\n    isChatFeedAtBottom = _useState7[0],\n    setIsChatFeedAtBottom = _useState7[1];\n  var _useState8 = useState(true),\n    isChatListLoading = _useState8[0],\n    setIsChatListLoading = _useState8[1];\n  var _useState9 = useState(true),\n    isChatFeedLoading = _useState9[0],\n    setIsChatFeedLoading = _useState9[1];\n  var _useState10 = useState(true),\n    isChatSettingsLoading = _useState10[0],\n    setIsChatSettingsLoading = _useState10[1];\n  var _useState11 = useState(false),\n    isMobileChatListOpen = _useState11[0],\n    setIsMobileChatListOpen = _useState11[1];\n  var _useState12 = useState(false),\n    isMobileChatSettingsOpen = _useState12[0],\n    setIsMobileChatSettingsOpen = _useState12[1]; // Subscribe to Chat & Message Count\n\n  var chatCountRef = useRef(0);\n  chatCountRef.current = chats.length;\n  var messageCountRef = useRef(0);\n  messageCountRef.current = messages.length;\n  var chat = chats.find(function (chat) {\n    return chat.id === activeChatId;\n  }); // Fetch data on mount\n\n  var didMountRef = useRef(false);\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      fetchMultiChatData();\n    }\n  }, []);\n  useEffect(function () {\n    var chat = chats.find(function (chat) {\n      return chat.id === activeChatId;\n    });\n    var chatPerson = chat == null ? void 0 : chat.people.find(function (chatPerson) {\n      return chatPerson.person.username === username;\n    });\n    if (activeChatId && chat != null && chat.last_message.id &&\n    // If there is a message\n    chat.last_message.id !== (chatPerson == null ? void 0 : chatPerson.last_read) && isChatFeedAtBottom) {\n      readMessage(host, headers, activeChatId, chat.last_message.id, function () {});\n    }\n  }, [chats, activeChatId, isChatFeedAtBottom]);\n  function fetchMultiChatData() {\n    return _fetchMultiChatData.apply(this, arguments);\n  }\n  function _fetchMultiChatData() {\n    _fetchMultiChatData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var now;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              now = new Date().toISOString().replace('T', ' ').replace('Z', Math.floor(Math.random() * 1000) + \"+00:00\");\n              getChatsBefore(host, headers, now, chatCountRef.current > 0 ? chatCountRef.current : chatCountIterator, function (chats) {\n                onGetChats(chats);\n                var currentChat = activeChatId;\n                if (!activeChatId && chats.length > 0) {\n                  currentChat = chats[0].id;\n                }\n                currentChat ? onChatCardClick(currentChat) : setIsChatFeedLoading(false);\n              });\n              return _context.abrupt(\"return\");\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchMultiChatData.apply(this, arguments);\n  }\n  function onGetChats(_x) {\n    return _onGetChats.apply(this, arguments);\n  }\n  function _onGetChats() {\n    _onGetChats = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(chats) {\n      var sortedChats;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (chats === void 0) {\n                chats = [];\n              }\n              setHasMoreChats(chats.length >= chatCountRef.current + chatCountIterator);\n              sortedChats = sortChats(chats);\n              setChats(sortedChats);\n              setIsChatListLoading(false);\n              return _context2.abrupt(\"return\");\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _onGetChats.apply(this, arguments);\n  }\n  function onNewChat(_x2) {\n    return _onNewChat.apply(this, arguments);\n  }\n  function _onNewChat() {\n    _onNewChat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(chat) {\n      var newChats;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              newChats = [chat].concat(chats ? chats : []);\n              setChats(newChats);\n              return _context3.abrupt(\"return\");\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _onNewChat.apply(this, arguments);\n  }\n  function onEditChat(_x3) {\n    return _onEditChat.apply(this, arguments);\n  }\n  function _onEditChat() {\n    _onEditChat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(newChat) {\n      var otherChats, newChats, sortedChats;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              otherChats = chats ? chats.filter(function (chat) {\n                return chat.id !== newChat.id;\n              }) : [];\n              newChats = [newChat].concat(otherChats);\n              sortedChats = sortChats(newChats);\n              setChats(sortedChats);\n              return _context4.abrupt(\"return\");\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _onEditChat.apply(this, arguments);\n  }\n  function onDeleteChat(_x4) {\n    return _onDeleteChat.apply(this, arguments);\n  }\n  function _onDeleteChat() {\n    _onDeleteChat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(oldChat) {\n      var newChats;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              newChats = chats ? chats.filter(function (chat) {\n                return chat.id !== oldChat.id;\n              }) : [];\n              setChats(newChats);\n              if (newChats.length > 0 && activeChatId === oldChat.id) onChatCardClick(newChats[0].id);\n              return _context5.abrupt(\"return\");\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _onDeleteChat.apply(this, arguments);\n  }\n  function onGetMessages(_x5, _x6) {\n    return _onGetMessages.apply(this, arguments);\n  }\n  function _onGetMessages() {\n    _onGetMessages = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(chatId, messages) {\n      return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              setHasMoreMessages(messages.length >= messageCountRef.current + messageCountIterator);\n              setMessages(messages);\n              return _context6.abrupt(\"return\");\n            case 4:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n    return _onGetMessages.apply(this, arguments);\n  }\n  function onNewMessage(_x7, _x8) {\n    return _onNewMessage.apply(this, arguments);\n  }\n  function _onNewMessage() {\n    _onNewMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(chatId, newMessage) {\n      var otherMessages, newMessages, sortedMessages;\n      return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              if (activeChatId === chatId) {\n                otherMessages = messages ? messages.filter(function (message) {\n                  return message.created !== newMessage.created;\n                }) : [];\n                newMessages = otherMessages.concat(newMessage);\n                sortedMessages = sortMessages(newMessages);\n                setMessages(sortedMessages);\n                if (isChatFeedAtBottom) {\n                  scrollToBottom(333, \"ce-message-list-\" + activeChatId);\n                }\n              }\n              return _context7.abrupt(\"return\");\n            case 2:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n    return _onNewMessage.apply(this, arguments);\n  }\n  function onEditMessage(_x9, _x10) {\n    return _onEditMessage.apply(this, arguments);\n  }\n  function _onEditMessage() {\n    _onEditMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(chatId, newMessage) {\n      var otherMessages, newMessages, sortedMessages;\n      return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              if (chatId === activeChatId) {\n                otherMessages = messages ? messages.filter(function (message) {\n                  return message.id !== newMessage.id;\n                }) : [];\n                newMessages = [newMessage].concat(otherMessages);\n                sortedMessages = sortMessages(newMessages);\n                setMessages(sortedMessages);\n              }\n              return _context8.abrupt(\"return\");\n            case 2:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n    return _onEditMessage.apply(this, arguments);\n  }\n  function onDeleteMessage(_x11, _x12) {\n    return _onDeleteMessage.apply(this, arguments);\n  }\n  function _onDeleteMessage() {\n    _onDeleteMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(chatId, oldMessage) {\n      var newMessages;\n      return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              if (chatId === activeChatId) {\n                newMessages = messages ? messages.filter(function (message) {\n                  return message.id !== oldMessage.id;\n                }) : [];\n                setMessages(newMessages);\n              }\n              return _context9.abrupt(\"return\");\n            case 2:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n    return _onDeleteMessage.apply(this, arguments);\n  }\n  function onConnect() {\n    return _onConnect.apply(this, arguments);\n  }\n  function _onConnect() {\n    _onConnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n      return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              fetchMultiChatData();\n              return _context10.abrupt(\"return\");\n            case 2:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10);\n    }));\n    return _onConnect.apply(this, arguments);\n  }\n  function onAuthFail() {\n    return _onAuthFail.apply(this, arguments);\n  }\n  function _onAuthFail() {\n    _onAuthFail = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {\n      return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11);\n    }));\n    return _onAuthFail.apply(this, arguments);\n  }\n  function onChatFormSubmit(_x13) {\n    return _onChatFormSubmit.apply(this, arguments);\n  }\n  function _onChatFormSubmit() {\n    _onChatFormSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(title) {\n      return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              newChat(host, headers, title, function (chat) {\n                onNewChat(chat);\n                onChatCardClick(chat.id);\n              });\n              return _context12.abrupt(\"return\");\n            case 2:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, _callee12);\n    }));\n    return _onChatFormSubmit.apply(this, arguments);\n  }\n  function onChatCardClick(_x14) {\n    return _onChatCardClick.apply(this, arguments);\n  }\n  function _onChatCardClick() {\n    _onChatCardClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(newActiveChatId) {\n      return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              if (newActiveChatId !== activeChatId) {\n                setIsChatFeedLoading(true);\n                setIsChatSettingsLoading(true);\n              }\n              setActiveChatId(newActiveChatId);\n              setIsMobileChatListOpen(false);\n              getMessages(host, headers, newActiveChatId, messageCountIterator, function (chatId, messages) {\n                onGetMessages(chatId, messages);\n                setIsChatFeedLoading(false);\n                setIsChatSettingsLoading(false);\n                scrollToBottom(0, \"ce-message-list-\" + activeChatId);\n              });\n              getPeopleToInvite(host, headers, newActiveChatId, setPeopleToInvite);\n              return _context13.abrupt(\"return\");\n            case 6:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13);\n    }));\n    return _onChatCardClick.apply(this, arguments);\n  }\n  function onChatLoaderShow() {\n    return _onChatLoaderShow.apply(this, arguments);\n  }\n  function _onChatLoaderShow() {\n    _onChatLoaderShow = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14() {\n      var now;\n      return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n        while (1) {\n          switch (_context14.prev = _context14.next) {\n            case 0:\n              now = new Date().toISOString().replace('T', ' ').replace('Z', \"0000+00:00\");\n              getChatsBefore(host, headers, now, chatCountRef.current + chatCountIterator, onGetChats);\n              return _context14.abrupt(\"return\");\n            case 3:\n            case \"end\":\n              return _context14.stop();\n          }\n        }\n      }, _callee14);\n    }));\n    return _onChatLoaderShow.apply(this, arguments);\n  }\n  function onMessageFormSubmit(_x15) {\n    return _onMessageFormSubmit.apply(this, arguments);\n  }\n  function _onMessageFormSubmit() {\n    _onMessageFormSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(message) {\n      var newMessages;\n      return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n        while (1) {\n          switch (_context15.prev = _context15.next) {\n            case 0:\n              newMessages = messages == null ? void 0 : messages.concat(message);\n              setMessages(newMessages);\n              newMessage(host, headers, activeChatId, message, function () {});\n              setTimeout(function () {\n                scrollToBottom(333, \"ce-message-list-\" + activeChatId);\n              }, 100);\n              return _context15.abrupt(\"return\");\n            case 5:\n            case \"end\":\n              return _context15.stop();\n          }\n        }\n      }, _callee15);\n    }));\n    return _onMessageFormSubmit.apply(this, arguments);\n  }\n  function onInvitePersonClick(_x16) {\n    return _onInvitePersonClick.apply(this, arguments);\n  }\n  function _onInvitePersonClick() {\n    _onInvitePersonClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(person) {\n      return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n        while (1) {\n          switch (_context16.prev = _context16.next) {\n            case 0:\n              activeChatId && invitePerson(host, headers, activeChatId, person.username, function () {\n                return onChatCardClick(activeChatId);\n              });\n            case 1:\n            case \"end\":\n              return _context16.stop();\n          }\n        }\n      }, _callee16);\n    }));\n    return _onInvitePersonClick.apply(this, arguments);\n  }\n  function onRemovePersonClick(_x17) {\n    return _onRemovePersonClick.apply(this, arguments);\n  }\n  function _onRemovePersonClick() {\n    _onRemovePersonClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17(person) {\n      return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n        while (1) {\n          switch (_context17.prev = _context17.next) {\n            case 0:\n              activeChatId && removePerson(host, headers, activeChatId, person.username, function () {\n                return onChatCardClick(activeChatId);\n              });\n              return _context17.abrupt(\"return\");\n            case 2:\n            case \"end\":\n              return _context17.stop();\n          }\n        }\n      }, _callee17);\n    }));\n    return _onRemovePersonClick.apply(this, arguments);\n  }\n  function onDeleteChatClick(_x18) {\n    return _onDeleteChatClick.apply(this, arguments);\n  }\n  function _onDeleteChatClick() {\n    _onDeleteChatClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18(chat) {\n      return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n        while (1) {\n          switch (_context18.prev = _context18.next) {\n            case 0:\n              deleteChat(host, headers, chat.id, onDeleteChat);\n              return _context18.abrupt(\"return\");\n            case 2:\n            case \"end\":\n              return _context18.stop();\n          }\n        }\n      }, _callee18);\n    }));\n    return _onDeleteChatClick.apply(this, arguments);\n  }\n  function onBottomMessageShow() {\n    return _onBottomMessageShow.apply(this, arguments);\n  }\n  function _onBottomMessageShow() {\n    _onBottomMessageShow = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19() {\n      return _regeneratorRuntime().wrap(function _callee19$(_context19) {\n        while (1) {\n          switch (_context19.prev = _context19.next) {\n            case 0:\n              setIsChatFeedAtBottom(true);\n              return _context19.abrupt(\"return\");\n            case 2:\n            case \"end\":\n              return _context19.stop();\n          }\n        }\n      }, _callee19);\n    }));\n    return _onBottomMessageShow.apply(this, arguments);\n  }\n  function onBottomMessageHide() {\n    return _onBottomMessageHide.apply(this, arguments);\n  }\n  function _onBottomMessageHide() {\n    _onBottomMessageHide = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee20() {\n      return _regeneratorRuntime().wrap(function _callee20$(_context20) {\n        while (1) {\n          switch (_context20.prev = _context20.next) {\n            case 0:\n              setIsChatFeedAtBottom(false);\n              return _context20.abrupt(\"return\");\n            case 2:\n            case \"end\":\n              return _context20.stop();\n          }\n        }\n      }, _callee20);\n    }));\n    return _onBottomMessageHide.apply(this, arguments);\n  }\n  function onMessageLoaderShow() {\n    return _onMessageLoaderShow.apply(this, arguments);\n  }\n  function _onMessageLoaderShow() {\n    _onMessageLoaderShow = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee21() {\n      var scrollContainerId, messageListId, currentElement, currentHeight;\n      return _regeneratorRuntime().wrap(function _callee21$(_context21) {\n        while (1) {\n          switch (_context21.prev = _context21.next) {\n            case 0:\n              scrollContainerId = \"ce-message-list-\" + activeChatId;\n              messageListId = \"ce-message-list-content-\" + activeChatId;\n              currentElement = document.getElementById(messageListId);\n              currentHeight = currentElement ? currentElement.clientHeight : 0;\n              activeChatId && getMessages(host, headers, activeChatId, messageCountRef.current + messageCountIterator, function (chatId, messages) {\n                onGetMessages(chatId, messages);\n                setTimeout(function () {\n                  var element = document.getElementById(messageListId);\n                  if (element) {\n                    animateScroll.scrollTo(element.clientHeight - currentHeight, {\n                      duration: 333,\n                      containerId: scrollContainerId\n                    });\n                  }\n                }, 1000);\n              });\n              return _context21.abrupt(\"return\");\n            case 6:\n            case \"end\":\n              return _context21.stop();\n          }\n        }\n      }, _callee21);\n    }));\n    return _onMessageLoaderShow.apply(this, arguments);\n  }\n  function onMessageLoaderHide() {\n    return _onMessageLoaderHide.apply(this, arguments);\n  }\n  function _onMessageLoaderHide() {\n    _onMessageLoaderHide = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee22() {\n      return _regeneratorRuntime().wrap(function _callee22$(_context22) {\n        while (1) {\n          switch (_context22.prev = _context22.next) {\n            case 0:\n              return _context22.abrupt(\"return\");\n            case 1:\n            case \"end\":\n              return _context22.stop();\n          }\n        }\n      }, _callee22);\n    }));\n    return _onMessageLoaderHide.apply(this, arguments);\n  }\n  function onIsTyping(_x19, _x20) {\n    return _onIsTyping.apply(this, arguments);\n  }\n  function _onIsTyping() {\n    _onIsTyping = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee23(id, person) {\n      return _regeneratorRuntime().wrap(function _callee23$(_context23) {\n        while (1) {\n          switch (_context23.prev = _context23.next) {\n            case 0:\n              return _context23.abrupt(\"return\");\n            case 2:\n            case \"end\":\n              return _context23.stop();\n          }\n        }\n      }, _callee23);\n    }));\n    return _onIsTyping.apply(this, arguments);\n  }\n  function onMobileChatListClick() {\n    return _onMobileChatListClick.apply(this, arguments);\n  }\n  function _onMobileChatListClick() {\n    _onMobileChatListClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee24() {\n      return _regeneratorRuntime().wrap(function _callee24$(_context24) {\n        while (1) {\n          switch (_context24.prev = _context24.next) {\n            case 0:\n              setIsMobileChatListOpen(true);\n              return _context24.abrupt(\"return\");\n            case 2:\n            case \"end\":\n              return _context24.stop();\n          }\n        }\n      }, _callee24);\n    }));\n    return _onMobileChatListClick.apply(this, arguments);\n  }\n  function onMobileChatSettingsClick() {\n    return _onMobileChatSettingsClick.apply(this, arguments);\n  }\n  function _onMobileChatSettingsClick() {\n    _onMobileChatSettingsClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee25() {\n      return _regeneratorRuntime().wrap(function _callee25$(_context25) {\n        while (1) {\n          switch (_context25.prev = _context25.next) {\n            case 0:\n              setIsMobileChatSettingsOpen(true);\n              return _context25.abrupt(\"return\");\n            case 2:\n            case \"end\":\n              return _context25.stop();\n          }\n        }\n      }, _callee25);\n    }));\n    return _onMobileChatSettingsClick.apply(this, arguments);\n  }\n  function onCloseMobileChatSettingsClick() {\n    return _onCloseMobileChatSettingsClick.apply(this, arguments);\n  }\n  function _onCloseMobileChatSettingsClick() {\n    _onCloseMobileChatSettingsClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee26() {\n      return _regeneratorRuntime().wrap(function _callee26$(_context26) {\n        while (1) {\n          switch (_context26.prev = _context26.next) {\n            case 0:\n              setIsMobileChatSettingsOpen(false);\n              return _context26.abrupt(\"return\");\n            case 2:\n            case \"end\":\n              return _context26.stop();\n          }\n        }\n      }, _callee26);\n    }));\n    return _onCloseMobileChatSettingsClick.apply(this, arguments);\n  }\n  return {\n    // Socket Hooks\n    onConnect: onConnect,\n    onAuthFail: onAuthFail,\n    onGetChats: onGetChats,\n    onNewChat: onNewChat,\n    onEditChat: onEditChat,\n    onDeleteChat: onDeleteChat,\n    onGetMessages: onGetMessages,\n    onNewMessage: onNewMessage,\n    onEditMessage: onEditMessage,\n    onDeleteMessage: onDeleteMessage,\n    onIsTyping: onIsTyping,\n    // Auth Data\n    projectId: projectId,\n    username: username,\n    // file deepcode ignore HardcodedNonCryptoSecret: <not a secret>\n    secret: secret,\n    httpUrl: httpUrl,\n    wsUrl: httpUrl && httpUrl.replace('http', 'ws'),\n    // Chat Data\n    chats: chats,\n    setChats: setChats,\n    messages: messages,\n    setMessages: setMessages,\n    peopleToInvite: peopleToInvite,\n    setPeopleToInvite: setPeopleToInvite,\n    // Chat State\n    activeChatId: activeChatId,\n    setActiveChatId: setActiveChatId,\n    chat: chat,\n    hasMoreChats: hasMoreChats,\n    setHasMoreChats: setHasMoreChats,\n    hasMoreMessages: hasMoreMessages,\n    setHasMoreMessages: setHasMoreMessages,\n    isChatFeedAtBottom: isChatFeedAtBottom,\n    setIsChatFeedAtBottom: setIsChatFeedAtBottom,\n    isChatListLoading: isChatListLoading,\n    setIsChatListLoading: setIsChatListLoading,\n    isChatFeedLoading: isChatFeedLoading,\n    setIsChatFeedLoading: setIsChatFeedLoading,\n    isChatSettingsLoading: isChatSettingsLoading,\n    setIsChatSettingsLoading: setIsChatSettingsLoading,\n    isMobileChatListOpen: isMobileChatListOpen,\n    setIsMobileChatListOpen: setIsMobileChatListOpen,\n    isMobileChatSettingsOpen: isMobileChatSettingsOpen,\n    setIsMobileChatSettingsOpen: setIsMobileChatSettingsOpen,\n    // Component Hooks\n    onChatFormSubmit: onChatFormSubmit,\n    onChatCardClick: onChatCardClick,\n    onChatLoaderShow: onChatLoaderShow,\n    onMessageLoaderShow: onMessageLoaderShow,\n    onMessageLoaderHide: onMessageLoaderHide,\n    onBottomMessageShow: onBottomMessageShow,\n    onBottomMessageHide: onBottomMessageHide,\n    onMessageFormSubmit: onMessageFormSubmit,\n    onInvitePersonClick: onInvitePersonClick,\n    onRemovePersonClick: onRemovePersonClick,\n    onDeleteChatClick: onDeleteChatClick,\n    onMobileChatListClick: onMobileChatListClick,\n    onMobileChatSettingsClick: onMobileChatSettingsClick,\n    onCloseMobileChatSettingsClick: onCloseMobileChatSettingsClick\n  };\n};\nvar messageCountIterator$1 = 50;\nvar sortMessages$1 = function sortMessages(messages) {\n  return messages.sort(function (a, b) {\n    return new Date(b.created).getTime() - new Date(a.created).getTime();\n  });\n};\nvar useSingleChatLogic = function useSingleChatLogic(projectId, chatId, chatAccessKey, httpUrl) {\n  var host = httpUrl ? httpUrl : 'https://api.chatengine.io';\n  var headers = {\n    'Public-Key': projectId,\n    'Chat-ID': chatId,\n    'Access-Key': chatAccessKey\n  }; // Data\n\n  var _useState = useState(),\n    activeChatId = _useState[0],\n    setActiveChatId = _useState[1];\n  var _useState2 = useState(),\n    chat = _useState2[0],\n    setChat = _useState2[1];\n  var _useState3 = useState([]),\n    messages = _useState3[0],\n    setMessages = _useState3[1];\n  var _useState4 = useState([]),\n    peopleToInvite = _useState4[0],\n    setPeopleToInvite = _useState4[1]; // State\n\n  var _useState5 = useState(false),\n    hasMoreChats = _useState5[0],\n    setHasMoreChats = _useState5[1];\n  var _useState6 = useState(false),\n    hasMoreMessages = _useState6[0],\n    setHasMoreMessages = _useState6[1];\n  var _useState7 = useState(false),\n    isChatFeedAtBottom = _useState7[0],\n    setIsChatFeedAtBottom = _useState7[1];\n  var _useState8 = useState(true),\n    isChatFeedLoading = _useState8[0],\n    setIsChatFeedLoading = _useState8[1]; // Subscribe to Chat & Message Count\n\n  var chatCountRef = useRef(0);\n  chatCountRef.current = chat ? 1 : 0;\n  var messageCountRef = useRef(0);\n  messageCountRef.current = messages.length; // Fetch data on mount\n\n  var didMountRef = useRef(false);\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      fetchSingleChatData();\n    }\n  }, []);\n  function fetchSingleChatData() {\n    return _fetchSingleChatData.apply(this, arguments);\n  }\n  function _fetchSingleChatData() {\n    _fetchSingleChatData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              getChat(host, headers, chatId, function (chat) {\n                setChat(chat);\n                onChatCardClick(chat.id);\n              });\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchSingleChatData.apply(this, arguments);\n  }\n  function onEditChat(_x) {\n    return _onEditChat.apply(this, arguments);\n  }\n  function _onEditChat() {\n    _onEditChat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(chat) {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setChat(chat);\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _onEditChat.apply(this, arguments);\n  }\n  function onDeleteChat() {\n    return _onDeleteChat.apply(this, arguments);\n  }\n  function _onDeleteChat() {\n    _onDeleteChat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setChat(undefined);\n              setActiveChatId(undefined);\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _onDeleteChat.apply(this, arguments);\n  }\n  function onGetMessages(_x2, _x3) {\n    return _onGetMessages.apply(this, arguments);\n  }\n  function _onGetMessages() {\n    _onGetMessages = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(chatId, messages) {\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setHasMoreMessages(messages.length >= messageCountRef.current + messageCountIterator$1);\n              setMessages(messages);\n              setIsChatFeedLoading(false);\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _onGetMessages.apply(this, arguments);\n  }\n  function onNewMessage(_x4, _x5) {\n    return _onNewMessage.apply(this, arguments);\n  }\n  function _onNewMessage() {\n    _onNewMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(chatId, newMessage) {\n      var otherMessages, newMessages, sortedMessages;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              if (activeChatId === chatId) {\n                otherMessages = messages ? messages.filter(function (message) {\n                  return message.created !== newMessage.created;\n                }) : [];\n                newMessages = otherMessages.concat(newMessage);\n                sortedMessages = sortMessages$1(newMessages);\n                setMessages(sortedMessages);\n                if (isChatFeedAtBottom) {\n                  scrollToBottom(333, \"ce-message-list-\" + activeChatId);\n                }\n              }\n            case 1:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _onNewMessage.apply(this, arguments);\n  }\n  function onEditMessage(_x6, _x7) {\n    return _onEditMessage.apply(this, arguments);\n  }\n  function _onEditMessage() {\n    _onEditMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(chatId, newMessage) {\n      var otherMessages, newMessages, sortedMessages;\n      return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              if (chatId === activeChatId) {\n                otherMessages = messages ? messages.filter(function (message) {\n                  return message.id !== newMessage.id;\n                }) : [];\n                newMessages = [newMessage].concat(otherMessages);\n                sortedMessages = sortMessages$1(newMessages);\n                setMessages(sortedMessages);\n              }\n            case 1:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n    return _onEditMessage.apply(this, arguments);\n  }\n  function onDeleteMessage(_x8, _x9) {\n    return _onDeleteMessage.apply(this, arguments);\n  }\n  function _onDeleteMessage() {\n    _onDeleteMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(chatId, oldMessage) {\n      var newMessages;\n      return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              if (chatId === activeChatId) {\n                newMessages = messages ? messages.filter(function (message) {\n                  return message.id !== oldMessage.id;\n                }) : [];\n                setMessages(newMessages);\n              }\n            case 1:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n    return _onDeleteMessage.apply(this, arguments);\n  }\n  function onConnect() {\n    return _onConnect.apply(this, arguments);\n  }\n  function _onConnect() {\n    _onConnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n      return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              fetchSingleChatData();\n            case 1:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n    return _onConnect.apply(this, arguments);\n  }\n  function onAuthFail() {\n    return _onAuthFail.apply(this, arguments);\n  }\n  function _onAuthFail() {\n    _onAuthFail = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n      return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n    return _onAuthFail.apply(this, arguments);\n  }\n  function onChatCardClick(_x10) {\n    return _onChatCardClick.apply(this, arguments);\n  }\n  function _onChatCardClick() {\n    _onChatCardClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(activeChatId) {\n      return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              setActiveChatId(activeChatId);\n              getMessages(host, headers, activeChatId, messageCountIterator$1, function (chatId, messages) {\n                onGetMessages(chatId, messages);\n                scrollToBottom(0, \"ce-message-list-\" + activeChatId);\n              });\n            case 2:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10);\n    }));\n    return _onChatCardClick.apply(this, arguments);\n  }\n  function onMessageFormSubmit(_x11) {\n    return _onMessageFormSubmit.apply(this, arguments);\n  }\n  function _onMessageFormSubmit() {\n    _onMessageFormSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(message) {\n      var newMessages;\n      return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              newMessages = messages == null ? void 0 : messages.concat(message);\n              setMessages(newMessages);\n              newMessage(host, headers, activeChatId, message, function () {});\n              setTimeout(function () {\n                scrollToBottom(333, \"ce-message-list-\" + activeChatId);\n              }, 100);\n            case 4:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11);\n    }));\n    return _onMessageFormSubmit.apply(this, arguments);\n  }\n  function onBottomMessageShow() {\n    return _onBottomMessageShow.apply(this, arguments);\n  }\n  function _onBottomMessageShow() {\n    _onBottomMessageShow = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {\n      return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              setIsChatFeedAtBottom(true);\n            case 1:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, _callee12);\n    }));\n    return _onBottomMessageShow.apply(this, arguments);\n  }\n  function onBottomMessageHide() {\n    return _onBottomMessageHide.apply(this, arguments);\n  }\n  function _onBottomMessageHide() {\n    _onBottomMessageHide = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {\n      return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              setIsChatFeedAtBottom(false);\n            case 1:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13);\n    }));\n    return _onBottomMessageHide.apply(this, arguments);\n  }\n  function onMessageLoaderShow() {\n    return _onMessageLoaderShow.apply(this, arguments);\n  }\n  function _onMessageLoaderShow() {\n    _onMessageLoaderShow = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14() {\n      var scrollContainerId, messageListId, currentElement, currentHeight;\n      return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n        while (1) {\n          switch (_context14.prev = _context14.next) {\n            case 0:\n              scrollContainerId = \"ce-message-list-\" + activeChatId;\n              messageListId = \"ce-message-list-content-\" + activeChatId;\n              currentElement = document.getElementById(messageListId);\n              currentHeight = currentElement ? currentElement.clientHeight : 0;\n              activeChatId && getMessages(host, headers, activeChatId, messageCountRef.current + messageCountIterator$1, function (chatId, messages) {\n                onGetMessages(chatId, messages);\n                setTimeout(function () {\n                  var element = document.getElementById(messageListId);\n                  if (element) {\n                    animateScroll.scrollTo(element.clientHeight - currentHeight, {\n                      duration: 333,\n                      containerId: scrollContainerId\n                    });\n                  }\n                }, 1000);\n              });\n            case 5:\n            case \"end\":\n              return _context14.stop();\n          }\n        }\n      }, _callee14);\n    }));\n    return _onMessageLoaderShow.apply(this, arguments);\n  }\n  function onMessageLoaderHide() {\n    return _onMessageLoaderHide.apply(this, arguments);\n  }\n  function _onMessageLoaderHide() {\n    _onMessageLoaderHide = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15() {\n      return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n        while (1) {\n          switch (_context15.prev = _context15.next) {\n            case 0:\n            case \"end\":\n              return _context15.stop();\n          }\n        }\n      }, _callee15);\n    }));\n    return _onMessageLoaderHide.apply(this, arguments);\n  }\n  function onIsTyping(_x12, _x13) {\n    return _onIsTyping.apply(this, arguments);\n  }\n  function _onIsTyping() {\n    _onIsTyping = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(id, person) {\n      return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n        while (1) {\n          switch (_context16.prev = _context16.next) {\n            case 0:\n            case 1:\n            case \"end\":\n              return _context16.stop();\n          }\n        }\n      }, _callee16);\n    }));\n    return _onIsTyping.apply(this, arguments);\n  }\n  return {\n    // Socket Hooks\n    onConnect: onConnect,\n    onAuthFail: onAuthFail,\n    onEditChat: onEditChat,\n    onDeleteChat: onDeleteChat,\n    onGetMessages: onGetMessages,\n    onNewMessage: onNewMessage,\n    onEditMessage: onEditMessage,\n    onDeleteMessage: onDeleteMessage,\n    onIsTyping: onIsTyping,\n    // Auth Data\n    projectId: projectId,\n    chatId: chatId,\n    chatAccessKey: chatAccessKey,\n    httpUrl: httpUrl,\n    wsUrl: httpUrl && httpUrl.replace('http', 'ws'),\n    // Chat Data\n    activeChatId: activeChatId,\n    setActiveChatId: setActiveChatId,\n    chat: chat,\n    messages: messages,\n    setMessages: setMessages,\n    peopleToInvite: peopleToInvite,\n    setPeopleToInvite: setPeopleToInvite,\n    // Chat State\n    hasMoreChats: hasMoreChats,\n    setHasMoreChats: setHasMoreChats,\n    hasMoreMessages: hasMoreMessages,\n    setHasMoreMessages: setHasMoreMessages,\n    isChatFeedAtBottom: isChatFeedAtBottom,\n    setIsChatFeedAtBottom: setIsChatFeedAtBottom,\n    isChatFeedLoading: isChatFeedLoading,\n    setIsChatFeedLoading: setIsChatFeedLoading,\n    // Component Hooks\n    onChatCardClick: onChatCardClick,\n    onMessageLoaderShow: onMessageLoaderShow,\n    onMessageLoaderHide: onMessageLoaderHide,\n    onBottomMessageShow: onBottomMessageShow,\n    onBottomMessageHide: onBottomMessageHide,\n    onMessageFormSubmit: onMessageFormSubmit\n  };\n};\nvar ChildSocket = function ChildSocket(props) {\n  var sessionToken = props.sessionToken;\n  var onMessage = function onMessage(event) {\n    var eventJSON = JSON.parse(event);\n    if (eventJSON.action === 'new_chat') {\n      props.onNewChat && props.onNewChat(eventJSON.data);\n    } else if (eventJSON.action === 'edit_chat' || eventJSON.action === 'add_person' || eventJSON.action === 'remove_person') {\n      props.onEditChat && props.onEditChat(eventJSON.data);\n    } else if (eventJSON.action === 'delete_chat') {\n      props.onDeleteChat && props.onDeleteChat(eventJSON.data);\n    } else if (eventJSON.action === 'new_message') {\n      var _eventJSON$data = eventJSON.data,\n        id = _eventJSON$data.id,\n        message = _eventJSON$data.message;\n      props.onNewMessage && props.onNewMessage(id, message);\n    } else if (eventJSON.action === 'edit_message') {\n      var _eventJSON$data2 = eventJSON.data,\n        _id = _eventJSON$data2.id,\n        _message = _eventJSON$data2.message;\n      props.onEditMessage && props.onEditMessage(_id, _message);\n    } else if (eventJSON.action === 'delete_message') {\n      var _eventJSON$data3 = eventJSON.data,\n        _id2 = _eventJSON$data3.id,\n        _message2 = _eventJSON$data3.message;\n      props.onDeleteMessage && props.onDeleteMessage(_id2, _message2);\n    } else if (eventJSON.action === 'is_typing') {\n      var _eventJSON$data4 = eventJSON.data,\n        _id3 = _eventJSON$data4.id,\n        person = _eventJSON$data4.person;\n      props.onIsTyping && props.onIsTyping(_id3, person);\n    }\n  };\n  if (!sessionToken) return React.createElement(\"div\", null);\n  var wsUrl = props.wsUrl ? props.wsUrl : 'wss://api.chatengine.io';\n  return React.createElement(WebSocket, {\n    url: wsUrl + \"/person_v4/?session_token=\" + sessionToken,\n    reconnect: true,\n    reconnectIntervalInMilliSeconds: 3000,\n    onOpen: props.onConnect,\n    onError: props.onError,\n    onMessage: onMessage,\n    onClose: function onClose() {\n      props.onClose && props.onClose();\n      props.onRefresh && props.onRefresh();\n    }\n  });\n};\nvar getSessionToken = function getSessionToken(host, headers, callback, error) {\n  axios.get(host + \"/users/me/session/\", {\n    headers: headers\n  }).then(function (response) {\n    return callback(response.data.token);\n  })[\"catch\"](function () {\n    return error();\n  });\n};\nvar MultiChatSocket = function MultiChatSocket(props) {\n  var didMountRef = useRef(false);\n  var _useState = useState(false),\n    isHidden = _useState[0],\n    setIsHidden = _useState[1];\n  var _useState2 = useState(undefined),\n    sessionToken = _useState2[0],\n    setToken = _useState2[1];\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      var host = props.httpUrl ? props.httpUrl : 'https://api.chatengine.io';\n      var headers = {\n        'Public-Key': props.projectId,\n        'User-Name': props.username,\n        'User-Secret': props.secret\n      };\n      getSessionToken(host, headers, function (token) {\n        return setToken(token);\n      }, function () {\n        console.log(\"Your login credentials were not correct: \\n\\n              Project ID: \" + props.projectId + \" \\n\\n              Username: \" + props.username + \" \\n\\n              Secret: \" + props.secret + \"\\n\\n              Double check these credentials to make sure they're correct.\\n\\n              If all three are correct, try resetting the username and secret in the Online Dashboard or Private API.\");\n        props.onAuthFail && props.onAuthFail();\n      });\n    }\n  }, []);\n  function reRender() {\n    return _reRender.apply(this, arguments);\n  }\n  function _reRender() {\n    _reRender = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsHidden(true);\n              setTimeout(function () {\n                return setIsHidden(false);\n              }, 100);\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _reRender.apply(this, arguments);\n  }\n  if (isHidden && sessionToken) return React.createElement(\"div\", null);\n  return React.createElement(ChildSocket, {\n    projectId: props.projectId,\n    username: props.username,\n    secret: props.secret,\n    sessionToken: sessionToken,\n    wsUrl: props.wsUrl,\n    onRefresh: reRender,\n    onConnect: props.onConnect,\n    onError: props.onError,\n    onClose: props.onClose,\n    onNewChat: props.onNewChat,\n    onEditChat: props.onEditChat,\n    onDeleteChat: props.onDeleteChat,\n    onNewMessage: props.onNewMessage,\n    onEditMessage: props.onEditMessage,\n    onDeleteMessage: props.onDeleteMessage,\n    onIsTyping: props.onIsTyping\n  });\n};\nvar socketRef = undefined;\nvar pingIntervalId;\nvar timeIntervalId;\nvar pingInterval = 4000;\nvar minLag = 15 * 1000;\nvar ChildSocket$1 = function ChildSocket(props) {\n  var _useState = useState(Date.now()),\n    now = _useState[0],\n    setNow = _useState[1];\n  var _useState2 = useState(Date.now() + minLag),\n    shouldPongBy = _useState2[0],\n    setShouldPongBy = _useState2[1];\n  var projectId = props.projectId,\n    chatId = props.chatId,\n    chatAccessKey = props.chatAccessKey;\n  useEffect(function () {\n    if (now > shouldPongBy) {\n      props.onRefresh && props.onRefresh();\n      setShouldPongBy(Date.now() + minLag);\n    }\n  }, [now, shouldPongBy]);\n  useEffect(function () {\n    return function () {\n      clearInterval(pingIntervalId);\n      clearInterval(timeIntervalId);\n    };\n  }, []);\n  var onConnect = function onConnect() {\n    pingIntervalId = setInterval(function () {\n      try {\n        socketRef.sendMessage(JSON.stringify('ping'));\n      } catch (e) {\n        console.log('Ping error', e);\n      }\n    }, pingInterval);\n    timeIntervalId = setInterval(function () {\n      return setNow(Date.now());\n    }, 1000);\n    props.onConnect && props.onConnect();\n  };\n  var onMessage = function onMessage(event) {\n    var eventJSON = JSON.parse(event);\n    if (eventJSON.action === 'pong') {\n      setShouldPongBy(Date.now() + minLag);\n    } else if (eventJSON.action === 'login_error') {\n      console.log(\"Your chat auth credentials were not correct: \\n\\n                Project ID: \" + projectId + \" \\n\\n                Chat ID: \" + chatId + \" \\n\\n                Chat Access Key: \" + chatAccessKey + \"\\n\\n                Double check these credentials to make sure they're correct.\\n\\n                If all three are correct, try resetting the username and secret in the Online Dashboard or Private API.\");\n      props.onAuthFail && props.onAuthFail();\n    } else if (eventJSON.action === 'edit_chat' || eventJSON.action === 'add_person' || eventJSON.action === 'remove_person') {\n      props.onEditChat && props.onEditChat(eventJSON.data);\n    } else if (eventJSON.action === 'delete_chat') {\n      props.onDeleteChat && props.onDeleteChat(eventJSON.data);\n    } else if (eventJSON.action === 'new_message') {\n      var _eventJSON$data = eventJSON.data,\n        id = _eventJSON$data.id,\n        message = _eventJSON$data.message;\n      props.onNewMessage && props.onNewMessage(id, message);\n    } else if (eventJSON.action === 'edit_message') {\n      var _eventJSON$data2 = eventJSON.data,\n        _id = _eventJSON$data2.id,\n        _message = _eventJSON$data2.message;\n      props.onEditMessage && props.onEditMessage(_id, _message);\n    } else if (eventJSON.action === 'delete_message') {\n      var _eventJSON$data3 = eventJSON.data,\n        _id2 = _eventJSON$data3.id,\n        _message2 = _eventJSON$data3.message;\n      props.onDeleteMessage && props.onDeleteMessage(_id2, _message2);\n    } else if (eventJSON.action === 'is_typing') {\n      var _eventJSON$data4 = eventJSON.data,\n        _id3 = _eventJSON$data4.id,\n        person = _eventJSON$data4.person;\n      props.onIsTyping && props.onIsTyping(_id3, person);\n    }\n  };\n  var wsUrl = props.wsUrl ? props.wsUrl : 'wss://api.chatengine.io';\n  return React.createElement(WebSocket, {\n    url: wsUrl + \"/chat/?projectID=\" + projectId + \"&chatID=\" + chatId + \"&accessKey=\" + chatAccessKey,\n    reconnect: true,\n    reconnectIntervalInMilliSeconds: 3000,\n    childRef: function childRef(ref) {\n      return socketRef = ref;\n    },\n    onOpen: onConnect,\n    onError: props.onError,\n    onMessage: onMessage,\n    onClose: function onClose() {\n      props.onClose && props.onClose();\n      props.onRefresh && props.onRefresh();\n    }\n  });\n};\nvar SingleChatSocket = function SingleChatSocket(props) {\n  var didMountRef = useRef(false);\n  var _useState = useState(false),\n    isHidden = _useState[0],\n    setIsHidden = _useState[1];\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n    }\n  }, []);\n  function reRender() {\n    return _reRender.apply(this, arguments);\n  }\n  function _reRender() {\n    _reRender = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsHidden(true);\n              setTimeout(function () {\n                return setIsHidden(false);\n              }, 100);\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _reRender.apply(this, arguments);\n  }\n  if (isHidden) return React.createElement(\"div\", null);\n  return React.createElement(ChildSocket$1, {\n    projectId: props.projectId,\n    chatId: props.chatId,\n    chatAccessKey: props.chatAccessKey,\n    wsUrl: props.wsUrl,\n    onRefresh: reRender,\n    onConnect: props.onConnect,\n    onAuthFail: props.onAuthFail,\n    onError: props.onError,\n    onClose: props.onClose,\n    onEditChat: props.onEditChat,\n    onDeleteChat: props.onDeleteChat,\n    onNewMessage: props.onNewMessage,\n    onEditMessage: props.onEditMessage,\n    onDeleteMessage: props.onDeleteMessage,\n    onIsTyping: props.onIsTyping\n  });\n};\nexport { Autocomplete, Avatar, Button, ChatAvatars, ChatCard, ChatFeed, ChatForm, ChatHeader, ChatList, ChatSettings, Dot, Dropdown, File, Image, Input, MessageForm, MessageList, MultiChatSocket, MultiChatWindow, OptionsSettings, PeopleSettings, PhotosSettings, RenderTrigger, SingleChatSocket, Spinner, deleteChat, formatDateTime, formatTime, getChat, getChatsBefore, getDateTime, getMessages, getOrCreateChat, getPeopleToInvite, invitePerson, newChat, newMessage, readMessage, removePerson, useMultiChatLogic, useSingleChatLogic };","map":{"version":3,"names":["getMessages","host","headers","chatId","messageCount","callback","axios","get","then","response","data","error","console","log","newMessage","message","formdata","FormData","attachments","length","i","append","blob","file","text","created","sender_username","JSON","stringify","post","readMessage","messageId","patch","last_read","getChat","deleteChat","getChatsBefore","before","chatCount","put","getOrCreateChat","newChat","title","getPeopleToInvite","invitePerson","username","removePerson","styles","style","position","height","chatListColumnStyle","overflowY","chatFeedColumnStyle","borderRight","borderLeft","chatSettingsColumnStyle","chatListMobileButtonStyle","top","left","chatSettingsMobileButtonStyle","right","styles$1","width","maxHeight","overflowX","backgroundColor","loadingMoreChatsStyle","fontFamily","textAlign","margin","paddingTop","paddingBottom","borderRadius","styles$2","titleStyle","fontSize","fontWeight","inputStyle","buttonStyle","styles$3","color","border","outline","cursor","padding","transition","WebkitTransition","MozTransition","hoveredStyle","opacity","Button","props","_props$type","type","_useState","useState","hovered","setHovered","getTypeStyle","primaryStyle","dangerStyle","typeStyle","React","createElement","onClick","className","onMouseEnter","onMouseLeave","_extends","children","styles$4","boxSizing","focusStyle","Input","didMountRef","useRef","currentValue","setCurrentValue","_useState2","focused","setFocused","useEffect","current","defaultValue","event","target","value","onChange","autoFocus","placeholder","label","e","onFocus","onBlur","ChatForm","selected","setSelected","setValue","onSubmit","preventDefault","onFormSubmit","renderChatForm","Fragment","visibility","colors","stringToNumber","str","sum","charCodeAt","stringToColor","styles$5","backgroundRepeat","backgroundPosition","backgroundSize","lineHeight","statusStyle","Avatar","localAvatar","setLocalAvatar","_props$username","avatarUrl","_props$avatarUrl","substring","toUpperCase","newAvatar","split","avatarUrlStyle","backgroundImage","display","isOnline","undefined","styles$6","activeStyle","avatarStyle","whiteSpace","overflow","notificationStyle","subtitleStyle","bottom","timeStampStyle","loadingBarStyle","ChatCard","_props$title","description","_props$description","timeStamp","_props$timeStamp","isLoading","hasNotificationStyle","hasNotification","renderChatCard","isActive","renderAvatar","avatarUsername","id","dangerouslySetInnerHTML","__html","styles$7","RenderTrigger","_props$children","useOnScreen","ref","isIntersecting","setIntersecting","observer","IntersectionObserver","_ref","entry","onShow","onHide","observe","disconnect","getDateTime","date","timezoneOffset","replace","year","substr","month","day","hour","minute","second","d","Date","setHours","getHours","formatTime","dateTime","time","toLocaleString","slice","formatDateTime","styles$8","Spinner","viewBox","focusable","readLastMessage","chat","people","some","chatPerson","person","last_message","renderLoading","map","_","key","getDescription","ChatList","_props$activeChatId","activeChatId","renderChats","chats","index","otherPerson","find","is_direct_chat","toString","onChatCardClick","_chat$last_message$se","sender","avatar","renderChatList","onChatFormSubmit","hasMoreChats","onChatLoaderShow","styles$9","chatHeaderStyle","messageListStyle","messageFormStyle","styles$a","zIndex","mobileOptionStyle","setConfiguration","maxScreenClass","gutterWidth","ChatHeader","_props$id","renderChatHeader","Row","Col","xs","sm","styles$b","messageStyle","theirStyles","senderUsernameStyle","paddingLeft","attachmentsStyle","bodyStyle","timeTagStyle","marginLeft","bubbleStyle","overflowWrap","maxWidth","readsStyle","readStyle","myStyles","marginRight","styles$c","Dot","isVisible","_props$isVisible","styles$d","DateTime","_props$offset","offset","styles$e","marginBottom","images","isImage","fileName","dotSplit","indexOf","toLowerCase","getFileName","fileUrl","slashSplit","nameAndHash","urlOrLoading","url","File","isHovered","setIsHovered","window","open","styles$f","minHeight","minWidth","objectFit","Image","loadingUrl","src","alt","Message","_props$lastMessage","lastMessage","nextMessage","_props$nextMessage","_props$chat","isSending","_props$isSending","isMyMessage","_props$isMyMessage","showDateTime","_props$showDateTime","topRadius","bottomRadius","borderStyle","sendingStyle","isLastMessage","renderAttachments","renderImage","attachment","attachmentsImageStyle","attachmentsFileStyle","renderReads","chatPeople","renderMessage","dateTimeStyle","MessageList","_props$messages","messages","messagesObject","mapKeys","keys","Object","sort","_date","renderMessages","lastKey","nextKey","lastDate","thisDate","onBottomMessageShow","onBottomMessageHide","renderMessageList","_props$chat2","hasMoreMessages","onMessageLoaderShow","onMessageLoaderHide","font","styles$g","paddingRight","resize","sendButtonStyle","draftAttachmentStyle","draftAttachmentRemoveStyle","draftImageStyle","draftFileStyle","styles$h","iconStyle","AttachmentInput","hoverStyle","onSelect","files","onSelectFiles","encType","htmlFor","multiple","MessageForm","_props$label","iter","setIter","_useState3","setHeight","_useState4","buttonHover","setButtonHover","_useState5","setAttachments","textarea","document","getElementById","Math","min","scrollHeight","toISOString","floor","random","localAttachments","name","custom_json","onKeyDown","onRemove","newAttachments","splice","Array","from","URL","createObjectURL","renderMessageForm","rows","attachmentInputStyle","attachmentInputIconStyle","styles$i","gifStyle","textStyle","WelcomeGif","renderWelcomeGif","getDescription$1","formattedDateTime","ChatFeed","renderChatFeed","onMessageFormSubmit","styles$j","chatTitleStyle","styles$k","oneAvatarStyle","avatarOne","twoAvatarsStyle","avatarTwo","threeAvatarsStyle","avatarThree","ChatAvatars","_props$users","users","getStyle","getPeopleToRender","isDirectChat","topPeople","propsStyle","renderChatAvatars","styles$l","usernameStyle","deleteButtonStyle","optionStyle","addMemberStyle","addMemberInputStyle","styles$m","closeStyle","optionsStyle","emptyEvent","getOptions","options","maxVisibleOptions","filter","option","Autocomplete","showOptions","setShowOptions","addEventListener","handleClickOutside","removeEventListener","contains","_onChange","renderOptions","max","renderOption","styles$n","borderTop","barStyle","barHoveredStyle","bodyExpandedStyle","Dropdown","expanded","setExpanded","transform","fill","PeopleSettings","peopleToInvite","_props$peopleToInvite","renderChatPeople","is_online","canDelete","onRemovePersonClick","renderChatPeopleOption","onInvitePersonClick","renderPeopleSettings","styles$o","imageWrapperStyle","imagePaddingStyle","imageStyle","PhotosSettings","renderImages","renderPhotosSettings","styles$p","deleteChatButtonStyle","OptionsSettings","renderOptionsSettings","onDeleteChatClick","ChatSettings","renderChatSettings","admin","peopleSettingsStyle","photosSettingsStyle","optionsSettingsStyle","MultiChatWindow","_props$chats","innerWidth","isMobile","setIsMobile","handleResize","isChatListLoading","isChatSettingsLoading","chatAvatarsProps","assign","onCloseMobileChatSettingsClick","CloseOutlined","isChatFeedLoading","onMobileChatListClick","UnorderedListOutlined","isMobileChatListOpen","onMobileChatSettingsClick","SettingOutlined","isMobileChatSettingsOpen","scrollToBottom","duration","containerId","animateScroll","chatCountIterator","messageCountIterator","sortChats","a","b","aDate","bDate","getTime","sortMessages","useMultiChatLogic","projectId","secret","httpUrl","setActiveChatId","setChats","setMessages","setPeopleToInvite","setHasMoreChats","_useState6","setHasMoreMessages","_useState7","isChatFeedAtBottom","setIsChatFeedAtBottom","_useState8","setIsChatListLoading","_useState9","setIsChatFeedLoading","_useState10","setIsChatSettingsLoading","_useState11","setIsMobileChatListOpen","_useState12","setIsMobileChatSettingsOpen","chatCountRef","messageCountRef","fetchMultiChatData","_callee","now","_regeneratorRuntime","wrap","_callee$","_context","prev","next","onGetChats","currentChat","abrupt","stop","_x","_callee2","sortedChats","_callee2$","_context2","onNewChat","_x2","_callee3","newChats","_callee3$","_context3","concat","onEditChat","_x3","_callee4","otherChats","_callee4$","_context4","onDeleteChat","_x4","_callee5","oldChat","_callee5$","_context5","onGetMessages","_x5","_x6","_callee6","_callee6$","_context6","onNewMessage","_x7","_x8","_callee7","otherMessages","newMessages","sortedMessages","_callee7$","_context7","onEditMessage","_x9","_x10","_callee8","_callee8$","_context8","onDeleteMessage","_x11","_x12","_callee9","oldMessage","_callee9$","_context9","onConnect","_callee10","_callee10$","_context10","onAuthFail","_callee11","_callee11$","_context11","_x13","_callee12","_callee12$","_context12","_x14","_callee13","newActiveChatId","_callee13$","_context13","_callee14","_callee14$","_context14","_x15","_callee15","_callee15$","_context15","setTimeout","_x16","_callee16","_callee16$","_context16","_x17","_callee17","_callee17$","_context17","_x18","_callee18","_callee18$","_context18","_callee19","_callee19$","_context19","_callee20","_callee20$","_context20","_callee21","scrollContainerId","messageListId","currentElement","currentHeight","_callee21$","_context21","clientHeight","element","scrollTo","_callee22","_callee22$","_context22","onIsTyping","_x19","_x20","_callee23","_callee23$","_context23","_callee24","_callee24$","_context24","_callee25","_callee25$","_context25","_callee26","_callee26$","_context26","wsUrl","messageCountIterator$1","sortMessages$1","useSingleChatLogic","chatAccessKey","setChat","fetchSingleChatData","ChildSocket","sessionToken","onMessage","eventJSON","parse","action","_eventJSON$data","_eventJSON$data2","_id","_message","_eventJSON$data3","_id2","_message2","_eventJSON$data4","_id3","WebSocket","reconnect","reconnectIntervalInMilliSeconds","onOpen","onError","onClose","onRefresh","getSessionToken","token","MultiChatSocket","isHidden","setIsHidden","setToken","reRender","socketRef","pingIntervalId","timeIntervalId","pingInterval","minLag","ChildSocket$1","setNow","shouldPongBy","setShouldPongBy","clearInterval","setInterval","sendMessage","childRef","SingleChatSocket"],"sources":["C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\actions\\messages\\getMessages.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\actions\\messages\\newMessage.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\actions\\messages\\readMessage.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\actions\\chats\\getChat.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\actions\\chats\\deleteChat.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\actions\\chats\\getChatsBefore.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\actions\\chats\\getOrCreateChat.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\actions\\chats\\newChat.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\actions\\people\\getPeopleToInvite.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\actions\\people\\invitePerson.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\actions\\people\\removePerson.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatList\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatList\\ChatForm\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Button\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Button\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Input\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Input\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatList\\ChatForm\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\util\\colorMapping.ts","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Avatar\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Avatar\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatList\\ChatCard\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatList\\ChatCard\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\RenderTrigger\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\RenderTrigger\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\util\\dateTime.ts","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Spinner\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Spinner\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatList\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\ChatHeader\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\ChatHeader\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\MessageList\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\MessageList\\Message\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Dot\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Dot\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\MessageList\\Message\\DateTime\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\MessageList\\Message\\DateTime\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\File\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\util\\file.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\File\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Image\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Image\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\MessageList\\Message\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\MessageList\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\MessageForm\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\MessageForm\\AttachmentInput\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\MessageForm\\AttachmentInput\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\MessageForm\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\WelcomeGif\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\WelcomeGif\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatFeed\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatSettings\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatSettings\\ChatAvatars\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatSettings\\ChatAvatars\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatSettings\\PeopleSettings\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Autocomplete\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Autocomplete\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Dropdown\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\Components\\Dropdown\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatSettings\\PeopleSettings\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatSettings\\PhotosSettings\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatSettings\\PhotosSettings\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatSettings\\OptionsSettings\\styles.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatSettings\\OptionsSettings\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\ChatSettings\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\components\\MultiChatWindow\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\hooks\\shared.ts","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\hooks\\useMultiChatLogic.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\hooks\\useSingleChatLogic.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\sockets\\MultiChatSocket\\childSocket.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\sockets\\MultiChatSocket\\index.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\sockets\\SingleChatSocket\\childSocket.tsx","C:\\Users\\Themba Masilela\\Documents\\Programming\\Projects\\easychat\\client\\node_modules\\react-chat-engine-advanced\\src\\sockets\\SingleChatSocket\\index.tsx"],"sourcesContent":["import {\n  MessageObject,\n  UserAuthHeaders,\n  ChatAuthHeaders,\n} from '../../interfaces';\n\nimport axios from 'axios';\n\ntype GetMessages = (\n  host: string,\n  headers: UserAuthHeaders | ChatAuthHeaders,\n  chatId: number,\n  messageCount: number,\n  callback: (chatId: number, messages: MessageObject[]) => void\n) => void;\n\nexport const getMessages: GetMessages = (\n  host,\n  headers,\n  chatId,\n  messageCount,\n  callback\n) => {\n  axios\n    .get(`${host}/chats/${chatId}/messages/latest/${messageCount}/`, {\n      headers,\n    })\n    .then((response) => {\n      // props.onGetMessages && props.onGetMessages(chatId, response.data)\n      callback(chatId, response.data);\n    })\n    .catch((error) => {\n      console.log('Fetch Latest Messages Error', error);\n    });\n};\n","import _ from 'lodash';\nimport axios from 'axios';\n\nimport {\n  MessageObject,\n  ChatAuthHeaders,\n  UserAuthHeaders,\n} from '../../interfaces';\n\ntype NewMessage = (\n  host: string,\n  headers: UserAuthHeaders | ChatAuthHeaders,\n  chatId: number | undefined,\n  message: MessageObject,\n  callback: (message: MessageObject) => void\n) => void;\n\nexport const newMessage: NewMessage = (\n  host,\n  headers,\n  chatId,\n  message,\n  callback\n) => {\n  if (!chatId) return;\n\n  const formdata = new FormData();\n  if (message.attachments.length > 0) {\n    for (let i = 0; i < message.attachments.length; i++) {\n      formdata.append(\n        'attachments',\n        message.attachments[i].blob as Blob,\n        message.attachments[i].file as string\n      );\n    }\n  }\n  message.text !== null && formdata.append('text', message.text);\n  formdata.append('created', message.created);\n  formdata.append('sender_username', message.sender_username);\n  formdata.append('custom_json', JSON.stringify({}));\n\n  axios\n    .post(`${host}/chats/${chatId}/messages/`, formdata, { headers })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('New Message Error', error);\n    });\n};\n","import axios from 'axios';\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ntype ReadMessages = (\n  host: string,\n  headers: UserAuthHeaders,\n  chatId: number,\n  messageCount: number,\n  callback: (chat: ChatObject) => void\n) => void;\n\nexport const readMessage: ReadMessages = (\n  host,\n  headers,\n  chatId,\n  messageId,\n  callback\n) => {\n  axios\n    .patch(\n      `${host}/chats/${chatId}/people/`,\n      { last_read: messageId },\n      { headers }\n    )\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Read Message Error', error);\n    });\n};\n","import axios from 'axios';\n\nimport { ChatObject, ChatAuthHeaders, UserAuthHeaders } from '../../interfaces';\n\ntype GetChat = (\n  host: string,\n  headers: UserAuthHeaders | ChatAuthHeaders,\n  chatId: number | string,\n  callback: (chat: ChatObject) => void\n) => void;\n\nexport const getChat: GetChat = (host, headers, chatId, callback) => {\n  axios\n    .get(`${host}/chats/${chatId}/`, {\n      headers,\n    })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Get Chat Error', error);\n    });\n};\n","import axios from 'axios';\n\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ntype DeleteChat = (\n  host: string,\n  headers: UserAuthHeaders,\n  chatId: number | string,\n  callback: (chat: ChatObject) => void\n) => void;\n\nexport const deleteChat: DeleteChat = (host, headers, chatId, callback) => {\n  axios\n    .delete(`${host}/chats/${chatId}/`, {\n      headers,\n    })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Delete Chat Error', error);\n    });\n};\n","import _ from 'lodash';\nimport axios from 'axios';\n\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ntype GetChatsBefore = (\n  host: string,\n  headers: UserAuthHeaders,\n  before: string,\n  chatCount: number,\n  callback: (chats: Array<ChatObject>) => void\n) => void;\n\nexport const getChatsBefore: GetChatsBefore = (\n  host,\n  headers,\n  before,\n  chatCount,\n  callback\n) => {\n  axios\n    .put(`${host}/chats/latest/${chatCount}/`, { before }, { headers })\n    .then((response) => {\n      // props.onGetChats && props.onGetChats(response.data);\n      callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Fetch Chats Before Error', error);\n    });\n};\n","import axios from 'axios';\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ninterface NewChat {\n  is_direct_chat?: boolean;\n  usernames: string[];\n}\n\nexport const getOrCreateChat = (\n  host: string = 'https://api.chatengine.io',\n  headers: UserAuthHeaders,\n  data: NewChat,\n  callback: (chat: ChatObject) => void\n) => {\n  axios\n    .put(`${host}/chats/`, data, {\n      headers,\n    })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Get or Create Chat Error', error);\n    });\n};\n","import _ from 'lodash';\nimport axios from 'axios';\n\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ntype NewChat = (\n  host: string,\n  headers: UserAuthHeaders,\n  title: string | undefined,\n  callback: (chat: ChatObject) => void\n) => void;\n\nexport const newChat: NewChat = (host, headers, title, callback) => {\n  if (!title) return;\n\n  axios\n    .post(`${host}/chats/`, { title }, { headers })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('New Chat Error', error);\n    });\n};\n","import axios from 'axios';\n\nimport { PersonObject, UserAuthHeaders } from '../../interfaces';\n\ntype GetPeopleToInvite = (\n  host: string,\n  headers: UserAuthHeaders,\n  chatId: number,\n  callback: (peopleToInvite: PersonObject[]) => void\n) => void;\n\nexport const getPeopleToInvite: GetPeopleToInvite = (\n  host,\n  headers,\n  chatId,\n  callback\n) => {\n  axios\n    .get(`${host}/chats/${chatId}/others/`, { headers })\n\n    .then((response) => {\n      // props.onGetOtherPeople && props.onGetOtherPeople(chatId, response.data)\n      callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Fetch People to Invite Error', error);\n    });\n};\n","import axios from 'axios';\n\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ntype InvitePerson = (\n  host: string,\n  headers: UserAuthHeaders,\n  chatId: number,\n  username: string,\n  callback: (chat: ChatObject) => void\n) => void;\n\nexport const invitePerson: InvitePerson = (\n  host,\n  headers,\n  chatId,\n  username,\n  callback\n) => {\n  axios\n    .post(`${host}/chats/${chatId}/people/`, { username }, { headers })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Invite Person Error', error);\n    });\n};\n","import axios from 'axios';\n\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ntype RemovePerson = (\n  host: string,\n  headers: UserAuthHeaders,\n  chatId: number,\n  username: string,\n  callback: (chat: ChatObject) => void\n) => void;\n\nexport const removePerson: RemovePerson = (\n  host,\n  headers,\n  chatId,\n  username,\n  callback\n) => {\n  axios\n    .put(`${host}/chats/${chatId}/people/`, { username }, { headers })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Remove Person Error', error);\n    });\n};\n","export interface ChatEngineStyles {\n  style?: React.CSSProperties;\n  chatListColumnStyle?: React.CSSProperties;\n  chatFeedColumnStyle?: React.CSSProperties;\n  chatSettingsColumnStyle?: React.CSSProperties;\n  chatListMobileButtonStyle?: React.CSSProperties;\n  chatSettingsMobileButtonStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatEngineStyles = {\n  style: { position: 'relative', height: '100%' },\n  chatListColumnStyle: {\n    height: '100%',\n    overflowY: 'scroll',\n  },\n  chatFeedColumnStyle: {\n    height: '100%',\n    overflowY: 'scroll',\n    borderRight: '1px solid #afafaf',\n    borderLeft: '1px solid #afafaf',\n  },\n  chatSettingsColumnStyle: {\n    height: '100%',\n    overflowY: 'scroll',\n  },\n  chatListMobileButtonStyle: {\n    position: 'absolute',\n    top: '12px',\n    left: '12px',\n  },\n  chatSettingsMobileButtonStyle: {\n    position: 'absolute',\n    top: '12px',\n    right: '12px',\n  },\n};\n","export interface ChatListStyles {\n  style?: React.CSSProperties;\n  loadingMoreChatsStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatListStyles = {\n  style: {\n    width: '100%',\n    height: '100%',\n    maxHeight: '100vh',\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    backgroundColor: 'white',\n  },\n  loadingMoreChatsStyle: {\n    fontFamily: 'Avenir',\n    textAlign: 'center',\n    backgroundColor: '#e2e2e2',\n    margin: '4px',\n    paddingTop: '14px',\n    paddingBottom: '14px',\n    borderRadius: '4px',\n  },\n};\n","export interface ChatFormStyles {\n  style?: React.CSSProperties;\n  titleStyle?: React.CSSProperties;\n  inputStyle?: React.CSSProperties;\n  buttonStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatFormStyles = {\n  style: {\n    position: 'relative',\n    height: '64px',\n    width: '100%',\n    backgroundColor: 'white',\n  },\n  titleStyle: {\n    // Position\n    position: 'absolute',\n    top: '16px',\n    left: '14px',\n    // Size\n    fontSize: '26px',\n    // Style\n    fontFamily: 'Avenir',\n    fontWeight: 600,\n  },\n  inputStyle: {\n    // Position\n    position: 'absolute',\n    top: '15px',\n    left: '14px',\n    // Size\n    width: 'calc(100% - 28px)',\n  },\n  buttonStyle: {\n    // Position\n    position: 'absolute',\n    top: '15px',\n    right: '14px',\n    // Style\n    fontFamily: 'Avenir',\n    fontWeight: 600,\n  },\n};\n","export interface ButtonStyles {\n  style?: React.CSSProperties;\n  hoveredStyle?: React.CSSProperties;\n}\n\nexport const styles: ButtonStyles = {\n  style: {\n    fontFamily: 'Avenir',\n    color: '#1890ff',\n    border: '1px solid #1890ff',\n    outline: 'none',\n    height: '36px',\n    fontSize: '15px',\n    cursor: 'pointer',\n    padding: '8px 16px',\n    borderRadius: '33px',\n    backgroundColor: 'white',\n    transition: 'all .44s ease',\n    WebkitTransition: 'all .44s ease',\n    MozTransition: 'all .44s ease',\n  },\n  hoveredStyle: { opacity: '0.73' },\n};\n","import React, { useState } from 'react';\n\nimport { Props } from './props';\nimport { styles } from './styles';\n\nexport const Button = (props: Props) => {\n  const { type = 'default' } = props;\n\n  const [hovered, setHovered] = useState<boolean>(false);\n\n  const getTypeStyle = () => {\n    if (type == 'primary') {\n      return primaryStyle;\n    } else if (type === 'danger') {\n      return dangerStyle;\n    } else {\n      return {} as React.CSSProperties;\n    }\n  };\n\n  const typeStyle = getTypeStyle();\n\n  return (\n    <button\n      onClick={props.onClick}\n      className={`ce-${type}-button ${props.className}`}\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n      style={{\n        // Default\n        ...styles.style,\n        ...typeStyle,\n        // State\n        ...(hovered ? styles.hoveredStyle : {}),\n        // Props\n        ...props.style,\n        // Props + State\n        ...(hovered ? props.hoveredStyle : {}),\n      }}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nconst primaryStyle = {\n  color: 'white',\n  border: 'none',\n  backgroundColor: '#1890ff',\n} as React.CSSProperties;\n\nconst dangerStyle = {\n  color: '#f5222d',\n  backgroundColor: 'white',\n  border: '1px solid #f5222d',\n} as React.CSSProperties;\n","export interface InputStyles {\n  style?: React.CSSProperties;\n  focusStyle?: React.CSSProperties;\n}\n\nexport const styles: InputStyles = {\n  style: {\n    fontFamily: 'Avenir',\n    height: '36px',\n    fontSize: '15px',\n    outline: 'none',\n    borderRadius: '24px',\n    border: '1px solid #d9d9d9',\n    padding: '0px 12px',\n    boxSizing: 'border-box',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n  focusStyle: {\n    border: '1px solid #1890ff',\n  },\n};\n","import React, { useState, useRef, useEffect } from 'react';\n\nimport { Props } from './props';\nimport { styles } from './styles';\n\nexport const Input = (props: Props) => {\n  const didMountRef = useRef<boolean>(false);\n  const [currentValue, setCurrentValue] = useState<string>('');\n  const [focused, setFocused] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n\n      if (props.defaultValue) {\n        const event = {\n          target: { value: currentValue },\n        } as React.ChangeEvent<HTMLInputElement>;\n        props.onChange && props.onChange(event);\n        setCurrentValue(props.defaultValue);\n      }\n    }\n  });\n\n  return (\n    <input\n      autoFocus={props.autoFocus}\n      className={`ce-input ce-text-input ${props.className}`}\n      placeholder={props.label}\n      value={typeof props.value === 'string' ? props.value : currentValue}\n      onChange={(e) => {\n        setCurrentValue(e.target.value);\n        props.onChange && props.onChange(e);\n      }}\n      onFocus={(e) => {\n        setFocused(true);\n        props.onFocus && props.onFocus(e);\n      }}\n      onBlur={(e) => {\n        setFocused(false);\n        props.onBlur && props.onBlur(e);\n      }}\n      style={{\n        ...styles.style,\n        ...(focused ? styles.focusStyle : {}),\n        ...props.style,\n        ...(focused ? props.focusStyle : {}),\n      }}\n    />\n  );\n};\n","import React, { useState } from 'react';\n\nimport { ChatFormProps } from './props';\nimport { styles } from './styles';\n\nimport { Button } from '../../../Components/Button';\nimport { Input } from '../../../Components/Input';\n\nexport const ChatForm: React.FC<ChatFormProps> = (props: ChatFormProps) => {\n  const [selected, setSelected] = useState<boolean>(false);\n  const [value, setValue] = useState<string>('');\n\n  const onSubmit = (event: React.SyntheticEvent) => {\n    event.preventDefault();\n    props.onFormSubmit && props.onFormSubmit(value);\n    setValue('');\n  };\n\n  const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(event.target.value);\n  };\n\n  if (props.renderChatForm) {\n    return <>{props.renderChatForm(props)}</>;\n  }\n\n  return (\n    <div\n      className=\"ce-chat-form\"\n      style={{\n        ...styles.style,\n        ...props.style,\n      }}\n    >\n      <span\n        className=\"ce-chat-form-title\"\n        style={{\n          ...styles.titleStyle,\n          ...props.titleStyle,\n        }}\n      >\n        My Chats\n      </span>\n\n      <Button\n        style={{\n          ...styles.buttonStyle,\n          ...props.buttonStyle,\n        }}\n        className=\"ce-chat-form-button\"\n        onClick={() => setSelected(true)}\n      >\n        +\n      </Button>\n\n      <form className=\"ce-chat-form-html-form\" onSubmit={onSubmit}>\n        <Input\n          autoFocus\n          value={value}\n          label=\"Chat Title\"\n          className=\"ce-chat-form-input\"\n          style={{\n            ...styles.inputStyle,\n            ...{ visibility: selected ? 'visible' : 'hidden' },\n            ...props.inputStyle,\n          }}\n          onChange={onChange}\n          onBlur={() => setSelected(false)}\n        />\n      </form>\n    </div>\n  );\n};\n","const colors = [\n  '#D64045',\n  '#5B3000',\n  '#00CC99',\n  '#467599',\n  '#1D3354',\n  '#8F250C',\n  '#6153CC',\n  '#961D4E',\n  '#A29F15',\n  '#0CAADC',\n  '#FF5154',\n  '#FA7921',\n  '#688E26',\n  '#550527',\n  '#A10702',\n  '#FF1053',\n  '#6C6EA0',\n  '#100B00',\n]\n\nconst stringToNumber = (str: string) => {\n  let sum = 0\n  for (var i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n  return sum\n}\n\nexport const stringToColor = (str: string | undefined) => {\n  if (!str) {\n    return 'black'\n  } else {\n    return colors[stringToNumber(str) % colors.length]\n  }\n}","export interface AvatarStyles {\n  style?: React.CSSProperties;\n  statusStyle?: React.CSSProperties;\n}\n\nexport const styles: AvatarStyles = {\n  style: {\n    // Position\n    position: 'relative',\n    // Size\n    width: '44px',\n    height: '44px',\n    // Style\n    borderRadius: '50%',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center',\n    backgroundSize: '48px',\n    // Text Style\n    color: 'white',\n    textAlign: 'center',\n    fontFamily: 'Avenir',\n    fontSize: '15px',\n    lineHeight: '44px',\n    fontWeight: 600,\n  },\n  statusStyle: {\n    // Position\n    position: 'absolute',\n    top: '0px',\n    right: '0px',\n    // Style\n    width: '8px',\n    height: '8px',\n    borderRadius: '100%',\n    border: '2px solid white',\n  },\n};\n","import React, { useEffect, useState } from 'react';\n\nimport { stringToColor } from '../../util/colorMapping';\n\nimport { Props } from './props';\n\nimport { styles } from './styles';\n\nexport const Avatar = (props: Props) => {\n  // Save Copy of URL to avoid flickering\n  const [localAvatar, setLocalAvatar] = useState<string>('');\n  const { username = '', avatarUrl = '' } = props;\n\n  const text = username ? username.substring(0, 2).toUpperCase() : '';\n  const color = stringToColor(username);\n\n  useEffect(() => {\n    const newAvatar = avatarUrl !== null ? avatarUrl : '';\n    if (newAvatar.split('?')[0] !== localAvatar.split('?')[0]) {\n      setLocalAvatar(newAvatar);\n    }\n  });\n\n  const avatarUrlStyle = {\n    backgroundColor: localAvatar.length > 0 ? '#FFFFFF' : color,\n    backgroundImage: localAvatar.length > 0 && `url(${localAvatar})`,\n  } as React.CSSProperties;\n\n  return (\n    <div\n      className={`ce-avatar ${props.className}`}\n      onClick={props.onClick}\n      style={{\n        ...styles.style,\n        ...avatarUrlStyle,\n        ...props.style,\n      }}\n    >\n      {localAvatar.length === 0 && text}\n\n      <div\n        className=\"ce-avatar-status\"\n        style={{\n          ...styles.statusStyle,\n          ...{\n            display: props.isOnline === undefined ? 'none' : 'auto',\n            backgroundColor: props.isOnline ? '#52c41a' : '#f5222d',\n          },\n          ...props.statusStyle,\n        }}\n      />\n    </div>\n  );\n};\n","export interface ChatCardStyle {\n  style?: React.CSSProperties;\n  hoveredStyle?: React.CSSProperties;\n  activeStyle?: React.CSSProperties;\n  avatarStyle?: React.CSSProperties;\n  titleStyle?: React.CSSProperties;\n  notificationStyle?: React.CSSProperties;\n  subtitleStyle?: React.CSSProperties;\n  timeStampStyle?: React.CSSProperties;\n  loadingBarStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatCardStyle = {\n  style: {\n    position: 'relative',\n    height: '76px',\n    borderRadius: '12px',\n    cursor: 'pointer',\n    transition: 'all .44s ease',\n    WebkitTransition: 'all .44s ease',\n    MozTransition: 'all .44s ease',\n  },\n  hoveredStyle: {\n    backgroundColor: '#f5f5f5',\n    border: '0px solid white',\n  },\n  activeStyle: {\n    backgroundColor: '#d9d9d9',\n    border: '0px solid white',\n  },\n  avatarStyle: { position: 'absolute', top: '16px', left: '12px' },\n  titleStyle: {\n    // Position\n    position: 'absolute',\n    top: '12px',\n    left: '68px',\n    // Size\n    width: 'calc(100% - 68px - 32px)',\n    // Font\n    fontWeight: 500,\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    fontFamily: 'Avenir',\n  },\n  notificationStyle: {\n    // Position\n    position: 'absolute',\n    top: 'calc(12px + 6px)',\n    right: '12px',\n    // Style\n    width: '12px',\n    height: '12px',\n    borderRadius: '6px',\n    backgroundColor: '#1890ff',\n    float: 'right',\n  },\n  subtitleStyle: {\n    // Position\n    position: 'absolute',\n    bottom: '12px',\n    left: '68px',\n    // Size\n    width: 'calc(70% - 68px)',\n    // Style\n    color: 'rgba(153, 153, 153, 1)',\n    fontSize: '14px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    fontFamily: 'Avenir',\n  },\n  timeStampStyle: {\n    // Position\n    position: 'absolute',\n    bottom: '12px',\n    right: '12px',\n    // Size\n    width: '20%',\n    // Style\n    textAlign: 'right',\n    color: 'rgba(153, 153, 153, 1)',\n    fontSize: '14px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    fontFamily: 'Avenir',\n  },\n  loadingBarStyle: {\n    borderRadius: '4px',\n    backgroundColor: '#e2e2e2',\n    color: '#e2e2e2',\n  },\n};\n","import React, { useState } from 'react';\n\nimport { Avatar } from '../../../Components/Avatar';\n\nimport { stringToColor } from '../../../util/colorMapping';\n\nimport { ChatCardProps } from './props';\nimport { styles } from './styles';\n\nexport const ChatCard: React.FC<ChatCardProps> = (props: ChatCardProps) => {\n  const { title = '', description = '', timeStamp = '' } = props;\n\n  const [hovered, setHovered] = useState<boolean>(false);\n\n  const loadingBarStyle: React.CSSProperties = props.isLoading\n    ? { ...styles.loadingBarStyle, ...props.loadingBarStyle }\n    : {};\n\n  const hasNotificationStyle: React.CSSProperties = props.hasNotification\n    ? {}\n    : { display: 'none' };\n\n  if (props.renderChatCard) {\n    return <>{props.renderChatCard(props)}</>;\n  }\n\n  return (\n    <div\n      onClick={props.onClick}\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n      style={{\n        // Default\n        ...styles.style,\n        // State\n        ...(hovered ? styles.hoveredStyle : {}),\n        ...(props.isActive ? styles.activeStyle : {}),\n        // Props\n        ...props.style,\n        // Props + State\n        ...(hovered ? props.hoveredStyle : {}),\n        ...(props.isActive ? props.activeStyle : {}),\n      }}\n      className={`\n        ce-chat-card \n        ${props.isActive && 'ce-active-chat-card'} \n        ${hovered && 'ce-hovered-chat-card'}\n      `}\n    >\n      {props.renderAvatar ? (\n        props.renderAvatar(props)\n      ) : (\n        <Avatar\n          username={props.avatarUsername}\n          avatarUrl={props.avatarUrl}\n          className=\"ce-chat-card-avatar\"\n          style={{\n            ...styles.avatarStyle,\n            ...{\n              backgroundColor: props.isLoading\n                ? '#e2e2e2'\n                : stringToColor(props.avatarUsername),\n            },\n            ...props.avatarStyle,\n          }}\n        />\n      )}\n\n      <div\n        className={`ce-chat-card-title ${\n          props.isLoading && 'ce-chat-card-title-loading ce-chat-card-loading'\n        }`}\n        style={{\n          ...styles.titleStyle,\n          ...loadingBarStyle,\n          ...props.titleStyle,\n        }}\n        id={`ce-chat-card-title-${title}`}\n      >\n        {props.isLoading ? '.' : title}\n      </div>\n\n      <div\n        className={`ce-chat-card-unread ${\n          props.isLoading && 'ce-chat-card-unread-loading ce-chat-card-loading'\n        }`}\n        style={{\n          ...styles.notificationStyle,\n          ...hasNotificationStyle,\n          ...loadingBarStyle,\n          ...props.notificationStyle,\n        }}\n      />\n\n      <div\n        className={`ce-chat-card-subtitle ${\n          props.isLoading &&\n          'ce-chat-card-subtitle-loading ce-chat-card-loading'\n        }`}\n        style={{\n          ...styles.subtitleStyle,\n          ...loadingBarStyle,\n          ...props.subtitleStyle,\n        }}\n      >\n        <div\n          className={`ce-chat-card-subtitle-html ${\n            props.isLoading &&\n            'ce-chat-card-subtitle-html-loading ce-chat-card-loading'\n          }`}\n          dangerouslySetInnerHTML={{\n            __html: props.isLoading ? '.' : description,\n          }}\n        />\n        <style>{`p {margin-block-start: 0px; margin-block-end: 0px;}`}</style>\n      </div>\n\n      <div\n        className={`ce-chat-card-time-stamp ${\n          props.isLoading &&\n          'ce-chat-card-time-stamp-loading ce-chat-card-loading'\n        }`}\n        style={{\n          ...styles.timeStampStyle,\n          ...loadingBarStyle,\n          ...props.timeStampStyle,\n        }}\n      >\n        {props.isLoading ? '.' : timeStamp}\n      </div>\n    </div>\n  );\n};\n","export interface RenderTriggerStyles {\n  style?: React.CSSProperties;\n}\n\nexport const styles: RenderTriggerStyles = {\n  style: {\n    fontFamily: 'Avenir',\n  },\n};\n","import React, { useState, useRef, useEffect } from 'react';\n\nimport { Props } from './props';\n\nimport { styles } from './styles';\n\nexport const RenderTrigger: React.FC<Props> = (props: Props) => {\n  const { children = 'Loading...' } = props;\n\n  const useOnScreen = (ref: React.RefObject<HTMLDivElement>) => {\n    const [isIntersecting, setIntersecting] = useState(false);\n\n    const observer = new IntersectionObserver(([entry]) => {\n      setIntersecting(entry.isIntersecting);\n      if (entry.isIntersecting) {\n        props.onShow && props.onShow();\n      } else {\n        props.onHide && props.onHide();\n      }\n    });\n\n    useEffect(() => {\n      observer.observe(ref.current as Element);\n      return () => observer.disconnect();\n    }, []);\n\n    return isIntersecting;\n  };\n\n  const ref = useRef<HTMLDivElement>(null);\n  ref !== null && useOnScreen(ref);\n\n  return (\n    <div\n      ref={ref}\n      style={{ ...styles.style, ...props.style }}\n      className=\"ce-chat-loader\"\n    >\n      {children}\n    </div>\n  );\n};\n","export const getDateTime = (date: string, timezoneOffset: number = 0) => {\n  date = date.replace(/ /g, 'T');\n\n  const year = date.substr(0, 4);\n  const month = date.substr(5, 2);\n  const day = date.substr(8, 2);\n  const hour = date.substr(11, 2);\n  const minute = date.substr(14, 2);\n  const second = date.substr(17, 2);\n\n  var d = new Date(`${year}-${month}-${day}T${hour}:${minute}:${second}`);\n  d.setHours(d.getHours() + timezoneOffset);\n  return d;\n};\n\nexport function formatTime(dateTime: Date) {\n  var time = dateTime.toLocaleString('en-US');\n  return time.split(' ')[1].slice(0, -3) + ' ' + time.slice(-2);\n}\n\nexport function formatDateTime(dateTime: Date) {\n  return dateTime.toLocaleString('en-US')\n}\n","export interface SpinnerStyles {\n  style?: React.CSSProperties;\n}\n\nexport const styles: SpinnerStyles = {\n  style: { width: '1em', height: '1em' },\n};\n","import React from 'react';\n\nimport { Props } from './props';\nimport { styles } from './styles';\n\nexport const Spinner: React.FC<Props> = (props: Props) => {\n  return (\n    <svg\n      viewBox=\"0 0 1024 1024\"\n      focusable=\"false\"\n      aria-hidden=\"true\"\n      className=\"ce-spinner\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      <path d=\"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z\"></path>\n\n      <style>{`\n      .ce-spinner {\n        animation-name: spin;\n        animation-duration: 950ms;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear; \n      }\n      @keyframes spin {\n        from { transform:rotate(0deg); }\n        to { transform:rotate(360deg); }\n      }\n      `}</style>\n    </svg>\n  );\n};\n","import React from 'react';\n\nimport { ChatListProps } from './props';\nimport { styles } from './styles';\n\nimport { ChatForm } from './ChatForm';\nimport { ChatCard } from './ChatCard';\n\nimport { RenderTrigger } from '../../Components/RenderTrigger';\n\nimport { ChatObject } from '../../../interfaces';\nimport { getDateTime } from '../../util/dateTime';\n\nimport { Spinner } from '../../Components/Spinner';\n\nconst readLastMessage = (username: string, chat: ChatObject) => {\n  return chat.people.some(\n    (chatPerson) =>\n      chatPerson.person.username === username &&\n      chatPerson.last_read === chat.last_message.id\n  );\n};\nconst renderLoading = () => {\n  return [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1].map((_, i) => {\n    return <ChatCard key={`chat_${i}`} isLoading={true} />;\n  });\n};\n\nconst getDescription = (chat: ChatObject): string => {\n  if (!chat.last_message.id) {\n    return 'Say hello!';\n  }\n  if (chat.last_message.text === null) {\n    return `${chat.last_message.attachments.length} attachments`;\n  }\n  return chat.last_message.text;\n};\n\nexport const ChatList: React.FC<ChatListProps> = (props: ChatListProps) => {\n  const { activeChatId = -1 } = props;\n\n  const renderChats = (chats: Array<ChatObject>) => {\n    return chats.map((chat, index) => {\n      const otherPerson =\n        chat &&\n        chat.people.find((person) => person.person.username !== props.username);\n      const title = !chat\n        ? ''\n        : chat.is_direct_chat && otherPerson\n        ? otherPerson.person.username\n        : chat.title;\n      const timeStamp = getDateTime(chat.created, props.timezoneOffset)\n        .toString()\n        .substr(4, 6);\n      const hasNotification = props.username\n        ? !readLastMessage(props.username, chat)\n        : false;\n\n      return (\n        <ChatCard\n          key={`chat_${index}`}\n          chat={chat}\n          title={title}\n          description={getDescription(chat)}\n          timeStamp={timeStamp}\n          isActive={activeChatId === chat.id}\n          hasNotification={hasNotification}\n          onClick={() =>\n            props.onChatCardClick && props.onChatCardClick(chat.id)\n          }\n          avatarUsername={chat.last_message.sender?.username}\n          avatarUrl={\n            chat.last_message.sender\n              ? chat.last_message.sender.avatar\n              : 'https://chat-engine-assets.s3.amazonaws.com/empty-chat-thumb.png'\n          }\n          renderChatCard={props.renderChatCard}\n        />\n      );\n    });\n  };\n\n  if (props.renderChatList) {\n    return <>{props.renderChatList(props)}</>;\n  }\n\n  return (\n    <div\n      className=\"ce-chat-list\"\n      style={{\n        // Default\n        ...styles.style,\n        // State\n        ...(props.isLoading ? { overflowY: 'hidden' } : {}),\n        // Props\n        ...props.style,\n      }}\n    >\n      <ChatForm\n        onFormSubmit={props.onChatFormSubmit}\n        renderChatForm={props.renderChatForm}\n      />\n\n      {props.isLoading ? renderLoading() : renderChats(props.chats)}\n\n      {props.hasMoreChats && (\n        <RenderTrigger\n          onShow={props.onChatLoaderShow}\n          style={{\n            ...styles.loadingMoreChatsStyle,\n            ...props.loadingMoreChatsStyle,\n          }}\n          children={<Spinner />}\n        />\n      )}\n    </div>\n  );\n};\n","export interface ChatFeedStyles {\n  style?: React.CSSProperties;\n  chatHeaderStyle?: React.CSSProperties;\n  messageListStyle?: React.CSSProperties;\n  messageFormStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatFeedStyles = {\n  style: {\n    height: '100%',\n    position: 'relative',\n    backgroundColor: 'white',\n  },\n  chatHeaderStyle: {},\n  messageListStyle: {\n    height: 'calc(100% - 85px - 48px)',\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    position: 'relative',\n    backgroundColor: 'white',\n  },\n  messageFormStyle: {\n    width: '100%',\n    position: 'absolute',\n    bottom: '0px',\n  },\n};\n","export interface ChatHeaderStyles {\n  style?: React.CSSProperties;\n  titleStyle?: React.CSSProperties;\n  subtitleStyle?: React.CSSProperties;\n  mobileOptionStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatHeaderStyles = {\n  style: {\n    width: '100%',\n    zIndex: 1,\n    backgroundColor: 'rgb(256, 256, 256, 0.92)',\n    padding: '18px 0px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)',\n    overflowX: 'hidden',\n  },\n  titleStyle: {\n    width: '100%',\n    fontFamily: 'Avenir',\n    fontSize: '24px',\n    fontWeight: 600,\n  },\n  subtitleStyle: {\n    width: '100%',\n    fontFamily: 'Avenir',\n    fontSize: '12px',\n  },\n  mobileOptionStyle: {\n    width: '100%',\n    top: '32px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)',\n    overflow: 'hidden',\n  },\n};\n","import React from 'react';\n\nimport { ChatHeaderProps } from './props';\nimport { styles } from './styles';\n\nimport { Row, Col, setConfiguration } from 'react-grid-system';\n\nsetConfiguration({ maxScreenClass: 'xl', gutterWidth: 0 });\n\nexport const ChatHeader: React.FC<ChatHeaderProps> = (\n  props: ChatHeaderProps\n) => {\n  const { id = '', title = '', description = '' } = props;\n\n  if (props.renderChatHeader) {\n    return <>{props.renderChatHeader(props)}</>;\n  }\n\n  return (\n    <Row className=\"ce-chat-header\" style={{ ...styles.style, ...props.style }}>\n      <Col\n        xs={2}\n        sm={0}\n        className=\"ce-chat-header-mobile-option\"\n        style={{\n          ...styles.mobileOptionStyle,\n          ...{ left: '6px' },\n          ...props.mobileOptionStyle,\n        }}\n      ></Col>\n\n      <div\n        id={`ce-chat-feed-title-${id}`}\n        className=\"ce-chat-header-title\"\n        style={{\n          ...styles.titleStyle,\n          ...props.titleStyle,\n        }}\n      >\n        {title}\n      </div>\n\n      <div\n        className=\"ce-chat-header-subtitle\"\n        style={{\n          ...styles.subtitleStyle,\n          ...props.subtitleStyle,\n        }}\n      >\n        {description}\n      </div>\n\n      <Col\n        xs={2}\n        sm={0}\n        className=\"ce-chat-header-mobile-option\"\n        style={{\n          ...styles.mobileOptionStyle,\n          ...{ right: '6px' },\n          ...props.mobileOptionStyle,\n        }}\n      ></Col>\n    </Row>\n  );\n};\n","export interface MessageListStyles {\n  style?: React.CSSProperties;\n  messageStyle?: React.CSSProperties;\n}\n\nexport const styles: MessageListStyles = {\n  style: {},\n  messageStyle: {},\n};\n","export interface MessageStyle {\n  style?: React.CSSProperties;\n  dateTimeStyle?: React.CSSProperties;\n  senderUsernameStyle?: React.CSSProperties;\n  attachmentsStyle?: React.CSSProperties;\n  attachmentsImageStyle?: React.CSSProperties;\n  attachmentsFileStyle?: React.CSSProperties;\n  bodyStyle?: React.CSSProperties;\n  timeTagStyle?: React.CSSProperties;\n  bubbleStyle?: React.CSSProperties;\n  readsStyle?: React.CSSProperties;\n  readStyle?: React.CSSProperties;\n  avatarStyle?: React.CSSProperties;\n}\n\nexport const theirStyles: MessageStyle = {\n  style: { width: '100%', position: 'relative' },\n  senderUsernameStyle: {\n    width: 'calc(100% - 64px)',\n    fontFamily: 'Avenir',\n    paddingLeft: '62px',\n    paddingBottom: '2px',\n    color: 'rgba(0, 0, 0, .40)',\n    fontSize: '15px',\n  },\n  attachmentsStyle: {\n    display: 'auto',\n    paddingLeft: '48px',\n    width: 'calc(100% - 48px)',\n  },\n  bodyStyle: {\n    position: 'relative',\n    width: 'calc(100% - 2px)',\n  },\n  timeTagStyle: {\n    marginLeft: '4px',\n    fontSize: '14px',\n    fontFamily: 'Avenir',\n    color: 'rgba(0, 0, 0, 0.4)',\n    // CSS Transitions\n    transition: 'all .15s ease',\n    WebkitTransition: 'all .15s ease',\n    MozTransition: 'all .15s ease',\n  },\n  bubbleStyle: {\n    cursor: 'pointer',\n    display: 'inline-block',\n    color: 'black',\n    padding: '12px',\n    marginLeft: '48px',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    whiteSpace: 'pre-line',\n    backgroundColor: '#f1f0f0',\n    overflowWrap: 'anywhere',\n    maxWidth: 'calc(100% - 100px - 48px)',\n    // CSS Transitions\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n  readsStyle: {\n    marginLeft: '48px',\n    width: 'calc(100% - 50px)',\n  },\n  readStyle: {\n    marginLeft: '4px',\n    float: 'left',\n  },\n  avatarStyle: {\n    position: 'absolute',\n    bottom: '0px',\n    left: '2px',\n  },\n};\n\nexport const myStyles: MessageStyle = {\n  style: {\n    width: '100%',\n    textAlign: 'right',\n  },\n  senderUsernameStyle: {\n    display: 'none',\n  },\n  attachmentsStyle: {\n    display: 'auto',\n    marginLeft: '48px',\n    width: 'calc(100% - 48px)',\n  },\n  bodyStyle: {\n    position: 'relative',\n    width: 'calc(100% - 2px)',\n  },\n  timeTagStyle: {\n    marginRight: '4px',\n    fontSize: '14px',\n    fontFamily: 'Avenir',\n    color: 'rgb(24, 144, 255)',\n    // CSS Transitions\n    transition: 'all .15s ease',\n    WebkitTransition: 'all .15s ease',\n    MozTransition: 'all .15s ease',\n  },\n  bubbleStyle: {\n    color: 'white',\n    display: 'inline-block',\n    backgroundColor: '#1890ff',\n    cursor: 'pointer',\n    textAlign: 'left',\n    // Stay right but render text\n    padding: '12px',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    whiteSpace: 'pre-line',\n    overflowWrap: 'anywhere',\n    maxWidth: 'calc(100% - 100px)',\n    // CSS Transitions\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n  readsStyle: { width: '100%' },\n  readStyle: { float: 'right', marginLeft: '4px' },\n  avatarStyle: { display: 'none' },\n};\n","export interface DotStyles {\n  style?: React.CSSProperties;\n}\n\nexport const styles: DotStyles = {\n  style: {\n    borderRadius: '13px',\n    textAlign: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center',\n    backgroundSize: '14px',\n    // CSS Transitions\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n};\n","import React, { useEffect, useState } from 'react';\nimport { stringToColor } from '../../util/colorMapping';\nimport { Props } from './props';\nimport { styles } from './styles';\n\nexport const Dot = (props: Props) => {\n  const [localAvatar, setLocalAvatar] = useState<string>('');\n  const { username = '', isVisible = true, avatarUrl = '' } = props;\n\n  const color = stringToColor(username);\n\n  useEffect(() => {\n    const newAvatar = avatarUrl !== null ? avatarUrl : '';\n    if (newAvatar.split('?')[0] !== localAvatar.split('?')[0]) {\n      setLocalAvatar(newAvatar);\n    }\n  });\n\n  return (\n    <div\n      className=\"ce-avatar-dot\"\n      style={{\n        ...styles.style,\n        ...{\n          backgroundColor: localAvatar.length > 0 ? 'white' : color,\n          backgroundImage: localAvatar.length > 0 ? `url(${localAvatar})` : '',\n          width: isVisible ? '13px' : '0px',\n          height: isVisible ? '13px' : '0px',\n        },\n        ...props.style,\n      }}\n    />\n  );\n};\n","export interface DateTimeStyles {\n  style?: React.CSSProperties;\n}\n\nexport const styles: DateTimeStyles = {\n  style: {\n    width: '100%',\n    fontFamily: 'Avenir',\n    textAlign: 'center',\n    paddingTop: '4px',\n    paddingBottom: '10px',\n    fontSize: '15px',\n    color: 'rgba(0, 0, 0, .40)',\n  },\n};\n","import React from 'react';\n\nimport { DateTimeProps } from './props';\nimport { styles } from './styles';\n\nimport { formatDateTime, getDateTime } from '../../../../../util/dateTime';\n\nexport const DateTime: React.FC<DateTimeProps> = (props: DateTimeProps) => {\n  const { offset = 0 } = props;\n\n  return (\n    <div\n      className=\"ce-message-date-text\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      {formatDateTime(getDateTime(props.created, offset))}\n    </div>\n  );\n};\n","export interface FileStyles {\n  style?: React.CSSProperties;\n  hoveredStyle?: React.CSSProperties;\n}\n\nexport const styles: FileStyles = {\n  style: {\n    cursor: 'pointer',\n    fontFamily: 'Avenir',\n    padding: '12px',\n    borderRadius: '14px',\n    display: 'inline-block',\n    marginRight: '2px',\n    marginBottom: '4px',\n    color: '#434343',\n    backgroundColor: 'white',\n    border: '1px solid #434343',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n  hoveredStyle: { border: '1px solid #1890ff' },\n};\n","const images = ['jpg', 'jpeg', 'png', 'gif', 'tiff'];\n\nexport const isImage = (fileName: string) => {\n  const dotSplit = fileName.split('.');\n  return (\n    dotSplit.length > 0 &&\n    images.indexOf(dotSplit[dotSplit.length - 1].toLowerCase()) !== -1\n  );\n};\n\nexport const getFileName = (fileUrl: string) => {\n  const slashSplit = fileUrl.split('/');\n  const nameAndHash = slashSplit[slashSplit.length - 1];\n  return nameAndHash.split('?')[0];\n};\n\nexport const isImageFromFilePath = (fileUrl: string) => {\n  return isImage(getFileName(fileUrl));\n};\n","import React, { useState } from 'react';\n\nimport { Props } from './props';\nimport { styles } from './styles';\n\nimport { getFileName } from '../../util/file';\n\nconst urlOrLoading = (url: string | undefined) => {\n  return url ? getFileName(url) : 'Loading...';\n};\n\nexport const File: React.FC<Props> = (props: Props) => {\n  const [isHovered, setIsHovered] = useState<boolean>(false);\n\n  return (\n    <div\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      onClick={() =>\n        props.url && typeof window !== 'undefined' && window.open(props.url)\n      }\n      style={{\n        // Default\n        ...styles.style,\n        ...(!props.url ? { border: '1px solid grey' } : {}),\n        // State\n        ...(isHovered ? styles.hoveredStyle : {}),\n        // Props\n        ...props.style,\n        // Props + State\n        ...(isHovered ? props.hoveredStyle : {}),\n      }}\n      className={`ce-file ${props.className}`}\n    >\n      {props.fileName ? props.fileName : ` ${urlOrLoading(props.url)}`}\n    </div>\n  );\n};\n","export interface ImageStyles {\n  style?: React.CSSProperties;\n  hoveredStyle?: React.CSSProperties;\n}\n\nexport const styles: ImageStyles = {\n  style: {\n    cursor: 'pointer',\n    height: '30vw',\n    width: '30vw',\n    maxHeight: '200px',\n    maxWidth: '200px',\n    minHeight: '100px',\n    minWidth: '100px',\n    padding: '2px',\n    objectFit: 'cover',\n    borderRadius: '0.3em',\n    backgroundColor: 'white',\n    border: '1px solid #434343',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n  hoveredStyle: { border: '1px solid #1890ff' },\n};\n","import React, { useState } from 'react';\n\nimport { Props } from './props';\nimport { styles } from './styles';\n\nexport const Image: React.FC<Props> = (props: Props) => {\n  const { url } = props;\n  const [isHovered, setIsHovered] = useState<boolean>(false);\n  const loadingUrl = 'https://chat-engine-assets.s3.amazonaws.com/loading.gif';\n\n  return (\n    <img\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      src={url ? url : loadingUrl}\n      alt={url ? url : loadingUrl}\n      onClick={() => url && typeof window !== 'undefined' && window.open(url)}\n      style={{\n        // Default\n        ...styles.style,\n        // State\n        ...(isHovered ? styles.hoveredStyle : {}),\n        // Props\n        ...props.style,\n        // Props + State\n        ...(isHovered ? props.hoveredStyle : {}),\n      }}\n      className={`ce-image ${props.className}`}\n    />\n  );\n};\n","import React, { useState } from 'react';\n\nimport { MessageProps } from './props';\nimport { myStyles, theirStyles } from './styles';\n\nimport { Dot } from '../../../../Components/Dot';\nimport { Avatar } from '../../../../Components/Avatar';\n\nimport { DateTime } from './DateTime';\n\nimport { File } from '../../../../Components/File';\nimport { Image } from '../../../../Components/Image';\n\nimport { isImage, getFileName } from '../../../../util/file';\nimport { formatTime, getDateTime } from '../../../../util/dateTime';\n\nexport const Message: React.FC<MessageProps> = (props: MessageProps) => {\n  const {\n    lastMessage = null,\n    message,\n    nextMessage = null,\n    chat = null,\n    isSending = false,\n    isMyMessage = false,\n    showDateTime = false,\n  } = props;\n\n  const [hovered, setHovered] = useState<boolean>(false);\n\n  const styles = isMyMessage ? myStyles : theirStyles;\n\n  const topRadius =\n    !lastMessage || lastMessage.sender_username !== message.sender_username\n      ? '1.3em'\n      : '0.3em';\n  const bottomRadius =\n    !nextMessage || nextMessage.sender_username !== message.sender_username\n      ? '1.3em'\n      : '0.3em';\n  const borderStyle = {\n    borderRadius: isMyMessage\n      ? `1.3em ${topRadius} ${bottomRadius} 1.3em`\n      : `${topRadius} 1.3em 1.3em ${bottomRadius}`,\n  };\n  const sendingStyle = isSending ? { backgroundColor: '#40a9ff' } : {};\n  const isLastMessage =\n    !nextMessage || nextMessage.sender_username !== message.sender_username;\n\n  const paddingBottom =\n    !nextMessage || nextMessage.sender_username !== message.sender_username\n      ? '12px'\n      : '2px';\n\n  const text: string =\n    message.text !== null\n      ? message.text.replace(/<a /g, `<a style=\"color: 'white';\" `)\n      : '';\n\n  const renderAttachments = (renderImage: boolean) => {\n    const attachments =\n      message && message.attachments ? message.attachments : [];\n\n    return attachments.map((attachment, index) => {\n      const fileName = getFileName(attachment.file);\n\n      if (renderImage && isImage(fileName)) {\n        return (\n          <Image\n            key={`attachment_${index}`}\n            url={\n              attachment.file !== null && !props.isSending\n                ? attachment.file\n                : undefined\n            }\n            style={{\n              ...styles.attachmentsImageStyle,\n              ...props.attachmentsImageStyle,\n            }}\n            className=\"ce-message-image\"\n          />\n        );\n      } else if (!renderImage && !isImage(fileName)) {\n        return (\n          <File\n            key={`attachment_${index}`}\n            url={\n              attachment.file !== null && !props.isSending\n                ? attachment.file\n                : undefined\n            }\n            style={{\n              ...styles.attachmentsFileStyle,\n              ...props.attachmentsFileStyle,\n            }}\n            className=\"ce-message-file\"\n          />\n        );\n      } else {\n        return <div key={`attachment_${index}`} />;\n      }\n    });\n  };\n\n  const renderReads = () => {\n    const chatPeople = chat !== null ? chat.people : [];\n    return chatPeople.map((chatPerson, index) => {\n      return (\n        <Dot\n          key={`read_${index}`}\n          avatarUrl={chatPerson.person.avatar}\n          username={chatPerson.person.username}\n          isVisible={message.id === chatPerson.last_read}\n          style={{\n            ...styles.readStyle,\n            ...props.readStyle,\n          }}\n        />\n      );\n    });\n  };\n\n  if (props.renderMessage) {\n    return <>{props.renderMessage(props)}</>;\n  }\n\n  return (\n    <div\n      className={`ce-${isMyMessage ? 'my' : 'their'}-message`}\n      style={{\n        ...styles.style,\n        ...{ paddingBottom },\n        ...props.style,\n      }}\n    >\n      {showDateTime && (\n        <DateTime\n          created={message.created}\n          style={{\n            ...styles.dateTimeStyle,\n            ...props.dateTimeStyle,\n          }}\n        />\n      )}\n\n      {(lastMessage === null ||\n        lastMessage.sender_username !== message.sender_username) && (\n        <div\n          style={{\n            ...styles.senderUsernameStyle,\n            ...props.senderUsernameStyle,\n          }}\n          className={`ce-${\n            isMyMessage ? 'my' : 'their'\n          }-message-sender-username`}\n        >\n          {message.sender_username}\n        </div>\n      )}\n\n      <div\n        style={{\n          ...styles.attachmentsStyle,\n          ...props.attachmentsStyle,\n        }}\n        className={`\n          ce-${isMyMessage ? 'my' : 'their'}-message-attachments \n          ce-${isMyMessage ? 'my' : 'their'}-message-images\n        `}\n      >\n        {renderAttachments(true)}\n      </div>\n\n      <div\n        style={{\n          ...styles.attachmentsStyle,\n          ...props.attachmentsStyle,\n        }}\n        className={`\n            ce-${isMyMessage ? 'my' : 'their'}-message-attachments \n            ce-${isMyMessage ? 'my' : 'their'}-message-files\n          `}\n      >\n        {renderAttachments(false)}\n      </div>\n\n      {message.text !== null && (\n        <div\n          onMouseEnter={() => setHovered(true)}\n          onMouseLeave={() => setHovered(false)}\n          style={{\n            ...styles.bodyStyle,\n            ...props.bodyStyle,\n          }}\n        >\n          {isMyMessage && (\n            <span\n              className=\"ce-my-message-timestamp\"\n              style={{\n                ...styles.timeTagStyle,\n                ...{ opacity: hovered ? '1' : '0' },\n                ...props.timeTagStyle,\n              }}\n            >\n              {formatTime(\n                getDateTime(message.created, props.timezoneOffset) as Date\n              )}\n            </span>\n          )}\n\n          <div\n            className={`\n              ce-${isMyMessage ? 'my' : 'their'}-message-body\n              ${isSending && 'ce-my-message-sending-body'}\n            `}\n            style={{\n              ...styles.bubbleStyle,\n              ...borderStyle,\n              ...sendingStyle,\n              ...props.bubbleStyle,\n            }}\n            dangerouslySetInnerHTML={{ __html: text }}\n          />\n          <style>{`p {margin-block-start: 0px; margin-block-end: 0px;}`}</style>\n\n          {!isMyMessage && (\n            <span\n              className=\"ce-their-message-timestamp\"\n              style={{\n                ...styles.timeTagStyle,\n                ...{ opacity: hovered ? '1' : '0' },\n                ...props.timeTagStyle,\n              }}\n            >\n              {formatTime(\n                getDateTime(message.created, props.timezoneOffset) as Date\n              )}\n            </span>\n          )}\n\n          <Avatar\n            username={message.sender_username}\n            style={{\n              ...styles.avatarStyle,\n              ...(isLastMessage ? {} : { display: 'none' }),\n              ...props.avatarStyle,\n            }}\n            avatarUrl={\n              message.sender &&\n              message.sender !== null &&\n              message.sender.avatar !== null\n                ? message.sender.avatar\n                : undefined\n            }\n          />\n        </div>\n      )}\n\n      <div\n        style={{\n          ...styles.readsStyle,\n          ...props.readsStyle,\n        }}\n        className={`ce-${isMyMessage ? 'my' : 'their'}-reads-row`}\n      >\n        {renderReads()}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { MessageListProps } from './props';\nimport { styles } from './styles';\n\nimport { Message } from './Message';\n\nimport { RenderTrigger } from '../../../Components/RenderTrigger';\nimport { Spinner } from '../../../Components/Spinner';\n\nimport _ from 'lodash';\n\nexport const MessageList: React.FC<MessageListProps> = (\n  props: MessageListProps\n) => {\n  const { messages = [] } = props;\n\n  const messagesObject = _.mapKeys(messages, 'created');\n  const keys = Object.keys(messagesObject).sort();\n\n  const date = (date: string) => {\n    return date ? date.substr(0, 10) : null;\n  };\n\n  const renderMessages = (keys: Array<string>) => {\n    return keys.map((key, index) => {\n      const message = messagesObject[key];\n      const lastKey = index === 0 ? '' : keys[index - 1];\n      const nextKey: string = index === keys.length - 1 ? '' : keys[index + 1];\n\n      const lastDate = lastKey !== '' ? date(lastKey) : undefined;\n      const thisDate = key !== '' ? date(key) : undefined;\n\n      const showDateTime: boolean = !lastDate || lastDate !== thisDate;\n      const isMyMessage: boolean = props.username === message.sender_username;\n\n      return (\n        <div key={`message_${index}`} id={`ce-message-${message.id}`}>\n          {index === keys.length - 1 && (\n            <RenderTrigger\n              onShow={props.onBottomMessageShow}\n              onHide={props.onBottomMessageHide}\n              children=\"\"\n            />\n          )}\n\n          <Message\n            chat={props.chat}\n            message={message}\n            lastMessage={messagesObject[lastKey]}\n            nextMessage={messagesObject[nextKey]}\n            timezoneOffset={props.timezoneOffset}\n            isMyMessage={isMyMessage}\n            isSending={!message.id}\n            showDateTime={showDateTime}\n            renderMessage={props.renderMessage}\n            style={{ ...styles.messageStyle, ...props.messageStyle }}\n          />\n        </div>\n      );\n    });\n  };\n\n  if (props.renderMessageList) {\n    return <>{props.renderMessageList(props)}</>;\n  }\n\n  return (\n    // Used for scrolling\n    <div\n      className=\"ce-message-list\"\n      id={`ce-message-list-${props.chat?.id}`}\n      style={{ ...styles.style, ...props.style }}\n    >\n      {/* used for finding Feed Height */}\n      <div\n        className=\"ce-message-list-content\"\n        id={`ce-message-list-content-${props.chat?.id}`}\n      >\n        {props.hasMoreMessages && (\n          <RenderTrigger\n            onShow={props.onMessageLoaderShow}\n            onHide={props.onMessageLoaderHide}\n            children={\n              <Spinner\n                style={{\n                  position: 'relative',\n                  left: 'calc(50% - 0.625em)',\n                  width: '1.25em',\n                  height: '1.25em',\n                  font: 'red',\n                }}\n              />\n            }\n          />\n        )}\n\n        {renderMessages(keys)}\n      </div>\n    </div>\n  );\n};\n","export interface MessageFormStyles {\n  style?: React.CSSProperties;\n  inputStyle?: React.CSSProperties;\n  sendButtonStyle?: React.CSSProperties;\n  attachmentInputStyle?: React.CSSProperties;\n  attachmentInputIconStyle?: React.CSSProperties;\n  draftAttachmentStyle?: React.CSSProperties;\n  draftAttachmentRemoveStyle?: React.CSSProperties;\n  draftImageStyle?: React.CSSProperties;\n  draftFileStyle?: React.CSSProperties;\n}\n\nexport const styles: MessageFormStyles = {\n  style: {\n    paddingTop: '4px',\n  },\n  inputStyle: {\n    border: '1px solid white',\n    width: 'calc(100% - 24px - 116px)',\n    outline: 'none',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    paddingLeft: '12px',\n    paddingRight: '12px',\n    resize: 'none',\n    overflowX: 'hidden',\n    // Tweak Position\n    position: 'relative',\n    top: '6px',\n  },\n  sendButtonStyle: {\n    cursor: 'pointer',\n    fontFamily: 'Avenir',\n    display: 'inline-block',\n    borderRadius: '8px',\n    padding: '6px 12px',\n    color: 'white',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n    // Tweak Position\n    position: 'relative',\n    bottom: '6px',\n  },\n  draftAttachmentStyle: {\n    padding: '6px',\n    display: 'inline-block',\n    position: 'relative',\n  },\n  draftAttachmentRemoveStyle: {\n    position: 'absolute',\n    top: '-6px',\n    right: '-6px',\n    width: '30px',\n    height: '30px',\n    color: '#40a9ff',\n    backgroundColor: 'white',\n    border: '1px solid rgb(67, 67, 67)',\n    borderRadius: '50%',\n    cursor: 'pointer',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n  draftImageStyle: {\n    padding: '6px',\n    height: '60px',\n    width: '60px',\n  },\n  draftFileStyle: {},\n};\n","export interface AttachmentInputStyles {\n  style?: React.CSSProperties;\n  iconStyle?: React.CSSProperties;\n}\n\nexport const styles: AttachmentInputStyles = {\n  style: {\n    height: '0px',\n    display: 'inline',\n    padding: '6px 12px',\n    position: 'relative',\n    bottom: '6px',\n  },\n  iconStyle: {\n    backgroundColor: 'white',\n    border: '1px solid white',\n    cursor: 'pointer',\n  },\n};\n","import React, { useState } from 'react';\n\nimport { Props } from './props';\nimport { styles } from './styles';\n\nexport const AttachmentInput: React.FC<Props> = (props: Props) => {\n  const [hovered, setHovered] = useState<boolean>(false);\n  const hoverStyle: React.CSSProperties = { color: hovered ? '#06c' : '#444' };\n\n  const onSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    e.preventDefault();\n    const target = e.target as HTMLInputElement;\n    const files = target.files;\n    props.onSelectFiles && props.onSelectFiles(files);\n  };\n\n  return (\n    <form\n      className=\"ce-attachment-input\"\n      encType=\"multipart/form-data\"\n      style={{\n        ...styles.style,\n        ...props.style,\n      }}\n    >\n      <label htmlFor=\"files\" id=\"ce-upload-document-button\">\n        <span\n          className=\"ce-attachment-icon\"\n          onMouseEnter={() => setHovered(true)}\n          onMouseLeave={() => setHovered(false)}\n          style={{\n            ...styles.iconStyle,\n            ...hoverStyle,\n            ...props.iconStyle,\n          }}\n          onClick={() => {}} // Prevents redirect in StorybookJS\n        >\n          \n        </span>\n      </label>\n\n      <input\n        multiple\n        id=\"files\"\n        style={{ visibility: 'hidden', height: '0px', width: '0px' }}\n        type=\"file\"\n        onChange={onSelect}\n      />\n    </form>\n  );\n};\n","import React, { useEffect, useState } from 'react';\n\nimport { MessageFormProps } from './props';\nimport { styles } from './styles';\n\nimport { AttachmentInput } from './AttachmentInput';\n\nimport { File } from '../../../Components/File';\nimport { Image } from '../../../Components/Image';\n\nimport { isImage } from '../../../util/file';\nimport { MessageObject, AttachmentObject } from '../../../../interfaces';\n\nexport const MessageForm: React.FC<MessageFormProps> = (\n  props: MessageFormProps\n) => {\n  const { label = '' } = props;\n\n  const [iter, setIter] = useState(0); // Forces attachments update\n  const [value, setValue] = useState<string>('');\n  const [height, setHeight] = useState<number>(0);\n  const [buttonHover, setButtonHover] = useState<boolean>(false);\n  const [attachments, setAttachments] = useState<Array<File>>([]);\n\n  useEffect(() => resize(), []);\n\n  const resize = () => {\n    var textarea = document.getElementById('msg-textarea');\n    if (textarea !== null) {\n      textarea.style.height = '';\n      textarea.style.height = Math.min(textarea.scrollHeight, 150) + 'px';\n      setHeight(Math.min(textarea.scrollHeight, 150));\n    }\n  };\n\n  const onChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setValue(e.target.value);\n    props.onChange && props.onChange(e);\n    resize();\n  };\n\n  const onSubmit = () => {\n    const created = new Date()\n      .toISOString()\n      .replace('T', ' ')\n      .replace('Z', `${Math.floor(Math.random() * 1000)}+00:00`);\n    const localAttachments: AttachmentObject[] = attachments.map(\n      (attachment) => {\n        return {\n          id: -1,\n          created: new Date().toString(),\n          file: attachment.name,\n          blob: attachment,\n        };\n      }\n    );\n\n    const message: MessageObject = {\n      attachments: localAttachments,\n      text: value,\n      sender_username: props.username ? props.username : '',\n      custom_json: {},\n      created,\n    };\n\n    props.onSubmit && props.onSubmit(message);\n\n    setValue('');\n    setAttachments([]);\n    resize();\n  };\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      if (value.length > 0) {\n        onSubmit();\n      }\n    }\n  };\n\n  const onRemove = (index: number) => {\n    if (attachments && attachments !== null) {\n      const newAttachments = attachments;\n      newAttachments.splice(index, 1);\n      setAttachments(newAttachments);\n      setIter(iter + 1);\n    }\n  };\n\n  const renderAttachments = (renderImage: boolean) => {\n    if (!attachments || attachments === null) return <div />;\n\n    return Array.from(attachments).map((attachment, index) => {\n      const url = URL.createObjectURL(attachment);\n\n      return (\n        <span\n          key={`draft-${index}`}\n          className=\"ce-draft-attachment-wrapper\"\n          style={{\n            ...styles.draftAttachmentStyle,\n            ...props.draftAttachmentStyle,\n          }}\n        >\n          {renderImage && isImage(attachment.name) && (\n            <Image\n              url={url}\n              style={{ ...styles.draftImageStyle, ...props.draftImageStyle }}\n              className=\"ce-draft-image\"\n            />\n          )}\n\n          {!renderImage && !isImage(attachment.name) && (\n            <File\n              url={url}\n              fileName={` ${attachment.name}`}\n              style={{ ...styles.draftFileStyle, ...props.draftFileStyle }}\n              className=\"ce-draft-file\"\n            />\n          )}\n\n          {((!renderImage && !isImage(attachment.name)) ||\n            (renderImage && isImage(attachment.name))) && (\n            <button\n              className=\"ce-message-attachment-remove-btn\"\n              onClick={() => onRemove(index)}\n              style={{\n                ...styles.draftAttachmentRemoveStyle,\n                ...props.draftAttachmentRemoveStyle,\n              }}\n            >\n              \n            </button>\n          )}\n        </span>\n      );\n    });\n  };\n\n  if (props.renderMessageForm) {\n    return <>{props.renderMessageForm(props)}</>;\n  }\n\n  return (\n    <div\n      id=\"ce-message-form\"\n      style={{ ...styles.style, ...props.style }}\n      className=\"ce-message-form\"\n    >\n      <div className=\"ce-message-form-attachments-row\">\n        {renderAttachments(true)}\n      </div>\n\n      <div className=\"ce-message-form-attachments-row\">\n        {renderAttachments(false)}\n      </div>\n\n      <textarea\n        id=\"msg-textarea\"\n        className=\"ce-message-form-input\"\n        value={value}\n        placeholder={label}\n        rows={1}\n        onKeyDown={onKeyDown}\n        onChange={onChange}\n        style={{\n          ...styles.inputStyle,\n          ...{ overflowY: height === 150 ? 'scroll' : 'hidden' },\n          ...props.inputStyle,\n        }}\n      />\n\n      <AttachmentInput\n        onSelectFiles={(files) => {\n          files !== null && setAttachments(Array.from(files));\n        }}\n        style={{\n          ...styles.attachmentInputStyle,\n          ...props.attachmentInputStyle,\n        }}\n        iconStyle={{\n          ...styles.attachmentInputIconStyle,\n          ...props.attachmentInputIconStyle,\n        }}\n      />\n\n      <div\n        id=\"ce-send-message-button\"\n        onMouseEnter={() => setButtonHover(true)}\n        onMouseLeave={() => setButtonHover(false)}\n        onClick={onSubmit}\n        style={{\n          ...styles.sendButtonStyle,\n          ...{ backgroundColor: buttonHover ? '#40a9ff' : '#1890ff' },\n          ...props.sendButtonStyle,\n        }}\n      >\n        Send\n      </div>\n    </div>\n  );\n};\n","export interface WelcomeGifStyles {\n  style?: React.CSSProperties;\n  gifStyle?: React.CSSProperties;\n  textStyle?: React.CSSProperties;\n}\n\nexport const styles: WelcomeGifStyles = {\n  style: {\n    width: '100%',\n    textAlign: 'center',\n  },\n  gifStyle: { width: '50%', maxWidth: '200px' },\n  textStyle: {\n    color: '#afafaf',\n    fontWeight: 600,\n    fontSize: '14px',\n    fontFamily: 'Avenir',\n  },\n};\n","import React from 'react';\nimport { WelcomeGifProps } from './props';\nimport { styles } from './styles';\n\nexport const WelcomeGif: React.FC<WelcomeGifProps> = (\n  props: WelcomeGifProps\n) => {\n  if (props.renderWelcomeGif) {\n    return <>{props.renderWelcomeGif(props)}</>;\n  }\n  return (\n    <div\n      className=\"ce-ice-breaker-wrapper\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      <img\n        className=\"ce-ice-breaker-gif\"\n        style={{ ...styles.gifStyle, ...props.gifStyle }}\n        src=\"https://chat-engine-assets.s3.amazonaws.com/welcome_gifs/peace.gif\"\n        alt=\"chat-engine-ice-breaker\"\n      />\n\n      <div\n        className=\"ce-ice-breaker-text\"\n        style={{ ...styles.textStyle, ...props.textStyle }}\n      >\n        No messages here yet...\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { ChatFeedProps } from './props';\nimport { styles } from './styles';\n\nimport { ChatHeader } from './ChatHeader';\nimport { MessageList } from './MessageList';\nimport { MessageForm } from './MessageForm';\nimport { WelcomeGif } from './WelcomeGif';\n\nimport { getDateTime, formatDateTime } from '../../util/dateTime';\n\nimport { Spinner } from '../../Components/Spinner';\nimport { ChatObject } from '../../../interfaces';\n\nconst getDescription = (\n  chat: ChatObject | undefined,\n  timezoneOffset: number = 0\n) => {\n  if (!chat) {\n    return '  ';\n  } else if (\n    chat.last_message.created &&\n    chat.last_message.created.length > 0\n  ) {\n    const dateTime = getDateTime(chat.last_message.created, timezoneOffset);\n    const formattedDateTime = formatDateTime(dateTime);\n    return `Active ${formattedDateTime}`;\n  } else {\n    return 'Say hello!';\n  }\n};\n\nexport const ChatFeed: React.FC<ChatFeedProps> = (props: ChatFeedProps) => {\n  const { chat } = props;\n\n  const otherPerson =\n    chat &&\n    chat.people.find((person) => person.person.username !== props.username);\n\n  const title = props.isLoading ? (\n    <Spinner />\n  ) : !chat ? (\n    'Create a chat!'\n  ) : chat.is_direct_chat && otherPerson ? (\n    otherPerson.person.username\n  ) : (\n    chat.title\n  );\n\n  if (props.renderChatFeed) {\n    return <>{props.renderChatFeed(props)}</>;\n  }\n\n  return (\n    <div className=\"ce-chat-feed\" style={{ ...styles.style, ...props.style }}>\n      <ChatHeader\n        title={title}\n        description={\n          props.isLoading\n            ? 'Loading...'\n            : getDescription(chat, props.timezoneOffset)\n        }\n        renderChatHeader={props.renderChatHeader}\n        style={{\n          ...styles.chatHeaderStyle,\n          ...props.chatHeaderStyle,\n        }}\n      />\n\n      <MessageList\n        chat={chat}\n        messages={props.messages}\n        username={props.username}\n        timezoneOffset={props.timezoneOffset}\n        hasMoreMessages={props.hasMoreMessages}\n        onMessageLoaderShow={props.onMessageLoaderShow}\n        onMessageLoaderHide={props.onMessageLoaderHide}\n        onBottomMessageShow={props.onBottomMessageShow}\n        onBottomMessageHide={props.onBottomMessageHide}\n        renderMessageList={props.renderMessageList}\n        renderMessage={props.renderMessage}\n        style={{\n          ...styles.messageListStyle,\n          ...props.messageListStyle,\n        }}\n      />\n\n      {props.messages.length === 0 && !props.isLoading && (\n        <WelcomeGif\n          style={{\n            position: 'absolute',\n            top: 'calc(50% - 112px)',\n          }}\n        />\n      )}\n\n      <MessageForm\n        label=\"Send a message...\"\n        username={props.username}\n        onSubmit={props.onMessageFormSubmit}\n        renderMessageForm={props.renderMessageForm}\n        style={{\n          ...styles.messageFormStyle,\n          ...props.messageFormStyle,\n        }}\n      />\n    </div>\n  );\n};\n","export interface ChatSettingsStyles {\n  style?: React.CSSProperties;\n  chatTitleStyle?: React.CSSProperties;\n  peopleSettingsStyle?: React.CSSProperties;\n  photosSettingsStyle?: React.CSSProperties;\n  optionsSettingsStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatSettingsStyles = {\n  style: { backgroundColor: 'white', width: '100%', height: '100%' },\n  chatTitleStyle: {\n    width: '100%',\n    textAlign: 'center',\n    fontFamily: 'Avenir',\n    fontSize: '18px',\n    fontWeight: 600,\n  },\n};\n","export interface AvatarsStyle {\n  avatarOne?: React.CSSProperties;\n  avatarTwo?: React.CSSProperties;\n  avatarThree?: React.CSSProperties;\n}\nexport interface ChatAvatarsStyle {\n  style?: React.CSSProperties;\n  oneAvatarStyle?: AvatarsStyle;\n  twoAvatarsStyle?: AvatarsStyle;\n  threeAvatarsStyle?: AvatarsStyle;\n}\n\nexport const styles: ChatAvatarsStyle = {\n  style: {\n    width: '100%',\n    paddingTop: '12px',\n    height: 'calc(44px + 14px)',\n  },\n  oneAvatarStyle: {\n    avatarOne: {\n      float: 'left',\n      position: 'relative',\n      left: 'calc(50% - 22px)',\n    },\n  },\n  twoAvatarsStyle: {\n    avatarOne: {\n      float: 'left',\n      position: 'relative',\n      left: 'calc(50% - 22px - 15px)',\n    },\n    avatarTwo: {\n      float: 'left',\n      position: 'relative',\n      left: 'calc(50% - 44px - 22px + 15px)',\n    },\n  },\n  threeAvatarsStyle: {\n    avatarOne: {\n      float: 'left',\n      position: 'relative',\n      left: 'calc(50% - 22px - 24px)',\n    },\n    avatarTwo: {\n      float: 'left',\n      position: 'relative',\n      left: 'calc(50% - 24px - 44px)',\n    },\n    avatarThree: {\n      float: 'left',\n      position: 'relative',\n      left: 'calc(50% - 22px - 44px - 44px + 24px)',\n    },\n  },\n};\n","import React from 'react';\n\nimport { ChatAvatarsProps } from './props';\nimport { styles, ChatAvatarsStyle, AvatarsStyle } from './styles';\n\nimport { Avatar } from '../../../Components/Avatar';\nimport { PersonObject } from '../../../../interfaces';\n\nexport const ChatAvatars: React.FC<ChatAvatarsProps> = (\n  props: ChatAvatarsProps\n) => {\n  const { users = [] } = props;\n\n  const getStyle = (\n    people: PersonObject[],\n    styles: ChatAvatarsStyle\n  ): AvatarsStyle => {\n    if (people.length === 1) {\n      return styles.oneAvatarStyle ? styles.oneAvatarStyle : {};\n    } else if (people.length === 2) {\n      return styles.twoAvatarsStyle ? styles.twoAvatarsStyle : {};\n    } else {\n      return styles.threeAvatarsStyle ? styles.threeAvatarsStyle : {};\n    }\n  };\n\n  const getPeopleToRender = (people: PersonObject[]): PersonObject[] => {\n    if (props.isDirectChat) {\n      const otherPerson = users.find(\n        (person) => person.username !== props.username\n      );\n      return otherPerson ? [otherPerson] : [];\n    }\n    return people.slice(0, 3);\n  };\n\n  const topPeople = getPeopleToRender(users);\n  const style = getStyle(users, styles);\n  const propsStyle = getStyle(users, props);\n\n  if (props.renderChatAvatars) {\n    return <>{props.renderChatAvatars(props)}</>;\n  }\n\n  return (\n    <div\n      className=\"ce-chat-avatars\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      <Avatar\n        className=\"ce-chat-avatar-1\"\n        username={topPeople[0] ? topPeople[0].username : undefined}\n        avatarUrl={topPeople[0] ? topPeople[0].avatar : undefined}\n        style={{\n          ...style.avatarOne,\n          ...{ display: topPeople[0] ? 'inherit' : 'none' },\n          ...propsStyle.avatarOne,\n        }}\n      />\n\n      <Avatar\n        className=\"ce-chat-avatar-2\"\n        username={topPeople[1] ? topPeople[1].username : undefined}\n        avatarUrl={topPeople[1] ? topPeople[1].avatar : undefined}\n        style={{\n          ...style.avatarTwo,\n          ...{ display: topPeople[1] ? 'inherit' : 'none' },\n          ...propsStyle.avatarTwo,\n        }}\n      />\n\n      <Avatar\n        className=\"ce-chat-avatar-3\"\n        username={topPeople[2] ? topPeople[2].username : undefined}\n        avatarUrl={topPeople[2] ? topPeople[2].avatar : undefined}\n        style={{\n          ...style.avatarThree,\n          ...{ display: topPeople[2] ? 'inherit' : 'none' },\n          ...propsStyle.avatarThree,\n        }}\n      />\n    </div>\n  );\n};\n","export interface PeopleSettingsStyles {\n  style?: React.CSSProperties;\n  avatarStyle?: React.CSSProperties;\n  usernameStyle?: React.CSSProperties;\n  deleteButtonStyle?: React.CSSProperties;\n  optionStyle?: React.CSSProperties;\n  addMemberStyle?: React.CSSProperties;\n  addMemberInputStyle?: React.CSSProperties;\n}\n\nexport const styles: PeopleSettingsStyles = {\n  style: {},\n  avatarStyle: { position: 'absolute', left: '12px', top: '2px' },\n  usernameStyle: {\n    fontFamily: 'Avenir',\n    position: 'absolute',\n    left: '72px',\n    top: '12px',\n    width: 'calc(100% - 84px - 52px - 12px)',\n  },\n  deleteButtonStyle: { position: 'absolute', right: '12px', top: '8px' },\n  optionStyle: { fontFamily: 'Avenir', padding: '8px 12px', cursor: 'pointer' },\n  addMemberStyle: {\n    width: 'calc(100% - 12px - 12px)',\n    position: 'relative',\n    left: '12px',\n  },\n  addMemberInputStyle: { border: '1px solid rgb(24, 144, 255)' },\n};\n","export interface AutocompleteStyles {\n  style?: React.CSSProperties;\n  inputStyle?: React.CSSProperties;\n  closeStyle?: React.CSSProperties;\n  optionsStyle?: React.CSSProperties;\n}\n\nexport const styles: AutocompleteStyles = {\n  style: { position: 'relative' },\n  inputStyle: {\n    width: '100%',\n    height: '36px',\n    padding: '0px 12px',\n    boxSizing: 'border-box',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    outline: 'none',\n    borderRadius: '24px',\n  },\n  closeStyle: {\n    cursor: 'pointer',\n    position: 'absolute',\n    top: '5px',\n    right: '12px',\n  },\n  optionsStyle: { overflow: 'hidden' },\n};\n","import React, { useEffect, useState, useRef } from 'react';\nimport { styles } from './styles';\nimport { Props } from './props';\n\nconst emptyEvent = {\n  target: { value: '' },\n} as React.ChangeEvent<HTMLInputElement>;\n\nconst getOptions = (\n  value: string,\n  options: Array<Object>,\n  maxVisibleOptions: number\n) => {\n  return options\n    .filter(\n      (option) =>\n        JSON.stringify(option).toLowerCase().indexOf(value.toLowerCase()) !== -1\n    )\n    .slice(0, maxVisibleOptions);\n};\n\nexport const Autocomplete: React.FC<Props> = (props: Props) => {\n  const ref = useRef<HTMLDivElement>(null);\n  const didMountRef = useRef(false);\n  const [value, setValue] = useState<string>('');\n  const [showOptions, setShowOptions] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleClickOutside = (event: MouseEvent) => {\n    if (\n      event.target !== null &&\n      ref &&\n      ref.current !== null &&\n      !ref.current.contains(event.target as Node)\n    ) {\n      setShowOptions(false);\n    }\n  };\n\n  const onChange = (\n    event: React.ChangeEvent<HTMLInputElement>,\n    showOptions: boolean\n  ) => {\n    setValue(event.target.value);\n    setShowOptions(showOptions);\n    props.onChange && props.onChange(event);\n  };\n\n  const renderOptions = (value: string) => {\n    const max = props.maxVisibleOptions ? props.maxVisibleOptions : 3;\n    return getOptions(value, props.options, max).map((option, index) => {\n      return (\n        <div key={`option-${index}`}>\n          {props.renderOption ? props.renderOption(option) : option.toString()}\n        </div>\n      );\n    });\n  };\n\n  return (\n    <div\n      ref={ref}\n      className=\"ce-autocomplete\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      <input\n        className=\"ce-autocomplete-input\"\n        value={value}\n        placeholder={props.label}\n        style={{ ...styles.inputStyle, ...props.inputStyle }}\n        onChange={(e) => onChange(e, true)}\n        onFocus={(e) => {\n          setShowOptions(true);\n          props.onFocus && props.onFocus(e);\n        }}\n      />\n\n      <div\n        className=\"ce-autocomplete-close\"\n        onClick={() => onChange(emptyEvent, true)}\n        style={{\n          ...styles.closeStyle,\n          ...{ display: value.length > 0 ? 'inline-block' : 'none' },\n          ...props.closeStyle,\n        }}\n      >\n        \n      </div>\n\n      <div\n        style={{\n          ...styles.optionsStyle,\n          ...{ height: showOptions ? 'auto' : '0px' },\n          ...props.optionsStyle,\n        }}\n      >\n        {renderOptions(value)}\n      </div>\n    </div>\n  );\n};\n","export interface DropdownStyles {\n  style?: React.CSSProperties;\n  barStyle?: React.CSSProperties;\n  barHoveredStyle?: React.CSSProperties;\n  iconStyle?: React.CSSProperties;\n  bodyStyle?: React.CSSProperties;\n  bodyExpandedStyle?: React.CSSProperties;\n}\n\nexport const styles: DropdownStyles = {\n  style: { borderTop: '1px solid #f0f0f0' },\n  barStyle: {\n    position: 'relative',\n    cursor: 'pointer',\n    backgroundColor: 'white',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n    fontFamily: 'Avenir',\n    fontSize: '17px',\n    padding: '12px',\n    fontWeight: 600,\n  },\n  barHoveredStyle: {\n    backgroundColor: '#f0f0f0',\n  },\n  iconStyle: {\n    position: 'absolute',\n    right: '12px',\n    bottom: '15px',\n    width: '1em',\n    height: '1em',\n    transition: `transform 100ms`,\n  },\n  bodyStyle: {\n    height: '0px',\n    overflow: 'hidden',\n    transition: 'all 1.33s ease',\n    WebkitTransition: 'all 1.33s ease',\n    MozTransition: 'all 1.33s ease',\n  },\n  bodyExpandedStyle: { height: 'auto' },\n};\n","import React, { useState } from 'react';\nimport { styles } from './styles';\nimport { Props } from './props';\n\nexport const Dropdown: React.FC<Props> = (props: Props) => {\n  const [hovered, setHovered] = useState<boolean>(false);\n  const [expanded, setExpanded] = useState<boolean>(false);\n\n  return (\n    <div\n      id={props.id}\n      className={`ce-dropdown ${props.className}`}\n      style={{ ...styles.style, ...props.style }}\n    >\n      <div\n        className=\"ce-dropdown-label\"\n        onMouseEnter={() => setHovered(true)}\n        onMouseLeave={() => setHovered(false)}\n        onClick={() => setExpanded(!expanded)}\n        style={{\n          ...styles.barStyle,\n          ...(hovered && styles.barHoveredStyle),\n          ...props.barStyle,\n          ...(hovered && props.barHoveredStyle),\n        }}\n      >\n        {props.label}\n\n        <svg\n          className=\"ce-dropdown-icon\"\n          style={{\n            ...styles.iconStyle,\n            ...(expanded\n              ? { transform: `rotate(-90deg)` }\n              : { transform: `rotate(0deg)` }),\n            ...props.iconStyle,\n          }}\n          viewBox=\"64 64 896 896\"\n          focusable=\"false\"\n          data-icon=\"left\"\n          fill=\"currentColor\"\n          aria-hidden=\"true\"\n        >\n          <path d=\"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\"></path>\n        </svg>\n      </div>\n\n      <div\n        className=\"ce-dropdown-children\"\n        style={{\n          ...styles.bodyStyle,\n          ...(expanded && styles.bodyExpandedStyle),\n          ...props.bodyStyle,\n          ...(expanded && props.bodyExpandedStyle),\n        }}\n      >\n        {props.children}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { PeopleSettingsProps } from './props';\nimport { styles } from './styles';\n\nimport { Avatar } from '../../../Components/Avatar';\nimport { Autocomplete } from '../../../Components/Autocomplete';\nimport { Button } from '../../../Components/Button';\nimport { Dropdown } from '../../../Components/Dropdown';\n\nimport { PersonObject, ChatPersonObject } from '../../../../interfaces';\n\nexport const PeopleSettings: React.FC<PeopleSettingsProps> = (\n  props: PeopleSettingsProps\n) => {\n  const { chat = { people: [] }, peopleToInvite = [] } = props;\n\n  const renderChatPeople = (chatPeople: Array<ChatPersonObject>) => {\n    return chatPeople.map((chatPerson, index) => {\n      const { person } = chatPerson;\n\n      return (\n        <div\n          key={`member-${index}`}\n          style={{ height: '52px', position: 'relative' }}\n        >\n          <Avatar\n            username={person.username}\n            avatarUrl={person.avatar}\n            isOnline={person.is_online}\n            style={{ ...styles.avatarStyle, ...props.avatarStyle }}\n          />\n\n          <div style={{ ...styles.usernameStyle, ...props.usernameStyle }}>\n            {person.username}\n          </div>\n\n          {props.canDelete && (\n            <Button\n              type=\"danger\"\n              className=\"ce-member-delete-button\"\n              onClick={() =>\n                props.onRemovePersonClick && props.onRemovePersonClick(person)\n              }\n              style={{\n                ...styles.deleteButtonStyle,\n                ...props.deleteButtonStyle,\n              }}\n            >\n              <svg\n                viewBox=\"64 64 896 896\"\n                focusable=\"false\"\n                data-icon=\"close\"\n                width=\"1em\"\n                height=\"1em\"\n                fill=\"currentColor\"\n                aria-hidden=\"true\"\n              >\n                <path d=\"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z\"></path>\n              </svg>\n            </Button>\n          )}\n        </div>\n      );\n    });\n  };\n\n  const renderChatPeopleOption = (option: object) => {\n    const person = option as PersonObject;\n    const { onInvitePersonClick } = props;\n    return (\n      <div\n        className=\"ce-add-member-option\"\n        style={{ ...styles.optionStyle, ...props.optionStyle }}\n        onClick={() => onInvitePersonClick && onInvitePersonClick(person)}\n      >\n        {person.username}\n      </div>\n    );\n  };\n\n  if (props.renderPeopleSettings) {\n    return <>{props.renderPeopleSettings(props)}</>;\n  }\n\n  return (\n    <Dropdown\n      id=\"ce-settings-people-dropdown\"\n      label=\"Members\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      {renderChatPeople(chat.people)}\n\n      <Autocomplete\n        label=\"Add Member\"\n        options={peopleToInvite}\n        renderOption={renderChatPeopleOption}\n        style={{ ...styles.addMemberStyle, ...props.addMemberStyle }}\n        inputStyle={{\n          ...styles.addMemberInputStyle,\n          ...props.addMemberInputStyle,\n        }}\n      />\n    </Dropdown>\n  );\n};\n","export interface PhotosSettingsStyles {\n  style?: React.CSSProperties;\n  imageWrapperStyle?: React.CSSProperties;\n  imagePaddingStyle?: React.CSSProperties;\n  imageStyle?: React.CSSProperties;\n}\n\nexport const styles: PhotosSettingsStyles = {\n  style: {},\n  imageWrapperStyle: {\n    position: 'relative',\n    width: '33.3%',\n    display: 'inline-block',\n    cursor: 'pointer',\n  },\n  imagePaddingStyle: { paddingTop: '100%' },\n  imageStyle: {\n    top: '0px',\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n    objectFit: 'cover',\n    padding: '0px',\n    borderRadius: '0px',\n  },\n};\n","import React from 'react';\n\nimport { PhotosSettingsProps } from './props';\nimport { styles } from './styles';\n\nimport { Image } from '../../../Components/Image';\nimport { Dropdown } from '../../../Components/Dropdown';\nimport { AttachmentObject } from '../../../../interfaces';\nimport { isImage, getFileName } from '../../../util/file';\n\nexport const PhotosSettings: React.FC<PhotosSettingsProps> = (\n  props: PhotosSettingsProps\n) => {\n  const { chat = { attachments: [] } } = props;\n  const renderImages = (attachments: Array<AttachmentObject>) => {\n    return attachments.map((attachment, index) => {\n      const fileName = getFileName(attachment.file);\n      if (isImage(fileName)) {\n        return (\n          <div\n            key={`photo-${index}`}\n            style={{ ...styles.imageWrapperStyle, ...props.imageWrapperStyle }}\n          >\n            <div\n              style={{\n                ...styles.imagePaddingStyle,\n                ...props.imagePaddingStyle,\n              }}\n            />\n\n            <Image\n              key={`attachment_${index}`}\n              className=\"ce-settings-image\"\n              url={attachment.file !== null ? attachment.file : undefined}\n              style={{ ...styles.imageStyle, ...props.imageStyle }}\n            />\n          </div>\n        );\n      }\n      return <span key={`photo-${index}`} />;\n    });\n  };\n\n  if (props.renderPhotosSettings) {\n    return <>{props.renderPhotosSettings(props)}</>;\n  }\n\n  return (\n    <Dropdown\n      id=\"ce-settings-photos-dropdown\"\n      label=\"Photos\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      {renderImages(chat.attachments)}\n    </Dropdown>\n  );\n};\n","export interface OptionsSettingsStyles {\n  style?: React.CSSProperties;\n  deleteChatButtonStyle?: React.CSSProperties;\n}\n\nexport const styles: OptionsSettingsStyles = {\n  style: {},\n  deleteChatButtonStyle: {\n    width: 'calc(100% - 24px)',\n    position: 'relative',\n    left: '12px',\n  },\n};\n","import React from 'react';\n\nimport { OptionsSettingsProps } from './props';\nimport { styles } from './styles';\n\nimport { Button } from '../../../Components/Button';\nimport { Dropdown } from '../../../Components/Dropdown';\n\nexport const OptionsSettings: React.FC<OptionsSettingsProps> = (\n  props: OptionsSettingsProps\n) => {\n  if (props.renderOptionsSettings) {\n    return <>{props.renderOptionsSettings(props)}</>;\n  }\n\n  return (\n    <Dropdown\n      id=\"ce-settings-options-dropdown\"\n      label=\"Options\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      <Button\n        type=\"danger\"\n        onClick={() =>\n          props.onDeleteChatClick &&\n          props.chat &&\n          props.onDeleteChatClick(props.chat)\n        }\n        style={{\n          ...styles.deleteChatButtonStyle,\n          ...props.deleteChatButtonStyle,\n        }}\n      >\n        Delete this Chat\n      </Button>\n    </Dropdown>\n  );\n};\n","import React from 'react';\n\nimport { ChatSettingsProps } from './props';\nimport { styles } from './styles';\n\nimport { ChatAvatars } from './ChatAvatars';\nimport { PeopleSettings } from './PeopleSettings';\nimport { PhotosSettings } from './PhotosSettings';\nimport { OptionsSettings } from './OptionsSettings';\n\nexport const ChatSettings: React.FC<ChatSettingsProps> = (\n  props: ChatSettingsProps\n) => {\n  const { chat } = props;\n\n  if (props.renderChatSettings) {\n    return <>{props.renderChatSettings(props)}</>;\n  }\n\n  const people = chat ? chat.people.map((chatPerson) => chatPerson.person) : [];\n\n  const otherPerson =\n    chat &&\n    chat.people.find((person) => person.person.username !== props.username);\n  const title =\n    props.isLoading || !chat\n      ? ''\n      : chat.is_direct_chat && otherPerson\n      ? otherPerson.person.username\n      : chat.title;\n\n  return (\n    <div\n      className=\"ce-chat-settings\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      <ChatAvatars\n        users={people}\n        username={props.username}\n        renderChatAvatars={props.renderChatAvatars}\n      />\n\n      <div\n        className=\"ce-chat-settings-title\"\n        style={{ ...styles.chatTitleStyle, ...props.chatTitleStyle }}\n      >\n        {title}\n      </div>\n\n      <PeopleSettings\n        chat={chat}\n        peopleToInvite={props.peopleToInvite}\n        canDelete={chat && props.username === chat.admin.username}\n        onInvitePersonClick={props.onInvitePersonClick}\n        onRemovePersonClick={props.onRemovePersonClick}\n        renderPeopleSettings={props.renderPeopleSettings}\n        style={{ ...styles.peopleSettingsStyle, ...props.peopleSettingsStyle }}\n      />\n\n      <PhotosSettings\n        chat={chat}\n        renderPhotosSettings={props.renderPhotosSettings}\n        style={{ ...styles.photosSettingsStyle, ...props.photosSettingsStyle }}\n      />\n\n      <OptionsSettings\n        chat={chat}\n        onDeleteChatClick={props.onDeleteChatClick}\n        renderOptionsSettings={props.renderOptionsSettings}\n        style={{\n          ...styles.optionsSettingsStyle,\n          ...props.optionsSettingsStyle,\n        }}\n      />\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\n\nimport { MultiChatWindowProps } from './props';\nimport { styles } from './styles';\n\nimport { ChatList } from './ChatList';\nimport { ChatFeed } from './ChatFeed';\nimport { ChatSettings } from './ChatSettings';\nimport { ChatAvatars } from './ChatSettings/ChatAvatars';\nimport { ChatAvatarsProps } from './ChatSettings/ChatAvatars/props';\nimport { Button } from '../Components/Button';\n\nimport {\n  UnorderedListOutlined,\n  SettingOutlined,\n  CloseOutlined,\n} from '@ant-design/icons';\n\nimport { Row, Col } from 'react-grid-system';\nimport { setConfiguration } from 'react-grid-system';\n\nsetConfiguration({ maxScreenClass: 'xl', gutterWidth: 0 });\n\nexport const MultiChatWindow: React.FC<MultiChatWindowProps> = (\n  props: MultiChatWindowProps\n) => {\n  if (typeof window == 'undefined') return <div />;\n\n  const { chats = [], activeChatId = -1, messages = [] } = props;\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 575);\n  const chat = chats.find((chat) => chat.id === activeChatId);\n\n  useEffect(() => {\n    function handleResize() {\n      setIsMobile(window.innerWidth < 575);\n    }\n    window.addEventListener('resize', handleResize);\n  });\n\n  const renderChatList = () => {\n    return (\n      <ChatList\n        chats={chats}\n        activeChatId={activeChatId}\n        username={props.username}\n        timezoneOffset={props.timezoneOffset}\n        isLoading={props.isChatListLoading}\n        hasMoreChats={props.hasMoreChats}\n        onChatFormSubmit={props.onChatFormSubmit}\n        onChatCardClick={props.onChatCardClick}\n        onChatLoaderShow={props.onChatLoaderShow}\n        renderChatList={props.renderChatList}\n        renderChatForm={props.renderChatForm}\n        renderChatCard={props.renderChatCard}\n        style={{\n          position: isMobile ? 'absolute' : 'inherit',\n          zIndex: isMobile ? 1 : 'inherit',\n        }}\n      />\n    );\n  };\n\n  const renderChatSettings = () => {\n    return (\n      <ChatSettings\n        chat={chat}\n        username={props.username}\n        peopleToInvite={props.peopleToInvite}\n        isLoading={props.isChatSettingsLoading}\n        onInvitePersonClick={props.onInvitePersonClick}\n        onRemovePersonClick={props.onRemovePersonClick}\n        onDeleteChatClick={props.onDeleteChatClick}\n        renderChatSettings={props.renderChatSettings}\n        renderChatAvatars={(chatAvatarsProps) =>\n          (\n            <>\n              <ChatAvatars\n                {...chatAvatarsProps}\n                renderChatAvatars={props.renderChatAvatars}\n              />\n              {isMobile && (\n                <Button\n                  onClick={props.onCloseMobileChatSettingsClick}\n                  style={{ position: 'absolute', top: '12px', right: '12px' }}\n                >\n                  <CloseOutlined />\n                </Button>\n              )}\n            </>\n          ) as unknown as React.FC<ChatAvatarsProps>\n        }\n        renderPeopleSettings={props.renderPeopleSettings}\n        renderPhotosSettings={props.renderPhotosSettings}\n        renderOptionsSettings={props.renderOptionsSettings}\n        style={{\n          position: isMobile ? 'absolute' : 'inherit',\n          zIndex: isMobile ? 1 : 'inherit',\n        }}\n      />\n    );\n  };\n\n  return (\n    <Row className=\"ce-chat-engine\" style={{ ...styles.style, ...props.style }}>\n      <Col\n        xs={0}\n        sm={3}\n        className=\"ce-chat-list-column\"\n        style={{ ...styles.chatListColumnStyle, ...props.chatListColumnStyle }}\n      >\n        {renderChatList()}\n      </Col>\n\n      <Col\n        xs={12}\n        sm={6}\n        className=\"ce-chat-feed-column\"\n        style={{ ...styles.chatFeedColumnStyle, ...props.chatFeedColumnStyle }}\n      >\n        <ChatFeed\n          chat={chat}\n          messages={messages}\n          username={props.username}\n          timezoneOffset={props.timezoneOffset}\n          isLoading={props.isChatFeedLoading}\n          hasMoreMessages={props.hasMoreMessages}\n          onMessageLoaderShow={props.onMessageLoaderShow}\n          onMessageLoaderHide={props.onMessageLoaderHide}\n          onBottomMessageShow={props.onBottomMessageShow}\n          onBottomMessageHide={props.onBottomMessageHide}\n          onMessageFormSubmit={props.onMessageFormSubmit}\n          renderChatFeed={props.renderChatFeed}\n          renderChatHeader={props.renderChatHeader}\n          renderMessageList={props.renderMessageList}\n          renderMessage={props.renderMessage}\n          renderWelcomeGif={props.renderWelcomeGif}\n          renderMessageForm={props.renderMessageForm}\n        />\n      </Col>\n\n      <Col\n        xs={0}\n        sm={3}\n        className=\"ce-chat-settings-column\"\n        style={{\n          ...styles.chatSettingsColumnStyle,\n          ...props.chatSettingsColumnStyle,\n        }}\n      >\n        {renderChatSettings()}\n      </Col>\n\n      <Button\n        onClick={props.onMobileChatListClick}\n        className=\"ce-mobile-chat-list-button\"\n        style={{\n          ...styles.chatListMobileButtonStyle,\n          ...{ display: isMobile ? 'inherit' : 'none' },\n          ...props.chatListMobileButtonStyle,\n        }}\n      >\n        <UnorderedListOutlined />\n      </Button>\n\n      {isMobile && props.isMobileChatListOpen && renderChatList()}\n\n      <Button\n        onClick={props.onMobileChatSettingsClick}\n        className=\"ce-mobile-chat-settings-button\"\n        style={{\n          ...styles.chatSettingsMobileButtonStyle,\n          ...{ display: isMobile ? 'inherit' : 'none' },\n          ...props.chatSettingsMobileButtonStyle,\n        }}\n      >\n        <SettingOutlined />\n      </Button>\n\n      {isMobile && props.isMobileChatSettingsOpen && renderChatSettings()}\n    </Row>\n  );\n};\n","import { animateScroll } from 'react-scroll';\n\nexport const scrollToBottom = (duration: number, containerId: string) => {\n  if (document.getElementById(containerId)) {\n    animateScroll.scrollToBottom({\n      duration: duration,\n      containerId: containerId,\n    });\n  }\n};\n","import { useState, useEffect, useRef } from 'react';\n\nimport {\n  ChatObject,\n  MessageObject,\n  PersonObject,\n  UserAuthHeaders,\n} from '../interfaces';\nimport { getDateTime } from '../components/util/dateTime';\n\nimport {\n  getChatsBefore,\n  newChat,\n  deleteChat,\n  getPeopleToInvite,\n  invitePerson,\n  removePerson,\n  getMessages,\n  newMessage,\n  readMessage,\n} from '../actions';\n\nimport { animateScroll } from 'react-scroll';\nimport { scrollToBottom } from './shared';\n\nconst chatCountIterator = 20;\nconst messageCountIterator = 50;\n\nexport const sortChats = (chats: ChatObject[]) => {\n  return chats.sort((a: ChatObject, b: ChatObject) => {\n    const aDate =\n      a.last_message && a.last_message.created\n        ? getDateTime(a.last_message.created)\n        : getDateTime(a.created);\n    const bDate =\n      b.last_message && b.last_message.created\n        ? getDateTime(b.last_message.created)\n        : getDateTime(b.created);\n    return new Date(bDate).getTime() - new Date(aDate).getTime();\n  });\n};\n\nexport const sortMessages = (messages: MessageObject[]) => {\n  return messages.sort((a: MessageObject, b: MessageObject) => {\n    return new Date(b.created).getTime() - new Date(a.created).getTime();\n  });\n};\n\nexport const useMultiChatLogic = (\n  projectId: string,\n  username: string,\n  secret: string,\n  httpUrl?: string\n) => {\n  const host = httpUrl ? httpUrl : 'https://api.chatengine.io';\n  const headers: UserAuthHeaders = {\n    'Public-Key': projectId,\n    'User-Name': username,\n    'User-Secret': secret,\n  };\n\n  // Data\n  const [activeChatId, setActiveChatId] = useState<number | undefined>();\n  const [chats, setChats] = useState<ChatObject[]>([]);\n  const [messages, setMessages] = useState<MessageObject[]>([]);\n  const [peopleToInvite, setPeopleToInvite] = useState<PersonObject[]>([]);\n\n  // State\n  const [hasMoreChats, setHasMoreChats] = useState<boolean>(false);\n  const [hasMoreMessages, setHasMoreMessages] = useState<boolean>(false);\n  const [isChatFeedAtBottom, setIsChatFeedAtBottom] = useState<boolean>(false);\n  const [isChatListLoading, setIsChatListLoading] = useState<boolean>(true);\n  const [isChatFeedLoading, setIsChatFeedLoading] = useState<boolean>(true);\n  const [isChatSettingsLoading, setIsChatSettingsLoading] =\n    useState<boolean>(true);\n  const [isMobileChatListOpen, setIsMobileChatListOpen] =\n    useState<boolean>(false);\n  const [isMobileChatSettingsOpen, setIsMobileChatSettingsOpen] =\n    useState<boolean>(false);\n\n  // Subscribe to Chat & Message Count\n  const chatCountRef = useRef<number>(0);\n  chatCountRef.current = chats.length;\n  const messageCountRef = useRef<number>(0);\n  messageCountRef.current = messages.length;\n  const chat = chats.find((chat) => chat.id === activeChatId);\n\n  // Fetch data on mount\n  const didMountRef = useRef<boolean>(false);\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      fetchMultiChatData();\n    }\n  }, []);\n\n  useEffect(() => {\n    const chat = chats.find((chat) => chat.id === activeChatId);\n    const chatPerson = chat?.people.find(\n      (chatPerson) => chatPerson.person.username === username\n    );\n\n    if (\n      activeChatId &&\n      chat?.last_message.id && // If there is a message\n      chat.last_message.id !== chatPerson?.last_read &&\n      isChatFeedAtBottom\n    ) {\n      readMessage(host, headers, activeChatId, chat.last_message.id, () => {});\n    }\n  }, [chats, activeChatId, isChatFeedAtBottom]);\n\n  async function fetchMultiChatData() {\n    const now = new Date()\n      .toISOString()\n      .replace('T', ' ')\n      .replace('Z', `${Math.floor(Math.random() * 1000)}+00:00`);\n\n    getChatsBefore(\n      host,\n      headers,\n      now,\n      chatCountRef.current > 0 ? chatCountRef.current : chatCountIterator,\n      (chats) => {\n        onGetChats(chats);\n\n        let currentChat = activeChatId;\n        if (!activeChatId && chats.length > 0) {\n          currentChat = chats[0].id;\n        }\n\n        currentChat\n          ? onChatCardClick(currentChat)\n          : setIsChatFeedLoading(false);\n      }\n    );\n    return;\n  }\n\n  async function onGetChats(chats: ChatObject[] = []) {\n    setHasMoreChats(chats.length >= chatCountRef.current + chatCountIterator);\n\n    const sortedChats = sortChats(chats);\n\n    setChats(sortedChats);\n    setIsChatListLoading(false);\n    return;\n  }\n\n  async function onNewChat(chat: ChatObject) {\n    const newChats = [chat].concat(chats ? chats : []);\n\n    setChats(newChats);\n    return;\n  }\n\n  async function onEditChat(newChat: ChatObject) {\n    const otherChats = chats\n      ? chats.filter((chat) => chat.id !== newChat.id)\n      : [];\n    const newChats = [newChat].concat(otherChats);\n    const sortedChats = sortChats(newChats);\n\n    setChats(sortedChats);\n    return;\n  }\n\n  async function onDeleteChat(oldChat: ChatObject) {\n    const newChats = chats\n      ? chats.filter((chat) => chat.id !== oldChat.id)\n      : [];\n\n    setChats(newChats);\n\n    if (newChats.length > 0 && activeChatId === oldChat.id)\n      onChatCardClick(newChats[0].id);\n    return;\n  }\n\n  async function onGetMessages(chatId: number, messages: MessageObject[]) {\n    setHasMoreMessages(\n      messages.length >= messageCountRef.current + messageCountIterator\n    );\n    setMessages(messages);\n\n    void chatId;\n    return;\n  }\n\n  async function onNewMessage(chatId: number, newMessage: MessageObject) {\n    if (activeChatId === chatId) {\n      const otherMessages = messages\n        ? messages.filter((message) => message.created !== newMessage.created)\n        : [];\n      const newMessages = otherMessages.concat(newMessage);\n      const sortedMessages = sortMessages(newMessages);\n\n      setMessages(sortedMessages);\n      if (isChatFeedAtBottom) {\n        scrollToBottom(333, `ce-message-list-${activeChatId}`);\n      }\n    }\n    return;\n  }\n\n  async function onEditMessage(chatId: number, newMessage: MessageObject) {\n    if (chatId === activeChatId) {\n      const otherMessages = messages\n        ? messages.filter((message) => message.id !== newMessage.id)\n        : [];\n      const newMessages = [newMessage].concat(otherMessages);\n      const sortedMessages = sortMessages(newMessages);\n      setMessages(sortedMessages);\n    }\n    return;\n  }\n\n  async function onDeleteMessage(chatId: number, oldMessage: MessageObject) {\n    if (chatId === activeChatId) {\n      const newMessages = messages\n        ? messages.filter((message) => message.id !== oldMessage.id)\n        : [];\n      setMessages(newMessages);\n    }\n    return;\n  }\n\n  async function onConnect() {\n    fetchMultiChatData();\n    return;\n  }\n\n  async function onAuthFail() {}\n\n  async function onChatFormSubmit(title: string) {\n    newChat(host, headers, title, (chat) => {\n      onNewChat(chat);\n      onChatCardClick(chat.id);\n    });\n    return;\n  }\n\n  async function onChatCardClick(newActiveChatId: number) {\n    if (newActiveChatId !== activeChatId) {\n      setIsChatFeedLoading(true);\n      setIsChatSettingsLoading(true);\n    }\n\n    setActiveChatId(newActiveChatId);\n    setIsMobileChatListOpen(false);\n\n    getMessages(\n      host,\n      headers,\n      newActiveChatId,\n      messageCountIterator,\n      (chatId, messages) => {\n        onGetMessages(chatId, messages);\n        setIsChatFeedLoading(false);\n        setIsChatSettingsLoading(false);\n        scrollToBottom(0, `ce-message-list-${activeChatId}`);\n      }\n    );\n\n    getPeopleToInvite(host, headers, newActiveChatId, setPeopleToInvite);\n    return;\n  }\n\n  async function onChatLoaderShow() {\n    const now = new Date()\n      .toISOString()\n      .replace('T', ' ')\n      .replace('Z', `0000+00:00`);\n\n    getChatsBefore(\n      host,\n      headers,\n      now,\n      chatCountRef.current + chatCountIterator,\n      onGetChats\n    );\n    return;\n  }\n\n  async function onMessageFormSubmit(message: MessageObject) {\n    const newMessages = messages?.concat(message);\n    setMessages(newMessages);\n\n    newMessage(host, headers, activeChatId, message, () => {});\n\n    setTimeout(() => {\n      scrollToBottom(333, `ce-message-list-${activeChatId}`);\n    }, 100);\n    return;\n  }\n\n  async function onInvitePersonClick(person: PersonObject) {\n    activeChatId &&\n      invitePerson(host, headers, activeChatId, person.username, () =>\n        onChatCardClick(activeChatId)\n      );\n  }\n\n  async function onRemovePersonClick(person: PersonObject) {\n    activeChatId &&\n      removePerson(host, headers, activeChatId, person.username, () =>\n        onChatCardClick(activeChatId)\n      );\n    return;\n  }\n\n  async function onDeleteChatClick(chat: ChatObject) {\n    deleteChat(host, headers, chat.id, onDeleteChat);\n    return;\n  }\n\n  async function onBottomMessageShow() {\n    setIsChatFeedAtBottom(true);\n    return;\n  }\n\n  async function onBottomMessageHide() {\n    setIsChatFeedAtBottom(false);\n    return;\n  }\n\n  async function onMessageLoaderShow() {\n    const scrollContainerId = `ce-message-list-${activeChatId}`;\n    const messageListId = `ce-message-list-content-${activeChatId}`;\n\n    const currentElement = document.getElementById(messageListId);\n    let currentHeight = currentElement ? currentElement.clientHeight : 0;\n\n    activeChatId &&\n      getMessages(\n        host,\n        headers,\n        activeChatId,\n        messageCountRef.current + messageCountIterator,\n        (chatId, messages) => {\n          onGetMessages(chatId, messages);\n\n          setTimeout(() => {\n            const element = document.getElementById(messageListId);\n            if (element) {\n              animateScroll.scrollTo(element.clientHeight - currentHeight, {\n                duration: 333,\n                containerId: scrollContainerId,\n              });\n            }\n          }, 1000);\n        }\n      );\n    return;\n  }\n\n  async function onMessageLoaderHide() {\n    return;\n  }\n\n  async function onIsTyping(id: number, person: PersonObject) {\n    void id, person;\n    return;\n  }\n\n  async function onMobileChatListClick() {\n    setIsMobileChatListOpen(true);\n    return;\n  }\n\n  async function onMobileChatSettingsClick() {\n    setIsMobileChatSettingsOpen(true);\n    return;\n  }\n\n  async function onCloseMobileChatSettingsClick() {\n    setIsMobileChatSettingsOpen(false);\n    return;\n  }\n\n  return {\n    // Socket Hooks\n    onConnect,\n    onAuthFail,\n    onGetChats,\n    onNewChat,\n    onEditChat,\n    onDeleteChat,\n    onGetMessages,\n    onNewMessage,\n    onEditMessage,\n    onDeleteMessage,\n    onIsTyping,\n    // Auth Data\n    projectId,\n    username,\n    // file deepcode ignore HardcodedNonCryptoSecret: <not a secret>\n    secret,\n    httpUrl,\n    wsUrl: httpUrl && httpUrl.replace('http', 'ws'),\n    // Chat Data\n    chats,\n    setChats,\n    messages,\n    setMessages,\n    peopleToInvite,\n    setPeopleToInvite,\n    // Chat State\n    activeChatId,\n    setActiveChatId,\n    chat,\n    hasMoreChats,\n    setHasMoreChats,\n    hasMoreMessages,\n    setHasMoreMessages,\n    isChatFeedAtBottom,\n    setIsChatFeedAtBottom,\n    isChatListLoading,\n    setIsChatListLoading,\n    isChatFeedLoading,\n    setIsChatFeedLoading,\n    isChatSettingsLoading,\n    setIsChatSettingsLoading,\n    isMobileChatListOpen,\n    setIsMobileChatListOpen,\n    isMobileChatSettingsOpen,\n    setIsMobileChatSettingsOpen,\n    // Component Hooks\n    onChatFormSubmit,\n    onChatCardClick,\n    onChatLoaderShow,\n    onMessageLoaderShow,\n    onMessageLoaderHide,\n    onBottomMessageShow,\n    onBottomMessageHide,\n    onMessageFormSubmit,\n    onInvitePersonClick,\n    onRemovePersonClick,\n    onDeleteChatClick,\n    onMobileChatListClick,\n    onMobileChatSettingsClick,\n    onCloseMobileChatSettingsClick,\n  };\n};\n","import { useState, useEffect, useRef } from 'react';\n\nimport { ChatObject, MessageObject, PersonObject } from '../interfaces';\nimport { getDateTime } from '../components/util/dateTime';\n\nimport { getChat, getMessages, newMessage } from '../actions';\n\nimport { animateScroll } from 'react-scroll';\nimport { scrollToBottom } from './shared';\nimport { ChatAuthHeaders } from '../interfaces';\n\nconst messageCountIterator = 50;\n\nexport const sortChats = (chats: ChatObject[]) => {\n  return chats.sort((a: ChatObject, b: ChatObject) => {\n    const aDate =\n      a.last_message && a.last_message.created\n        ? getDateTime(a.last_message.created)\n        : getDateTime(a.created);\n    const bDate =\n      b.last_message && b.last_message.created\n        ? getDateTime(b.last_message.created)\n        : getDateTime(b.created);\n    return new Date(bDate).getTime() - new Date(aDate).getTime();\n  });\n};\n\nexport const sortMessages = (messages: MessageObject[]) => {\n  return messages.sort((a: MessageObject, b: MessageObject) => {\n    return new Date(b.created).getTime() - new Date(a.created).getTime();\n  });\n};\n\nexport const useSingleChatLogic = (\n  projectId: string,\n  chatId: string,\n  chatAccessKey: string,\n  httpUrl?: string\n) => {\n  const host = httpUrl ? httpUrl : 'https://api.chatengine.io';\n  const headers: ChatAuthHeaders = {\n    'Public-Key': projectId,\n    'Chat-ID': chatId,\n    'Access-Key': chatAccessKey,\n  };\n\n  // Data\n  const [activeChatId, setActiveChatId] = useState<number | undefined>();\n  const [chat, setChat] = useState<ChatObject | undefined>();\n  const [messages, setMessages] = useState<MessageObject[]>([]);\n  const [peopleToInvite, setPeopleToInvite] = useState<PersonObject[]>([]);\n\n  // State\n  const [hasMoreChats, setHasMoreChats] = useState<boolean>(false);\n  const [hasMoreMessages, setHasMoreMessages] = useState<boolean>(false);\n  const [isChatFeedAtBottom, setIsChatFeedAtBottom] = useState<boolean>(false);\n  const [isChatFeedLoading, setIsChatFeedLoading] = useState<boolean>(true);\n\n  // Subscribe to Chat & Message Count\n  const chatCountRef = useRef<number>(0);\n  chatCountRef.current = chat ? 1 : 0;\n  const messageCountRef = useRef<number>(0);\n  messageCountRef.current = messages.length;\n\n  // Fetch data on mount\n  const didMountRef = useRef<boolean>(false);\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      fetchSingleChatData();\n    }\n  }, []);\n\n  async function fetchSingleChatData() {\n    getChat(host, headers, chatId, (chat) => {\n      setChat(chat);\n      onChatCardClick(chat.id);\n    });\n  }\n\n  async function onEditChat(chat: ChatObject) {\n    setChat(chat);\n  }\n\n  async function onDeleteChat() {\n    setChat(undefined);\n    setActiveChatId(undefined);\n  }\n\n  async function onGetMessages(chatId: number, messages: MessageObject[]) {\n    setHasMoreMessages(\n      messages.length >= messageCountRef.current + messageCountIterator\n    );\n    setMessages(messages);\n    setIsChatFeedLoading(false);\n    void chatId;\n  }\n\n  async function onNewMessage(chatId: number, newMessage: MessageObject) {\n    if (activeChatId === chatId) {\n      const otherMessages = messages\n        ? messages.filter((message) => message.created !== newMessage.created)\n        : [];\n      const newMessages = otherMessages.concat(newMessage);\n      const sortedMessages = sortMessages(newMessages);\n\n      setMessages(sortedMessages);\n      if (isChatFeedAtBottom) {\n        scrollToBottom(333, `ce-message-list-${activeChatId}`);\n      }\n    }\n  }\n\n  async function onEditMessage(chatId: number, newMessage: MessageObject) {\n    if (chatId === activeChatId) {\n      const otherMessages = messages\n        ? messages.filter((message) => message.id !== newMessage.id)\n        : [];\n      const newMessages = [newMessage].concat(otherMessages);\n      const sortedMessages = sortMessages(newMessages);\n      setMessages(sortedMessages);\n    }\n  }\n\n  async function onDeleteMessage(chatId: number, oldMessage: MessageObject) {\n    if (chatId === activeChatId) {\n      const newMessages = messages\n        ? messages.filter((message) => message.id !== oldMessage.id)\n        : [];\n      setMessages(newMessages);\n    }\n  }\n\n  async function onConnect() {\n    fetchSingleChatData();\n  }\n\n  async function onAuthFail() {}\n\n  async function onChatCardClick(activeChatId: number) {\n    setActiveChatId(activeChatId);\n\n    getMessages(\n      host,\n      headers,\n      activeChatId,\n      messageCountIterator,\n      (chatId, messages) => {\n        onGetMessages(chatId, messages);\n        scrollToBottom(0, `ce-message-list-${activeChatId}`);\n      }\n    );\n  }\n\n  async function onMessageFormSubmit(message: MessageObject) {\n    const newMessages = messages?.concat(message);\n    setMessages(newMessages);\n\n    newMessage(host, headers, activeChatId, message, () => {});\n\n    setTimeout(() => {\n      scrollToBottom(333, `ce-message-list-${activeChatId}`);\n    }, 100);\n  }\n\n  async function onBottomMessageShow() {\n    setIsChatFeedAtBottom(true);\n  }\n\n  async function onBottomMessageHide() {\n    setIsChatFeedAtBottom(false);\n  }\n\n  async function onMessageLoaderShow() {\n    const scrollContainerId = `ce-message-list-${activeChatId}`;\n    const messageListId = `ce-message-list-content-${activeChatId}`;\n\n    const currentElement = document.getElementById(messageListId);\n    let currentHeight = currentElement ? currentElement.clientHeight : 0;\n\n    activeChatId &&\n      getMessages(\n        host,\n        headers,\n        activeChatId,\n        messageCountRef.current + messageCountIterator,\n        (chatId, messages) => {\n          onGetMessages(chatId, messages);\n\n          setTimeout(() => {\n            const element = document.getElementById(messageListId);\n            if (element) {\n              animateScroll.scrollTo(element.clientHeight - currentHeight, {\n                duration: 333,\n                containerId: scrollContainerId,\n              });\n            }\n          }, 1000);\n        }\n      );\n  }\n\n  async function onMessageLoaderHide() {}\n\n  async function onIsTyping(id: number, person: PersonObject) {\n    void id, person;\n  }\n\n  return {\n    // Socket Hooks\n    onConnect,\n    onAuthFail,\n    onEditChat,\n    onDeleteChat,\n    onGetMessages,\n    onNewMessage,\n    onEditMessage,\n    onDeleteMessage,\n    onIsTyping,\n    // Auth Data\n    projectId,\n    chatId,\n    chatAccessKey,\n    httpUrl,\n    wsUrl: httpUrl && httpUrl.replace('http', 'ws'),\n    // Chat Data\n    activeChatId,\n    setActiveChatId,\n    chat,\n    messages,\n    setMessages,\n    peopleToInvite,\n    setPeopleToInvite,\n    // Chat State\n    hasMoreChats,\n    setHasMoreChats,\n    hasMoreMessages,\n    setHasMoreMessages,\n    isChatFeedAtBottom,\n    setIsChatFeedAtBottom,\n    isChatFeedLoading,\n    setIsChatFeedLoading,\n    // Component Hooks\n    onChatCardClick,\n    onMessageLoaderShow,\n    onMessageLoaderHide,\n    onBottomMessageShow,\n    onBottomMessageHide,\n    onMessageFormSubmit,\n  };\n};\n","import React from 'react';\n\nimport { Props } from './props';\n\nimport { WebSocket } from 'nextjs-websocket';\n\nexport const ChildSocket: React.FC<Props> = (props: Props) => {\n  const { sessionToken } = props;\n\n  const onMessage = (event: string) => {\n    const eventJSON = JSON.parse(event);\n    if (eventJSON.action === 'new_chat') {\n      props.onNewChat && props.onNewChat(eventJSON.data);\n    } else if (\n      eventJSON.action === 'edit_chat' ||\n      eventJSON.action === 'add_person' ||\n      eventJSON.action === 'remove_person'\n    ) {\n      props.onEditChat && props.onEditChat(eventJSON.data);\n    } else if (eventJSON.action === 'delete_chat') {\n      props.onDeleteChat && props.onDeleteChat(eventJSON.data);\n    } else if (eventJSON.action === 'new_message') {\n      const { id, message } = eventJSON.data;\n      props.onNewMessage && props.onNewMessage(id, message);\n    } else if (eventJSON.action === 'edit_message') {\n      const { id, message } = eventJSON.data;\n      props.onEditMessage && props.onEditMessage(id, message);\n    } else if (eventJSON.action === 'delete_message') {\n      const { id, message } = eventJSON.data;\n      props.onDeleteMessage && props.onDeleteMessage(id, message);\n    } else if (eventJSON.action === 'is_typing') {\n      const { id, person } = eventJSON.data;\n      props.onIsTyping && props.onIsTyping(id, person);\n    }\n  };\n\n  if (!sessionToken) return <div />;\n\n  const wsUrl = props.wsUrl ? props.wsUrl : 'wss://api.chatengine.io';\n\n  return (\n    <WebSocket\n      url={`${wsUrl}/person_v4/?session_token=${sessionToken}`}\n      reconnect={true}\n      reconnectIntervalInMilliSeconds={3000}\n      onOpen={props.onConnect}\n      onError={props.onError}\n      onMessage={onMessage}\n      onClose={() => {\n        props.onClose && props.onClose();\n        props.onRefresh && props.onRefresh();\n      }}\n    />\n  );\n};\n","import React, { useEffect, useState, useRef } from 'react';\n\nimport axios from 'axios';\n\nimport { Props } from './props';\n\nimport { ChildSocket } from './childSocket';\n\nimport { UserAuthHeaders } from '../../interfaces';\n\nconst getSessionToken = (\n  host: string,\n  headers: UserAuthHeaders,\n  callback: (token: string) => void,\n  error: () => void\n) => {\n  axios\n    .get(`${host}/users/me/session/`, { headers })\n    .then((response) => callback(response.data.token))\n    .catch(() => error());\n};\n\nexport const MultiChatSocket: React.FC<Props> = (props: Props) => {\n  const didMountRef = useRef(false);\n  const [isHidden, setIsHidden] = useState(false);\n  const [sessionToken, setToken] = useState<string | undefined>(undefined);\n\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n\n      const host = props.httpUrl ? props.httpUrl : 'https://api.chatengine.io';\n      const headers: UserAuthHeaders = {\n        'Public-Key': props.projectId,\n        'User-Name': props.username,\n        'User-Secret': props.secret,\n      };\n\n      getSessionToken(\n        host,\n        headers,\n        (token) => setToken(token),\n        () => {\n          console.log(\n            `Your login credentials were not correct: \\n\n              Project ID: ${props.projectId} \\n\n              Username: ${props.username} \\n\n              Secret: ${props.secret}\\n\n              Double check these credentials to make sure they're correct.\\n\n              If all three are correct, try resetting the username and secret in the Online Dashboard or Private API.`\n          );\n          props.onAuthFail && props.onAuthFail();\n        }\n      );\n    }\n  }, []);\n\n  async function reRender() {\n    setIsHidden(true);\n    setTimeout(() => setIsHidden(false), 100);\n  }\n\n  if (isHidden && sessionToken) return <div />;\n\n  return (\n    <ChildSocket\n      projectId={props.projectId}\n      username={props.username}\n      secret={props.secret}\n      sessionToken={sessionToken}\n      wsUrl={props.wsUrl}\n      onRefresh={reRender}\n      onConnect={props.onConnect}\n      onError={props.onError}\n      onClose={props.onClose}\n      onNewChat={props.onNewChat}\n      onEditChat={props.onEditChat}\n      onDeleteChat={props.onDeleteChat}\n      onNewMessage={props.onNewMessage}\n      onEditMessage={props.onEditMessage}\n      onDeleteMessage={props.onDeleteMessage}\n      onIsTyping={props.onIsTyping}\n    />\n  );\n};\n","import React, { useEffect, useState } from 'react';\n\nimport { Props } from './props';\n\nimport { WebSocket } from 'nextjs-websocket';\n\nlet socketRef: WebSocket = undefined;\nlet pingIntervalId: NodeJS.Timer;\nlet timeIntervalId: NodeJS.Timer;\n\nconst pingInterval = 4000;\nconst minLag = 15 * 1000;\n\nexport const ChildSocket: React.FC<Props> = (props: Props) => {\n  const [now, setNow] = useState(Date.now());\n  const [shouldPongBy, setShouldPongBy] = useState(Date.now() + minLag);\n\n  const { projectId, chatId, chatAccessKey } = props;\n\n  useEffect(() => {\n    if (now > shouldPongBy) {\n      props.onRefresh && props.onRefresh();\n      setShouldPongBy(Date.now() + minLag);\n    }\n  }, [now, shouldPongBy]);\n\n  useEffect(() => {\n    return () => {\n      clearInterval(pingIntervalId);\n      clearInterval(timeIntervalId);\n    };\n  }, []);\n\n  const onConnect = () => {\n    pingIntervalId = setInterval(() => {\n      try {\n        socketRef.sendMessage(JSON.stringify('ping'));\n      } catch (e) {\n        console.log('Ping error', e);\n      }\n    }, pingInterval);\n    timeIntervalId = setInterval(() => setNow(Date.now()), 1000);\n\n    props.onConnect && props.onConnect();\n  };\n\n  const onMessage = (event: string) => {\n    const eventJSON = JSON.parse(event);\n\n    if (eventJSON.action === 'pong') {\n      setShouldPongBy(Date.now() + minLag);\n    } else if (eventJSON.action === 'login_error') {\n      console.log(\n        `Your chat auth credentials were not correct: \\n\n                Project ID: ${projectId} \\n\n                Chat ID: ${chatId} \\n\n                Chat Access Key: ${chatAccessKey}\\n\n                Double check these credentials to make sure they're correct.\\n\n                If all three are correct, try resetting the username and secret in the Online Dashboard or Private API.`\n      );\n      props.onAuthFail && props.onAuthFail();\n    } else if (\n      eventJSON.action === 'edit_chat' ||\n      eventJSON.action === 'add_person' ||\n      eventJSON.action === 'remove_person'\n    ) {\n      props.onEditChat && props.onEditChat(eventJSON.data);\n    } else if (eventJSON.action === 'delete_chat') {\n      props.onDeleteChat && props.onDeleteChat(eventJSON.data);\n    } else if (eventJSON.action === 'new_message') {\n      const { id, message } = eventJSON.data;\n      props.onNewMessage && props.onNewMessage(id, message);\n    } else if (eventJSON.action === 'edit_message') {\n      const { id, message } = eventJSON.data;\n      props.onEditMessage && props.onEditMessage(id, message);\n    } else if (eventJSON.action === 'delete_message') {\n      const { id, message } = eventJSON.data;\n      props.onDeleteMessage && props.onDeleteMessage(id, message);\n    } else if (eventJSON.action === 'is_typing') {\n      const { id, person } = eventJSON.data;\n      props.onIsTyping && props.onIsTyping(id, person);\n    }\n  };\n\n  const wsUrl = props.wsUrl ? props.wsUrl : 'wss://api.chatengine.io';\n\n  return (\n    <WebSocket\n      url={`${wsUrl}/chat/?projectID=${projectId}&chatID=${chatId}&accessKey=${chatAccessKey}`}\n      reconnect={true}\n      reconnectIntervalInMilliSeconds={3000}\n      childRef={(ref: WebSocket) => (socketRef = ref)}\n      onOpen={onConnect}\n      onError={props.onError}\n      onMessage={onMessage}\n      onClose={() => {\n        props.onClose && props.onClose();\n        props.onRefresh && props.onRefresh();\n      }}\n    />\n  );\n};\n","import React, { useState, useEffect, useRef } from 'react';\n\nimport { Props } from './props';\n\nimport { ChildSocket } from './childSocket';\n\nexport const SingleChatSocket: React.FC<Props> = (props: Props) => {\n  const didMountRef = useRef(false);\n  const [isHidden, setIsHidden] = useState(false);\n\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n    }\n  }, []);\n\n  async function reRender() {\n    setIsHidden(true);\n    setTimeout(() => setIsHidden(false), 100);\n  }\n\n  if (isHidden) return <div />;\n\n  return (\n    <ChildSocket\n      projectId={props.projectId}\n      chatId={props.chatId}\n      chatAccessKey={props.chatAccessKey}\n      wsUrl={props.wsUrl}\n      onRefresh={reRender}\n      onConnect={props.onConnect}\n      onAuthFail={props.onAuthFail}\n      onError={props.onError}\n      onClose={props.onClose}\n      onEditChat={props.onEditChat}\n      onDeleteChat={props.onDeleteChat}\n      onNewMessage={props.onNewMessage}\n      onEditMessage={props.onEditMessage}\n      onDeleteMessage={props.onDeleteMessage}\n      onIsTyping={props.onIsTyping}\n    />\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}